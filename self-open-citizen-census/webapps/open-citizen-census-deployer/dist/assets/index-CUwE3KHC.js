var Ve=Object.defineProperty;var bt=n=>{throw TypeError(n)};var ze=(n,f,t)=>f in n?Ve(n,f,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[f]=t;var p=(n,f,t)=>ze(n,typeof f!="symbol"?f+"":f,t),Vf=(n,f,t)=>f.has(n)||bt("Cannot "+t);var u=(n,f,t)=>(Vf(n,f,"read from private field"),t?t.call(n):f.get(n)),B=(n,f,t)=>f.has(n)?bt("Cannot add the same private member more than once"):f instanceof WeakSet?f.add(n):f.set(n,t),E=(n,f,t,e)=>(Vf(n,f,"write to private field"),e?e.call(n,t):f.set(n,t),t),N=(n,f,t)=>(Vf(n,f,"access private method"),t);var dt=(n,f,t,e)=>({set _(r){E(n,f,r,t)},get _(){return u(n,f,e)}});(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const Je="6.16.0";function Ge(n,f,t){const e=f.split("|").map(s=>s.trim());for(let s=0;s<e.length;s++)switch(f){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===f)return}const r=new Error(`invalid value for type ${f}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${t}`,r.value=n,r}function I(n,f,t){for(let e in f){let r=f[e];const s=t?t[e]:null;s&&Ge(r,s,e),Object.defineProperty(n,e,{enumerable:!0,value:r,writable:!1})}}function V0(n,f){if(n==null)return"null";if(f==null&&(f=new Set),typeof n=="object"){if(f.has(n))return"[Circular]";f.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>V0(t,f)).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let e="0x";for(let r=0;r<n.length;r++)e+=t[n[r]>>4],e+=t[n[r]&15];return e}if(typeof n=="object"&&typeof n.toJSON=="function")return V0(n.toJSON(),f);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(e=>`${V0(e,f)}: ${V0(n[e],f)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ht(n,f){return n&&n.code===f}function Jt(n,f,t){let e=n;{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${V0(t)}`);for(const i in t){if(i==="shortMessage")continue;const o=t[i];s.push(i+"="+V0(o))}}s.push(`code=${f}`),s.push(`version=${Je}`),s.length&&(n+=" ("+s.join(", ")+")")}let r;switch(f){case"INVALID_ARGUMENT":r=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(n);break;default:r=new Error(n)}return I(r,{code:f}),t&&Object.assign(r,t),r.shortMessage==null&&I(r,{shortMessage:e}),r}function O(n,f,t,e){if(!n)throw Jt(f,t,e)}function h(n,f,t,e){O(n,f,"INVALID_ARGUMENT",{argument:t,value:e})}function Gt(n,f,t){t==null&&(t=""),t&&(t=": "+t),O(n>=f,"missing argument"+t,"MISSING_ARGUMENT",{count:n,expectedCount:f}),O(n<=f,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:f})}["NFD","NFC","NFKD","NFKC"].reduce((n,f)=>{try{if("test".normalize(f)!=="test")throw new Error("bad");if(f==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");n.push(f)}catch{}return n},[]);function tt(n,f,t){if(t==null&&(t=""),n!==f){let e=t,r="new";t&&(e+=".",r+=" "+t),O(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function Wt(n,f,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){const e=new Uint8Array((n.length-2)/2);let r=2;for(let s=0;s<e.length;s++)e[s]=parseInt(n.substring(r,r+2),16),r+=2;return e}h(!1,"invalid BytesLike value",f||"value",n)}function n0(n,f){return Wt(n,f,!1)}function f0(n,f){return Wt(n,f,!0)}function yf(n,f){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof f=="number"&&n.length!==2+2*f||f===!0&&n.length%2!==0)}const pt="0123456789abcdef";function T(n){const f=n0(n);let t="0x";for(let e=0;e<f.length;e++){const r=f[e];t+=pt[(r&240)>>4]+pt[r&15]}return t}function G0(n){return"0x"+n.map(f=>T(f).substring(2)).join("")}function D0(n,f,t){const e=n0(n);return t!=null&&t>e.length&&O(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t}),T(e.slice(f??0,t??e.length))}function Kt(n,f,t){const e=n0(n);O(f>=e.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(e),length:f,offset:f+1});const r=new Uint8Array(f);return r.fill(0),t?r.set(e,f-e.length):r.set(e,0),T(r)}function We(n,f){return Kt(n,f,!0)}function Ke(n,f){return Kt(n,f,!1)}const df=BigInt(0),J=BigInt(1),z0=9007199254740991;function Xe(n,f){const t=_f(n,"value"),e=BigInt(k0(f,"width"));if(O(t>>e===df,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>e-J){const r=(J<<e)-J;return-((~t&r)+J)}return t}function qe(n,f){let t=ff(n,"value");const e=BigInt(k0(f,"width")),r=J<<e-J;if(t<df){t=-t,O(t<=r,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const s=(J<<e)-J;return(~t&s)+J}else O(t<r,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function mf(n,f){const t=_f(n,"value"),e=BigInt(k0(f,"bits"));return t&(J<<e)-J}function ff(n,f){switch(typeof n){case"bigint":return n;case"number":return h(Number.isInteger(n),"underflow",f||"value",n),h(n>=-z0&&n<=z0,"overflow",f||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){h(!1,`invalid BigNumberish string: ${t.message}`,f||"value",n)}}h(!1,"invalid BigNumberish value",f||"value",n)}function _f(n,f){const t=ff(n,f);return O(t>=df,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const gt="0123456789abcdef";function Xt(n){if(n instanceof Uint8Array){let f="0x0";for(const t of n)f+=gt[t>>4],f+=gt[t&15];return BigInt(f)}return ff(n)}function k0(n,f){switch(typeof n){case"bigint":return h(n>=-z0&&n<=z0,"overflow",f||"value",n),Number(n);case"number":return h(Number.isInteger(n),"underflow",f||"value",n),h(n>=-z0&&n<=z0,"overflow",f||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return k0(BigInt(n),f)}catch(t){h(!1,`invalid numeric string: ${t.message}`,f||"value",n)}}h(!1,"invalid numeric value",f||"value",n)}function Ye(n){return k0(Xt(n))}function qt(n,f){const t=_f(n,"value");let e=t.toString(16);if(f==null)e.length%2&&(e="0"+e);else{const r=k0(f,"width");if(r===0&&t===df)return"0x";for(O(r*2>=e.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});e.length<r*2;)e="0"+e}return"0x"+e}function Ze(n,f){const t=_f(n,"value");if(t===df)return new Uint8Array(0);let e=t.toString(16);e.length%2&&(e="0"+e);const r=new Uint8Array(e.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(e.substring(i,i+2),16)}return r}function Qe(n,f,t,e,r){h(!1,`invalid codepoint at offset ${f}; ${n}`,"bytes",t)}function Yt(n,f,t,e,r){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let s=0;for(let i=f+1;i<t.length&&t[i]>>6===2;i++)s++;return s}return n==="OVERRUN"?t.length-f-1:0}function je(n,f,t,e,r){return n==="OVERLONG"?(h(typeof r=="number","invalid bad code point for replacement","badCodepoint",r),e.push(r),0):(e.push(65533),Yt(n,f,t))}const fn=Object.freeze({error:Qe,ignore:Yt,replace:je});function tn(n,f){f==null&&(f=fn.error);const t=n0(n,"bytes"),e=[];let r=0;for(;r<t.length;){const s=t[r++];if(!(s>>7)){e.push(s);continue}let i=null,o=null;if((s&224)===192)i=1,o=127;else if((s&240)===224)i=2,o=2047;else if((s&248)===240)i=3,o=65535;else{(s&192)===128?r+=f("UNEXPECTED_CONTINUE",r-1,t,e):r+=f("BAD_PREFIX",r-1,t,e);continue}if(r-1+i>=t.length){r+=f("OVERRUN",r-1,t,e);continue}let a=s&(1<<8-i-1)-1;for(let c=0;c<i;c++){let l=t[r];if((l&192)!=128){r+=f("MISSING_CONTINUE",r,t,e),a=null;break}a=a<<6|l&63,r++}if(a!==null){if(a>1114111){r+=f("OUT_OF_RANGE",r-1-i,t,e,a);continue}if(a>=55296&&a<=57343){r+=f("UTF16_SURROGATE",r-1-i,t,e,a);continue}if(a<=o){r+=f("OVERLONG",r-1-i,t,e,a);continue}e.push(a)}}return e}function Zt(n,f){h(typeof n=="string","invalid string value","str",n);let t=[];for(let e=0;e<n.length;e++){const r=n.charCodeAt(e);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192),t.push(r&63|128);else if((r&64512)==55296){e++;const s=n.charCodeAt(e);h(e<n.length&&(s&64512)===56320,"invalid surrogate pair","str",n);const i=65536+((r&1023)<<10)+(s&1023);t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(i&63|128)}else t.push(r>>12|224),t.push(r>>6&63|128),t.push(r&63|128)}return new Uint8Array(t)}function en(n){return n.map(f=>f<=65535?String.fromCharCode(f):(f-=65536,String.fromCharCode((f>>10&1023)+55296,(f&1023)+56320))).join("")}function nn(n,f){return en(tn(n,f))}const R=32,Wf=new Uint8Array(R),rn=["then"],wf={},Qt=new WeakMap;function O0(n){return Qt.get(n)}function yt(n,f){Qt.set(n,f)}function sf(n,f){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=f,t}function Kf(n,f,t){return n.indexOf(null)>=0?f.map((e,r)=>e instanceof q0?Kf(O0(e),e,t):e):n.reduce((e,r,s)=>{let i=f.getValue(r);return r in e||(t&&i instanceof q0&&(i=Kf(O0(i),i,t)),e[r]=i),e},{})}var W0;const J0=class J0 extends Array{constructor(...t){const e=t[0];let r=t[1],s=(t[2]||[]).slice(),i=!0;e!==wf&&(r=t,s=[],i=!1);super(r.length);B(this,W0);r.forEach((c,l)=>{this[l]=c});const o=s.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(yt(this,Object.freeze(r.map((c,l)=>{const b=s[l];return b!=null&&o.get(b)===1?b:null}))),E(this,W0,[]),u(this,W0)==null&&u(this,W0),!i)return;Object.freeze(this);const a=new Proxy(this,{get:(c,l,b)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const g=k0(l,"%index");if(g<0||g>=this.length)throw new RangeError("out of result range");const k=c[g];return k instanceof Error&&sf(`index ${g}`,k),k}if(rn.indexOf(l)>=0)return Reflect.get(c,l,b);const m=c[l];if(m instanceof Function)return function(...g){return m.apply(this===b?c:this,g)};if(!(l in c))return c.getValue.apply(this===b?c:this,[l])}return Reflect.get(c,l,b)}});return yt(a,O0(this)),a}toArray(t){const e=[];return this.forEach((r,s)=>{r instanceof Error&&sf(`index ${s}`,r),t&&r instanceof J0&&(r=r.toArray(t)),e.push(r)}),e}toObject(t){const e=O0(this);return e.reduce((r,s,i)=>(O(s!=null,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Kf(e,this,t)),{})}slice(t,e){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),e==null&&(e=this.length),e<0&&(e+=this.length,e<0&&(e=0)),e>this.length&&(e=this.length);const r=O0(this),s=[],i=[];for(let o=t;o<e;o++)s.push(this[o]),i.push(r[o]);return new J0(wf,s,i)}filter(t,e){const r=O0(this),s=[],i=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&sf(`index ${o}`,a),t.call(e,a,o,this)&&(s.push(a),i.push(r[o]))}return new J0(wf,s,i)}map(t,e){const r=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&sf(`index ${s}`,i),r.push(t.call(e,i,s,this))}return r}getValue(t){const e=O0(this).indexOf(t);if(e===-1)return;const r=this[e];return r instanceof Error&&sf(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,e){return new J0(wf,t,e)}};W0=new WeakMap;let q0=J0;function mt(n){let f=Ze(n);return O(f.length<=R,"value out-of-bounds","BUFFER_OVERRUN",{buffer:f,length:R,offset:f.length}),f.length!==R&&(f=f0(G0([Wf.slice(f.length%R),f]))),f}class h0{constructor(f,t,e,r){p(this,"name");p(this,"type");p(this,"localName");p(this,"dynamic");I(this,{name:f,type:t,localName:e,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(f,t){h(!1,f,this.localName,t)}}var c0,_0,K0,Af;class Xf{constructor(){B(this,K0);B(this,c0);B(this,_0);E(this,c0,[]),E(this,_0,0)}get data(){return G0(u(this,c0))}get length(){return u(this,_0)}appendWriter(f){return N(this,K0,Af).call(this,f0(f.data))}writeBytes(f){let t=f0(f);const e=t.length%R;return e&&(t=f0(G0([t,Wf.slice(e)]))),N(this,K0,Af).call(this,t)}writeValue(f){return N(this,K0,Af).call(this,mt(f))}writeUpdatableValue(){const f=u(this,c0).length;return u(this,c0).push(Wf),E(this,_0,u(this,_0)+R),t=>{u(this,c0)[f]=mt(t)}}}c0=new WeakMap,_0=new WeakMap,K0=new WeakSet,Af=function(f){return u(this,c0).push(f),E(this,_0,u(this,_0)+f.length),f.length};var P,M,L0,U0,A0,H0,Yf,jt;const ut=class ut{constructor(f,t,e){B(this,H0);p(this,"allowLoose");B(this,P);B(this,M);B(this,L0);B(this,U0);B(this,A0);I(this,{allowLoose:!!t}),E(this,P,f0(f)),E(this,L0,0),E(this,U0,null),E(this,A0,e??1024),E(this,M,0)}get data(){return T(u(this,P))}get dataLength(){return u(this,P).length}get consumed(){return u(this,M)}get bytes(){return new Uint8Array(u(this,P))}subReader(f){const t=new ut(u(this,P).slice(u(this,M)+f),this.allowLoose,u(this,A0));return E(t,U0,this),t}readBytes(f,t){let e=N(this,H0,jt).call(this,0,f,!!t);return N(this,H0,Yf).call(this,f),E(this,M,u(this,M)+e.length),e.slice(0,f)}readValue(){return Xt(this.readBytes(R))}readIndex(){return Ye(this.readBytes(R))}};P=new WeakMap,M=new WeakMap,L0=new WeakMap,U0=new WeakMap,A0=new WeakMap,H0=new WeakSet,Yf=function(f){var t;if(u(this,U0))return N(t=u(this,U0),H0,Yf).call(t,f);E(this,L0,u(this,L0)+f),O(u(this,A0)<1||u(this,L0)<=u(this,A0)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${u(this,A0)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:f0(u(this,P)),offset:u(this,M),length:f,info:{bytesRead:u(this,L0),dataLength:this.dataLength}})},jt=function(f,t,e){let r=Math.ceil(t/R)*R;return u(this,M)+r>u(this,P).length&&(this.allowLoose&&e&&u(this,M)+t<=u(this,P).length?r=t:O(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:f0(u(this,P)),length:u(this,P).length,offset:u(this,M)+r})),u(this,P).slice(u(this,M),u(this,M)+r)};let qf=ut;function wt(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function fe(n,...f){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(f.length>0&&!f.includes(n.length))throw new Error(`Expected Uint8Array of length ${f}, not of length=${n.length}`)}function kf(n,f=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(f&&n.finished)throw new Error("Hash#digest() has already been called")}function te(n,f){fe(n);const t=f.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sn=n=>n instanceof Uint8Array,on=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),zf=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),X=(n,f)=>n<<32-f|n>>>f,an=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!an)throw new Error("Non little-endian hardware is not supported");function cn(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function et(n){if(typeof n=="string"&&(n=cn(n)),!sn(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}class ee{clone(){return this._cloneInto()}}function nt(n){const f=e=>n().update(et(e)).digest(),t=n();return f.outputLen=t.outputLen,f.blockLen=t.blockLen,f.create=()=>n(),f}function un(n,f,t,e){if(typeof n.setBigUint64=="function")return n.setBigUint64(f,t,e);const r=BigInt(32),s=BigInt(4294967295),i=Number(t>>r&s),o=Number(t&s),a=e?4:0,c=e?0:4;n.setUint32(f+a,i,e),n.setUint32(f+c,o,e)}class ne extends ee{constructor(f,t,e,r){super(),this.blockLen=f,this.outputLen=t,this.padOffset=e,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(f),this.view=zf(this.buffer)}update(f){kf(this);const{view:t,buffer:e,blockLen:r}=this;f=et(f);const s=f.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){const a=zf(f);for(;r<=s-i;i+=r)this.process(a,i);continue}e.set(f.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=f.length,this.roundClean(),this}digestInto(f){kf(this),te(f,this),this.finished=!0;const{buffer:t,view:e,blockLen:r,isLE:s}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(e,0),i=0);for(let b=i;b<r;b++)t[b]=0;un(e,r-8,BigInt(this.length*8),s),this.process(e,0);const o=zf(f),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<c;b++)o.setUint32(4*b,l[b],s)}digest(){const{buffer:f,outputLen:t}=this;this.digestInto(f);const e=f.slice(0,t);return this.destroy(),e}_cloneInto(f){f||(f=new this.constructor),f.set(...this.get());const{blockLen:t,buffer:e,length:r,finished:s,destroyed:i,pos:o}=this;return f.length=r,f.pos=o,f.finished=s,f.destroyed=i,r%t&&f.buffer.set(e),f}}const ln=(n,f,t)=>n&f^~n&t,bn=(n,f,t)=>n&f^n&t^f&t,dn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),y0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),m0=new Uint32Array(64);class hn extends ne{constructor(){super(64,32,8,!1),this.A=y0[0]|0,this.B=y0[1]|0,this.C=y0[2]|0,this.D=y0[3]|0,this.E=y0[4]|0,this.F=y0[5]|0,this.G=y0[6]|0,this.H=y0[7]|0}get(){const{A:f,B:t,C:e,D:r,E:s,F:i,G:o,H:a}=this;return[f,t,e,r,s,i,o,a]}set(f,t,e,r,s,i,o,a){this.A=f|0,this.B=t|0,this.C=e|0,this.D=r|0,this.E=s|0,this.F=i|0,this.G=o|0,this.H=a|0}process(f,t){for(let b=0;b<16;b++,t+=4)m0[b]=f.getUint32(t,!1);for(let b=16;b<64;b++){const m=m0[b-15],g=m0[b-2],k=X(m,7)^X(m,18)^m>>>3,x=X(g,17)^X(g,19)^g>>>10;m0[b]=x+m0[b-7]+k+m0[b-16]|0}let{A:e,B:r,C:s,D:i,E:o,F:a,G:c,H:l}=this;for(let b=0;b<64;b++){const m=X(o,6)^X(o,11)^X(o,25),g=l+m+ln(o,a,c)+dn[b]+m0[b]|0,x=(X(e,2)^X(e,13)^X(e,22))+bn(e,r,s)|0;l=c,c=a,a=o,o=i+g|0,i=s,s=r,r=e,e=g+x|0}e=e+this.A|0,r=r+this.B|0,s=s+this.C|0,i=i+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(e,r,s,i,o,a,c,l)}roundClean(){m0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const pn=nt(()=>new hn),xf=BigInt(2**32-1),Zf=BigInt(32);function re(n,f=!1){return f?{h:Number(n&xf),l:Number(n>>Zf&xf)}:{h:Number(n>>Zf&xf)|0,l:Number(n&xf)|0}}function se(n,f=!1){let t=new Uint32Array(n.length),e=new Uint32Array(n.length);for(let r=0;r<n.length;r++){const{h:s,l:i}=re(n[r],f);[t[r],e[r]]=[s,i]}return[t,e]}const gn=(n,f)=>BigInt(n>>>0)<<Zf|BigInt(f>>>0),yn=(n,f,t)=>n>>>t,mn=(n,f,t)=>n<<32-t|f>>>t,wn=(n,f,t)=>n>>>t|f<<32-t,xn=(n,f,t)=>n<<32-t|f>>>t,En=(n,f,t)=>n<<64-t|f>>>t-32,An=(n,f,t)=>n>>>t-32|f<<64-t,In=(n,f)=>f,Nn=(n,f)=>n,ie=(n,f,t)=>n<<t|f>>>32-t,oe=(n,f,t)=>f<<t|n>>>32-t,ae=(n,f,t)=>f<<t-32|n>>>64-t,ce=(n,f,t)=>n<<t-32|f>>>64-t;function Cn(n,f,t,e){const r=(f>>>0)+(e>>>0);return{h:n+t+(r/2**32|0)|0,l:r|0}}const kn=(n,f,t)=>(n>>>0)+(f>>>0)+(t>>>0),Bn=(n,f,t,e)=>f+t+e+(n/2**32|0)|0,On=(n,f,t,e)=>(n>>>0)+(f>>>0)+(t>>>0)+(e>>>0),Sn=(n,f,t,e,r)=>f+t+e+r+(n/2**32|0)|0,Tn=(n,f,t,e,r)=>(n>>>0)+(f>>>0)+(t>>>0)+(e>>>0)+(r>>>0),_n=(n,f,t,e,r,s)=>f+t+e+r+s+(n/2**32|0)|0,y={fromBig:re,split:se,toBig:gn,shrSH:yn,shrSL:mn,rotrSH:wn,rotrSL:xn,rotrBH:En,rotrBL:An,rotr32H:In,rotr32L:Nn,rotlSH:ie,rotlSL:oe,rotlBH:ae,rotlBL:ce,add:Cn,add3L:kn,add3H:Bn,add4L:On,add4H:Sn,add5H:_n,add5L:Tn},[Ln,Un]=y.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),w0=new Uint32Array(80),x0=new Uint32Array(80);class Rn extends ne{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:f,Al:t,Bh:e,Bl:r,Ch:s,Cl:i,Dh:o,Dl:a,Eh:c,El:l,Fh:b,Fl:m,Gh:g,Gl:k,Hh:x,Hl:$}=this;return[f,t,e,r,s,i,o,a,c,l,b,m,g,k,x,$]}set(f,t,e,r,s,i,o,a,c,l,b,m,g,k,x,$){this.Ah=f|0,this.Al=t|0,this.Bh=e|0,this.Bl=r|0,this.Ch=s|0,this.Cl=i|0,this.Dh=o|0,this.Dl=a|0,this.Eh=c|0,this.El=l|0,this.Fh=b|0,this.Fl=m|0,this.Gh=g|0,this.Gl=k|0,this.Hh=x|0,this.Hl=$|0}process(f,t){for(let A=0;A<16;A++,t+=4)w0[A]=f.getUint32(t),x0[A]=f.getUint32(t+=4);for(let A=16;A<80;A++){const p0=w0[A-15]|0,g0=x0[A-15]|0,Ff=y.rotrSH(p0,g0,1)^y.rotrSH(p0,g0,8)^y.shrSH(p0,g0,7),Hf=y.rotrSL(p0,g0,1)^y.rotrSL(p0,g0,8)^y.shrSL(p0,g0,7),r0=w0[A-2]|0,s0=x0[A-2]|0,pf=y.rotrSH(r0,s0,19)^y.rotrBH(r0,s0,61)^y.shrSH(r0,s0,6),Df=y.rotrSL(r0,s0,19)^y.rotrBL(r0,s0,61)^y.shrSL(r0,s0,6),gf=y.add4L(Hf,Df,x0[A-7],x0[A-16]),Mf=y.add4H(gf,Ff,pf,w0[A-7],w0[A-16]);w0[A]=Mf|0,x0[A]=gf|0}let{Ah:e,Al:r,Bh:s,Bl:i,Ch:o,Cl:a,Dh:c,Dl:l,Eh:b,El:m,Fh:g,Fl:k,Gh:x,Gl:$,Hh:nf,Hl:rf}=this;for(let A=0;A<80;A++){const p0=y.rotrSH(b,m,14)^y.rotrSH(b,m,18)^y.rotrBH(b,m,41),g0=y.rotrSL(b,m,14)^y.rotrSL(b,m,18)^y.rotrBL(b,m,41),Ff=b&g^~b&x,Hf=m&k^~m&$,r0=y.add5L(rf,g0,Hf,Un[A],x0[A]),s0=y.add5H(r0,nf,p0,Ff,Ln[A],w0[A]),pf=r0|0,Df=y.rotrSH(e,r,28)^y.rotrBH(e,r,34)^y.rotrBH(e,r,39),gf=y.rotrSL(e,r,28)^y.rotrBL(e,r,34)^y.rotrBL(e,r,39),Mf=e&s^e&o^s&o,Me=r&i^r&a^i&a;nf=x|0,rf=$|0,x=g|0,$=k|0,g=b|0,k=m|0,{h:b,l:m}=y.add(c|0,l|0,s0|0,pf|0),c=o|0,l=a|0,o=s|0,a=i|0,s=e|0,i=r|0;const lt=y.add3L(pf,gf,Me);e=y.add3H(lt,s0,Df,Mf),r=lt|0}({h:e,l:r}=y.add(this.Ah|0,this.Al|0,e|0,r|0)),{h:s,l:i}=y.add(this.Bh|0,this.Bl|0,s|0,i|0),{h:o,l:a}=y.add(this.Ch|0,this.Cl|0,o|0,a|0),{h:c,l}=y.add(this.Dh|0,this.Dl|0,c|0,l|0),{h:b,l:m}=y.add(this.Eh|0,this.El|0,b|0,m|0),{h:g,l:k}=y.add(this.Fh|0,this.Fl|0,g|0,k|0),{h:x,l:$}=y.add(this.Gh|0,this.Gl|0,x|0,$|0),{h:nf,l:rf}=y.add(this.Hh|0,this.Hl|0,nf|0,rf|0),this.set(e,r,s,i,o,a,c,l,b,m,g,k,x,$,nf,rf)}roundClean(){w0.fill(0),x0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const vn=nt(()=>new Rn);function $n(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const xt=$n();xt.crypto||xt.msCrypto;function Pn(n){switch(n){case"sha256":return pn.create();case"sha512":return vn.create()}h(!1,"invalid hashing algorithm name","algorithm",n)}const[ue,le,be]=[[],[],[]],Fn=BigInt(0),of=BigInt(1),Hn=BigInt(2),Dn=BigInt(7),Mn=BigInt(256),Vn=BigInt(113);for(let n=0,f=of,t=1,e=0;n<24;n++){[t,e]=[e,(2*t+3*e)%5],ue.push(2*(5*e+t)),le.push((n+1)*(n+2)/2%64);let r=Fn;for(let s=0;s<7;s++)f=(f<<of^(f>>Dn)*Vn)%Mn,f&Hn&&(r^=of<<(of<<BigInt(s))-of);be.push(r)}const[zn,Jn]=se(be,!0),Et=(n,f,t)=>t>32?ae(n,f,t):ie(n,f,t),At=(n,f,t)=>t>32?ce(n,f,t):oe(n,f,t);function Gn(n,f=24){const t=new Uint32Array(10);for(let e=24-f;e<24;e++){for(let i=0;i<10;i++)t[i]=n[i]^n[i+10]^n[i+20]^n[i+30]^n[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,a=(i+2)%10,c=t[a],l=t[a+1],b=Et(c,l,1)^t[o],m=At(c,l,1)^t[o+1];for(let g=0;g<50;g+=10)n[i+g]^=b,n[i+g+1]^=m}let r=n[2],s=n[3];for(let i=0;i<24;i++){const o=le[i],a=Et(r,s,o),c=At(r,s,o),l=ue[i];r=n[l],s=n[l+1],n[l]=a,n[l+1]=c}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)t[o]=n[i+o];for(let o=0;o<10;o++)n[i+o]^=~t[(o+2)%10]&t[(o+4)%10]}n[0]^=zn[e],n[1]^=Jn[e]}t.fill(0)}class rt extends ee{constructor(f,t,e,r=!1,s=24){if(super(),this.blockLen=f,this.suffix=t,this.outputLen=e,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,wt(e),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=on(this.state)}keccak(){Gn(this.state32,this.rounds),this.posOut=0,this.pos=0}update(f){kf(this);const{blockLen:t,state:e}=this;f=et(f);const r=f.length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let o=0;o<i;o++)e[this.pos++]^=f[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:f,suffix:t,pos:e,blockLen:r}=this;f[e]^=t,t&128&&e===r-1&&this.keccak(),f[r-1]^=128,this.keccak()}writeInto(f){kf(this,!1),fe(f),this.finish();const t=this.state,{blockLen:e}=this;for(let r=0,s=f.length;r<s;){this.posOut>=e&&this.keccak();const i=Math.min(e-this.posOut,s-r);f.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return f}xofInto(f){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(f)}xof(f){return wt(f),this.xofInto(new Uint8Array(f))}digestInto(f){if(te(f,this),this.finished)throw new Error("digest() was already called");return this.writeInto(f),this.destroy(),f}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(f){const{blockLen:t,suffix:e,outputLen:r,rounds:s,enableXOF:i}=this;return f||(f=new rt(t,e,r,i,s)),f.state32.set(this.state32),f.pos=this.pos,f.posOut=this.posOut,f.finished=this.finished,f.rounds=s,f.suffix=e,f.outputLen=r,f.enableXOF=i,f.destroyed=this.destroyed,f}}const Wn=(n,f,t)=>nt(()=>new rt(f,n,t)),Kn=Wn(1,136,256/8);let de=!1;const he=function(n){return Kn(n)};let pe=he;function C0(n){const f=n0(n,"data");return T(pe(f))}C0._=he;C0.lock=function(){de=!0};C0.register=function(n){if(de)throw new TypeError("keccak256 is locked");pe=n};Object.freeze(C0);const ge=function(n){return Pn("sha256").update(n).digest()};let ye=ge,me=!1;function tf(n){const f=n0(n,"data");return T(ye(f))}tf._=ge;tf.lock=function(){me=!0};tf.register=function(n){if(me)throw new Error("sha256 is locked");ye=n};Object.freeze(tf);Object.freeze(tf);const Xn=BigInt(0),qn=BigInt(36);function It(n){n=n.toLowerCase();const f=n.substring(2).split(""),t=new Uint8Array(40);for(let r=0;r<40;r++)t[r]=f[r].charCodeAt(0);const e=n0(C0(t));for(let r=0;r<40;r+=2)e[r>>1]>>4>=8&&(f[r]=f[r].toUpperCase()),(e[r>>1]&15)>=8&&(f[r+1]=f[r+1].toUpperCase());return"0x"+f.join("")}const st={};for(let n=0;n<10;n++)st[String(n)]=String(n);for(let n=0;n<26;n++)st[String.fromCharCode(65+n)]=String(10+n);const Nt=15;function Yn(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let f=n.split("").map(e=>st[e]).join("");for(;f.length>=Nt;){let e=f.substring(0,Nt);f=parseInt(e,10)%97+f.substring(e.length)}let t=String(98-parseInt(f,10)%97);for(;t.length<2;)t="0"+t;return t}const Zn=function(){const n={};for(let f=0;f<36;f++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[f];n[t]=BigInt(f)}return n}();function Qn(n){n=n.toLowerCase();let f=Xn;for(let t=0;t<n.length;t++)f=f*qn+Zn[n[t]];return f}function Bf(n){if(h(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const f=It(n);return h(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||f===n,"bad address checksum","address",n),f}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){h(n.substring(2,4)===Yn(n),"bad icap checksum","address",n);let f=Qn(n.substring(4)).toString(16);for(;f.length<40;)f="0"+f;return It("0x"+f)}h(!1,"invalid address","address",n)}const i0={};function d(n,f){let t=!1;return f<0&&(t=!0,f*=-1),new H(i0,`${t?"":"u"}int${f}`,n,{signed:t,width:f})}function w(n,f){return new H(i0,`bytes${f||""}`,n,{size:f})}const Ct=Symbol.for("_ethers_typed");var R0;const o0=class o0{constructor(f,t,e,r){p(this,"type");p(this,"value");B(this,R0);p(this,"_typedSymbol");r==null&&(r=null),tt(i0,f,"Typed"),I(this,{_typedSymbol:Ct,type:t,value:e}),E(this,R0,r),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(f=>f.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return u(this,R0)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return u(this,R0)===!0?-1:u(this,R0)===!1?this.value.length:null}static from(f,t){return new o0(i0,f,t)}static uint8(f){return d(f,8)}static uint16(f){return d(f,16)}static uint24(f){return d(f,24)}static uint32(f){return d(f,32)}static uint40(f){return d(f,40)}static uint48(f){return d(f,48)}static uint56(f){return d(f,56)}static uint64(f){return d(f,64)}static uint72(f){return d(f,72)}static uint80(f){return d(f,80)}static uint88(f){return d(f,88)}static uint96(f){return d(f,96)}static uint104(f){return d(f,104)}static uint112(f){return d(f,112)}static uint120(f){return d(f,120)}static uint128(f){return d(f,128)}static uint136(f){return d(f,136)}static uint144(f){return d(f,144)}static uint152(f){return d(f,152)}static uint160(f){return d(f,160)}static uint168(f){return d(f,168)}static uint176(f){return d(f,176)}static uint184(f){return d(f,184)}static uint192(f){return d(f,192)}static uint200(f){return d(f,200)}static uint208(f){return d(f,208)}static uint216(f){return d(f,216)}static uint224(f){return d(f,224)}static uint232(f){return d(f,232)}static uint240(f){return d(f,240)}static uint248(f){return d(f,248)}static uint256(f){return d(f,256)}static uint(f){return d(f,256)}static int8(f){return d(f,-8)}static int16(f){return d(f,-16)}static int24(f){return d(f,-24)}static int32(f){return d(f,-32)}static int40(f){return d(f,-40)}static int48(f){return d(f,-48)}static int56(f){return d(f,-56)}static int64(f){return d(f,-64)}static int72(f){return d(f,-72)}static int80(f){return d(f,-80)}static int88(f){return d(f,-88)}static int96(f){return d(f,-96)}static int104(f){return d(f,-104)}static int112(f){return d(f,-112)}static int120(f){return d(f,-120)}static int128(f){return d(f,-128)}static int136(f){return d(f,-136)}static int144(f){return d(f,-144)}static int152(f){return d(f,-152)}static int160(f){return d(f,-160)}static int168(f){return d(f,-168)}static int176(f){return d(f,-176)}static int184(f){return d(f,-184)}static int192(f){return d(f,-192)}static int200(f){return d(f,-200)}static int208(f){return d(f,-208)}static int216(f){return d(f,-216)}static int224(f){return d(f,-224)}static int232(f){return d(f,-232)}static int240(f){return d(f,-240)}static int248(f){return d(f,-248)}static int256(f){return d(f,-256)}static int(f){return d(f,-256)}static bytes1(f){return w(f,1)}static bytes2(f){return w(f,2)}static bytes3(f){return w(f,3)}static bytes4(f){return w(f,4)}static bytes5(f){return w(f,5)}static bytes6(f){return w(f,6)}static bytes7(f){return w(f,7)}static bytes8(f){return w(f,8)}static bytes9(f){return w(f,9)}static bytes10(f){return w(f,10)}static bytes11(f){return w(f,11)}static bytes12(f){return w(f,12)}static bytes13(f){return w(f,13)}static bytes14(f){return w(f,14)}static bytes15(f){return w(f,15)}static bytes16(f){return w(f,16)}static bytes17(f){return w(f,17)}static bytes18(f){return w(f,18)}static bytes19(f){return w(f,19)}static bytes20(f){return w(f,20)}static bytes21(f){return w(f,21)}static bytes22(f){return w(f,22)}static bytes23(f){return w(f,23)}static bytes24(f){return w(f,24)}static bytes25(f){return w(f,25)}static bytes26(f){return w(f,26)}static bytes27(f){return w(f,27)}static bytes28(f){return w(f,28)}static bytes29(f){return w(f,29)}static bytes30(f){return w(f,30)}static bytes31(f){return w(f,31)}static bytes32(f){return w(f,32)}static address(f){return new o0(i0,"address",f)}static bool(f){return new o0(i0,"bool",!!f)}static bytes(f){return new o0(i0,"bytes",f)}static string(f){return new o0(i0,"string",f)}static array(f,t){throw new Error("not implemented yet")}static tuple(f,t){throw new Error("not implemented yet")}static overrides(f){return new o0(i0,"overrides",Object.assign({},f))}static isTyped(f){return f&&typeof f=="object"&&"_typedSymbol"in f&&f._typedSymbol===Ct}static dereference(f,t){if(o0.isTyped(f)){if(f.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${f.type}`);return f.value}return f}};R0=new WeakMap;let H=o0;class jn extends h0{constructor(f){super("address","address",f,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(f,t){let e=H.dereference(t,"string");try{e=Bf(e)}catch(r){return this._throwError(r.message,t)}return f.writeValue(e)}decode(f){return Bf(qt(f.readValue(),20))}}class f1 extends h0{constructor(t){super(t.name,t.type,"_",t.dynamic);p(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function we(n,f,t){let e=[];if(Array.isArray(t))e=t;else if(t&&typeof t=="object"){let a={};e=f.map(c=>{const l=c.localName;return O(l,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),O(!a[l],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),a[l]=!0,t[l]})}else h(!1,"invalid tuple value","tuple",t);h(f.length===e.length,"types/value length mismatch","tuple",t);let r=new Xf,s=new Xf,i=[];f.forEach((a,c)=>{let l=e[c];if(a.dynamic){let b=s.length;a.encode(s,l);let m=r.writeUpdatableValue();i.push(g=>{m(g+b)})}else a.encode(r,l)}),i.forEach(a=>{a(r.length)});let o=n.appendWriter(r);return o+=n.appendWriter(s),o}function xe(n,f){let t=[],e=[],r=n.subReader(0);return f.forEach(s=>{let i=null;if(s.dynamic){let o=n.readIndex(),a=r.subReader(o);try{i=s.decode(a)}catch(c){if(ht(c,"BUFFER_OVERRUN"))throw c;i=c,i.baseType=s.name,i.name=s.localName,i.type=s.type}}else try{i=s.decode(n)}catch(o){if(ht(o,"BUFFER_OVERRUN"))throw o;i=o,i.baseType=s.name,i.name=s.localName,i.type=s.type}if(i==null)throw new Error("investigate");t.push(i),e.push(s.localName||null)}),q0.fromItems(t,e)}class t1 extends h0{constructor(t,e,r){const s=t.type+"["+(e>=0?e:"")+"]",i=e===-1||t.dynamic;super("array",s,r,i);p(this,"coder");p(this,"length");I(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){const r=H.dereference(e,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;s===-1&&(s=r.length,t.writeValue(r.length)),Gt(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<r.length;o++)i.push(this.coder);return we(t,i,r)}decode(t){let e=this.length;e===-1&&(e=t.readIndex(),O(e*R<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*R,length:t.dataLength}));let r=[];for(let s=0;s<e;s++)r.push(new f1(this.coder));return xe(t,r)}}class e1 extends h0{constructor(f){super("bool","bool",f,!1)}defaultValue(){return!1}encode(f,t){const e=H.dereference(t,"bool");return f.writeValue(e?1:0)}decode(f){return!!f.readValue()}}class Ee extends h0{constructor(f,t){super(f,f,t,!0)}defaultValue(){return"0x"}encode(f,t){t=f0(t);let e=f.writeValue(t.length);return e+=f.writeBytes(t),e}decode(f){return f.readBytes(f.readIndex(),!0)}}class n1 extends Ee{constructor(f){super("bytes",f)}decode(f){return T(super.decode(f))}}class r1 extends h0{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1);p(this,"size");I(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,e){let r=f0(H.dereference(e,this.type));return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return T(t.readBytes(this.size))}}const s1=new Uint8Array([]);class i1 extends h0{constructor(f){super("null","",f,!1)}defaultValue(){return null}encode(f,t){return t!=null&&this._throwError("not null",t),f.writeBytes(s1)}decode(f){return f.readBytes(0),null}}const o1=BigInt(0),a1=BigInt(1),c1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class u1 extends h0{constructor(t,e,r){const s=(e?"int":"uint")+t*8;super(s,s,r,!1);p(this,"size");p(this,"signed");I(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let r=ff(H.dereference(e,this.type)),s=mf(c1,R*8);if(this.signed){let i=mf(s,this.size*8-1);(r>i||r<-(i+a1))&&this._throwError("value out-of-bounds",e),r=qe(r,8*R)}else(r<o1||r>mf(s,this.size*8))&&this._throwError("value out-of-bounds",e);return t.writeValue(r)}decode(t){let e=mf(t.readValue(),this.size*8);return this.signed&&(e=Xe(e,this.size*8)),e}}class l1 extends Ee{constructor(f){super("string",f)}defaultValue(){return""}encode(f,t){return super.encode(f,Zt(H.dereference(t,"string")))}decode(f){return nn(super.decode(f))}}class Ef extends h0{constructor(t,e){let r=!1;const s=[];t.forEach(o=>{o.dynamic&&(r=!0),s.push(o.type)});const i="tuple("+s.join(",")+")";super("tuple",i,e,r);p(this,"coders");I(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(r=>{t.push(r.defaultValue())});const e=this.coders.reduce((r,s)=>{const i=s.localName;return i&&(r[i]||(r[i]=0),r[i]++),r},{});return this.coders.forEach((r,s)=>{let i=r.localName;!i||e[i]!==1||(i==="length"&&(i="_length"),t[i]==null&&(t[i]=t[s]))}),Object.freeze(t)}encode(t,e){const r=H.dereference(e,"tuple");return we(t,this.coders,r)}decode(t){return xe(t,this.coders)}}function af(n){return C0(Zt(n))}function v(n){const f=new Set;return n.forEach(t=>f.add(t)),Object.freeze(f)}const b1="external public payable override",d1=v(b1.split(" ")),Ae="constant external internal payable private public pure view override",h1=v(Ae.split(" ")),Ie="constructor error event fallback function receive struct",Ne=v(Ie.split(" ")),Ce="calldata memory storage payable indexed",p1=v(Ce.split(" ")),g1="tuple returns",y1=[Ie,Ce,g1,Ae].join(" "),m1=v(y1.split(" ")),w1={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},x1=new RegExp("^(\\s*)"),E1=new RegExp("^([0-9]+)"),A1=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),ke=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Be=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var _,z,bf,Qf;const Sf=class Sf{constructor(f){B(this,bf);B(this,_);B(this,z);E(this,_,0),E(this,z,f.slice())}get offset(){return u(this,_)}get length(){return u(this,z).length-u(this,_)}clone(){return new Sf(u(this,z))}reset(){E(this,_,0)}popKeyword(f){const t=this.peek();if(t.type!=="KEYWORD"||!f.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(f){if(this.peek().type!==f){const t=this.peek();throw new Error(`expected ${f}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const f=this.peek();if(f.type!=="OPEN_PAREN")throw new Error("bad start");const t=N(this,bf,Qf).call(this,u(this,_)+1,f.match+1);return E(this,_,f.match+1),t}popParams(){const f=this.peek();if(f.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;u(this,_)<f.match-1;){const e=this.peek().linkNext;t.push(N(this,bf,Qf).call(this,u(this,_)+1,e)),E(this,_,e)}return E(this,_,f.match+1),t}peek(){if(u(this,_)>=u(this,z).length)throw new Error("out-of-bounds");return u(this,z)[u(this,_)]}peekKeyword(f){const t=this.peekType("KEYWORD");return t!=null&&f.has(t)?t:null}peekType(f){if(this.length===0)return null;const t=this.peek();return t.type===f?t.text:null}pop(){const f=this.peek();return dt(this,_)._++,f}toString(){const f=[];for(let t=u(this,_);t<u(this,z).length;t++){const e=u(this,z)[t];f.push(`${e.type}:${e.text}`)}return`<TokenString ${f.join(" ")}>`}};_=new WeakMap,z=new WeakMap,bf=new WeakSet,Qf=function(f=0,t=0){return new Sf(u(this,z).slice(f,t).map(e=>Object.freeze(Object.assign({},e,{match:e.match-f,linkBack:e.linkBack-f,linkNext:e.linkNext-f}))))};let W=Sf;function B0(n){const f=[],t=i=>{const o=s<n.length?JSON.stringify(n[s]):"$EOI";throw new Error(`invalid token ${o} at ${s}: ${i}`)};let e=[],r=[],s=0;for(;s<n.length;){let i=n.substring(s),o=i.match(x1);o&&(s+=o[1].length,i=n.substring(s));const a={depth:e.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};f.push(a);let c=w1[i[0]]||"";if(c){if(a.type=c,a.text=i[0],s++,c==="OPEN_PAREN")e.push(f.length-1),r.push(f.length-1);else if(c=="CLOSE_PAREN")e.length===0&&t("no matching open bracket"),a.match=e.pop(),f[a.match].match=f.length-1,a.depth--,a.linkBack=r.pop(),f[a.linkBack].linkNext=f.length-1;else if(c==="COMMA")a.linkBack=r.pop(),f[a.linkBack].linkNext=f.length-1,r.push(f.length-1);else if(c==="OPEN_BRACKET")a.type="BRACKET";else if(c==="CLOSE_BRACKET"){let l=f.pop().text;if(f.length>0&&f[f.length-1].type==="NUMBER"){const b=f.pop().text;l=b+l,f[f.length-1].value=k0(b)}if(f.length===0||f[f.length-1].type!=="BRACKET")throw new Error("missing opening bracket");f[f.length-1].text+=l}continue}if(o=i.match(A1),o){if(a.text=o[1],s+=a.text.length,m1.has(a.text)){a.type="KEYWORD";continue}if(a.text.match(Be)){a.type="TYPE";continue}a.type="ID";continue}if(o=i.match(E1),o){a.text=o[1],a.type="NUMBER",s+=a.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${s}`)}return new W(f.map(i=>Object.freeze(i)))}function kt(n,f){let t=[];for(const e in f.keys())n.has(e)&&t.push(e);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function Lf(n,f){if(f.peekKeyword(Ne)){const t=f.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return f.popType("ID")}function d0(n,f){const t=new Set;for(;;){const e=n.peekType("KEYWORD");if(e==null||f&&!f.has(e))break;if(n.pop(),t.has(e))throw new Error(`duplicate keywords: ${JSON.stringify(e)}`);t.add(e)}return Object.freeze(t)}function Oe(n){let f=d0(n,h1);return kt(f,v("constant payable nonpayable".split(" "))),kt(f,v("pure view payable nonpayable".split(" "))),f.has("view")?"view":f.has("pure")?"pure":f.has("payable")?"payable":f.has("nonpayable")?"nonpayable":f.has("constant")?"view":"nonpayable"}function b0(n,f){return n.popParams().map(t=>L.from(t,f))}function Se(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return ff(n.pop().text);throw new Error("invalid gas")}return null}function $0(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const I1=new RegExp(/^(.*)\[([0-9]*)\]$/);function Bt(n){const f=n.match(Be);if(h(f,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(f[2]){const t=parseInt(f[2]);h(t!==0&&t<=32,"invalid bytes length","type",n)}else if(f[3]){const t=parseInt(f[3]);h(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const C={},D=Symbol.for("_ethers_internal"),Ot="_ParamTypeInternal",St="_ErrorInternal",Tt="_EventInternal",_t="_ConstructorInternal",Lt="_FallbackInternal",Ut="_FunctionInternal",Rt="_StructInternal";var X0,If;const V=class V{constructor(f,t,e,r,s,i,o,a){B(this,X0);p(this,"name");p(this,"type");p(this,"baseType");p(this,"indexed");p(this,"components");p(this,"arrayLength");p(this,"arrayChildren");if(tt(f,C,"ParamType"),Object.defineProperty(this,D,{value:Ot}),i&&(i=Object.freeze(i.slice())),r==="array"){if(o==null||a==null)throw new Error("")}else if(o!=null||a!=null)throw new Error("");if(r==="tuple"){if(i==null)throw new Error("")}else if(i!=null)throw new Error("");I(this,{name:t,type:e,baseType:r,indexed:s,components:i,arrayLength:o,arrayChildren:a})}format(f){if(f==null&&(f="sighash"),f==="json"){const e=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=e,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const r={type:this.baseType==="tuple"?"tuple":this.type,name:e};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(s=>JSON.parse(s.format(f)))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(f),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(e=>e.format(f)).join(f==="full"?", ":",")+")":t+=this.type,f!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),f==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(f,t){if(this.isArray()){if(!Array.isArray(f))throw new Error("invalid array value");if(this.arrayLength!==-1&&f.length!==this.arrayLength)throw new Error("array is wrong length");const e=this;return f.map(r=>e.arrayChildren.walk(r,t))}if(this.isTuple()){if(!Array.isArray(f))throw new Error("invalid tuple value");if(f.length!==this.components.length)throw new Error("array is wrong length");const e=this;return f.map((r,s)=>e.components[s].walk(r,t))}return t(this.type,f)}async walkAsync(f,t){const e=[],r=[f];return N(this,X0,If).call(this,e,f,t,s=>{r[0]=s}),e.length&&await Promise.all(e),r[0]}static from(f,t){if(V.isParamType(f))return f;if(typeof f=="string")try{return V.from(B0(f),t)}catch{h(!1,"invalid param type","obj",f)}else if(f instanceof W){let o="",a="",c=null;d0(f,v(["tuple"])).has("tuple")||f.peekType("OPEN_PAREN")?(a="tuple",c=f.popParams().map(x=>V.from(x)),o=`tuple(${c.map(x=>x.format()).join(",")})`):(o=Bt(f.popType("TYPE")),a=o);let l=null,b=null;for(;f.length&&f.peekType("BRACKET");){const x=f.pop();l=new V(C,"",o,a,null,c,b,l),b=x.value,o+=x.text,a="array",c=null}let m=null;if(d0(f,p1).has("indexed")){if(!t)throw new Error("");m=!0}const k=f.peekType("ID")?f.pop().text:"";if(f.length)throw new Error("leftover tokens");return new V(C,k,o,a,m,c,b,l)}const e=f.name;h(!e||typeof e=="string"&&e.match(ke),"invalid name","obj.name",e);let r=f.indexed;r!=null&&(h(t,"parameter cannot be indexed","obj.indexed",f.indexed),r=!!r);let s=f.type,i=s.match(I1);if(i){const o=parseInt(i[2]||"-1"),a=V.from({type:i[1],components:f.components});return new V(C,e||"",s,"array",r,null,o,a)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const o=f.components!=null?f.components.map(c=>V.from(c)):null;return new V(C,e||"",s,"tuple",r,o,null,null)}return s=Bt(f.type),new V(C,e||"",s,s,r,null,null,null)}static isParamType(f){return f&&f[D]===Ot}};X0=new WeakSet,If=function(f,t,e,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,o=t.slice();o.forEach((a,c)=>{var l;N(l=i,X0,If).call(l,f,a,e,b=>{o[c]=b})}),r(o);return}if(this.isTuple()){const i=this.components;let o;if(Array.isArray(t))o=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");o=i.map(a=>{if(!a.name)throw new Error("cannot use object value with unnamed components");if(!(a.name in t))throw new Error(`missing value for component ${a.name}`);return t[a.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((a,c)=>{var l;N(l=i[c],X0,If).call(l,f,a,e,b=>{o[c]=b})}),r(o);return}const s=e(this.type,t);s.then?f.push(async function(){r(await s)}()):r(s)};let L=V;class P0{constructor(f,t,e){p(this,"type");p(this,"inputs");tt(f,C,"Fragment"),e=Object.freeze(e.slice()),I(this,{type:t,inputs:e})}static from(f){if(typeof f=="string"){try{P0.from(JSON.parse(f))}catch{}return P0.from(B0(f))}if(f instanceof W)switch(f.peekKeyword(Ne)){case"constructor":return u0.from(f);case"error":return F.from(f);case"event":return Q.from(f);case"fallback":case"receive":return a0.from(f);case"function":return j.from(f);case"struct":return v0.from(f)}else if(typeof f=="object"){switch(f.type){case"constructor":return u0.from(f);case"error":return F.from(f);case"event":return Q.from(f);case"fallback":case"receive":return a0.from(f);case"function":return j.from(f);case"struct":return v0.from(f)}O(!1,`unsupported type: ${f.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}h(!1,"unsupported frgament object","obj",f)}static isConstructor(f){return u0.isFragment(f)}static isError(f){return F.isFragment(f)}static isEvent(f){return Q.isFragment(f)}static isFunction(f){return j.isFragment(f)}static isStruct(f){return v0.isFragment(f)}}class Uf extends P0{constructor(t,e,r,s){super(t,e,s);p(this,"name");h(typeof r=="string"&&r.match(ke),"invalid identifier","name",r),s=Object.freeze(s.slice()),I(this,{name:r})}}function cf(n,f){return"("+f.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class F extends Uf{constructor(f,t,e){super(f,"error",t,e),Object.defineProperty(this,D,{value:St})}get selector(){return af(this.format("sighash")).substring(0,10)}format(f){if(f==null&&(f="sighash"),f==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(e=>JSON.parse(e.format(f)))});const t=[];return f!=="sighash"&&t.push("error"),t.push(this.name+cf(f,this.inputs)),t.join(" ")}static from(f){if(F.isFragment(f))return f;if(typeof f=="string")return F.from(B0(f));if(f instanceof W){const t=Lf("error",f),e=b0(f);return $0(f),new F(C,t,e)}return new F(C,f.name,f.inputs?f.inputs.map(L.from):[])}static isFragment(f){return f&&f[D]===St}}class Q extends Uf{constructor(t,e,r,s){super(t,"event",e,r);p(this,"anonymous");Object.defineProperty(this,D,{value:Tt}),I(this,{anonymous:s})}get topicHash(){return af(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(t)))});const e=[];return t!=="sighash"&&e.push("event"),e.push(this.name+cf(t,this.inputs)),t!=="sighash"&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){return e=(e||[]).map(s=>L.from(s)),new Q(C,t,e,!1).topicHash}static from(t){if(Q.isFragment(t))return t;if(typeof t=="string")try{return Q.from(B0(t))}catch{h(!1,"invalid event fragment","obj",t)}else if(t instanceof W){const e=Lf("event",t),r=b0(t,!0),s=!!d0(t,v(["anonymous"])).has("anonymous");return $0(t),new Q(C,e,r,s)}return new Q(C,t.name,t.inputs?t.inputs.map(e=>L.from(e,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[D]===Tt}}class u0 extends P0{constructor(t,e,r,s,i){super(t,e,r);p(this,"payable");p(this,"gas");Object.defineProperty(this,D,{value:_t}),I(this,{payable:s,gas:i})}format(t){if(O(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(t)))});const e=[`constructor${cf(t,this.inputs)}`];return this.payable&&e.push("payable"),this.gas!=null&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(u0.isFragment(t))return t;if(typeof t=="string")try{return u0.from(B0(t))}catch{h(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof W){d0(t,v(["constructor"]));const e=b0(t),r=!!d0(t,d1).has("payable"),s=Se(t);return $0(t),new u0(C,"constructor",e,r,s)}return new u0(C,"constructor",t.inputs?t.inputs.map(L.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[D]===_t}}class a0 extends P0{constructor(t,e,r){super(t,"fallback",e);p(this,"payable");Object.defineProperty(this,D,{value:Lt}),I(this,{payable:r})}format(t){const e=this.inputs.length===0?"receive":"fallback";if(t==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:r})}return`${e}()${this.payable?" payable":""}`}static from(t){if(a0.isFragment(t))return t;if(typeof t=="string")try{return a0.from(B0(t))}catch{h(!1,"invalid fallback fragment","obj",t)}else if(t instanceof W){const e=t.toString(),r=t.peekKeyword(v(["fallback","receive"]));if(h(r,"type must be fallback or receive","obj",e),t.popKeyword(v(["fallback","receive"]))==="receive"){const a=b0(t);return h(a.length===0,"receive cannot have arguments","obj.inputs",a),d0(t,v(["payable"])),$0(t),new a0(C,[],!0)}let i=b0(t);i.length?h(i.length===1&&i[0].type==="bytes","invalid fallback inputs","obj.inputs",i.map(a=>a.format("minimal")).join(", ")):i=[L.from("bytes")];const o=Oe(t);if(h(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),d0(t,v(["returns"])).has("returns")){const a=b0(t);h(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return $0(t),new a0(C,i,o==="payable")}if(t.type==="receive")return new a0(C,[],!0);if(t.type==="fallback"){const e=[L.from("bytes")],r=t.stateMutability==="payable";return new a0(C,e,r)}h(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[D]===Lt}}class j extends Uf{constructor(t,e,r,s,i,o){super(t,"function",e,s);p(this,"constant");p(this,"outputs");p(this,"stateMutability");p(this,"payable");p(this,"gas");Object.defineProperty(this,D,{value:Ut}),i=Object.freeze(i.slice()),I(this,{constant:r==="view"||r==="pure",gas:o,outputs:i,payable:r==="payable",stateMutability:r})}get selector(){return af(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(t))),outputs:this.outputs.map(r=>JSON.parse(r.format(t)))});const e=[];return t!=="sighash"&&e.push("function"),e.push(this.name+cf(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(cf(t,this.outputs))),this.gas!=null&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){return e=(e||[]).map(s=>L.from(s)),new j(C,t,"view",e,[],null).selector}static from(t){if(j.isFragment(t))return t;if(typeof t=="string")try{return j.from(B0(t))}catch{h(!1,"invalid function fragment","obj",t)}else if(t instanceof W){const r=Lf("function",t),s=b0(t),i=Oe(t);let o=[];d0(t,v(["returns"])).has("returns")&&(o=b0(t));const a=Se(t);return $0(t),new j(C,r,i,s,o,a)}let e=t.stateMutability;return e==null&&(e="payable",typeof t.constant=="boolean"?(e="view",t.constant||(e="payable",typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable")),new j(C,t.name,e,t.inputs?t.inputs.map(L.from):[],t.outputs?t.outputs.map(L.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[D]===Ut}}class v0 extends Uf{constructor(f,t,e){super(f,"struct",t,e),Object.defineProperty(this,D,{value:Rt})}format(){throw new Error("@TODO")}static from(f){if(typeof f=="string")try{return v0.from(B0(f))}catch{h(!1,"invalid struct fragment","obj",f)}else if(f instanceof W){const t=Lf("struct",f),e=b0(f);return $0(f),new v0(C,t,e)}return new v0(C,f.name,f.inputs?f.inputs.map(L.from):[])}static isFragment(f){return f&&f[D]===Rt}}const K=new Map;K.set(0,"GENERIC_PANIC");K.set(1,"ASSERT_FALSE");K.set(17,"OVERFLOW");K.set(18,"DIVIDE_BY_ZERO");K.set(33,"ENUM_RANGE_ERROR");K.set(34,"BAD_STORAGE_DATA");K.set(49,"STACK_UNDERFLOW");K.set(50,"ARRAY_RANGE_ERROR");K.set(65,"OUT_OF_MEMORY");K.set(81,"UNINITIALIZED_FUNCTION_CALL");const N1=new RegExp(/^bytes([0-9]*)$/),C1=new RegExp(/^(u?int)([0-9]*)$/);let Jf=null,vt=1024;function k1(n,f,t,e){let r="missing revert data",s=null;const i=null;let o=null;if(t){r="execution reverted";const c=n0(t);if(t=T(t),c.length===0)r+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)r+=" (could not decode reason; invalid data length)";else if(T(c.slice(0,4))==="0x08c379a0")try{s=e.decode(["string"],c.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},r+=`: ${JSON.stringify(s)}`}catch{r+=" (could not decode reason; invalid string data)"}else if(T(c.slice(0,4))==="0x4e487b71")try{const l=Number(e.decode(["uint256"],c.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[l]},s=`Panic due to ${K.get(l)||"UNKNOWN"}(${l})`,r+=`: ${s}`}catch{r+=" (could not decode panic code)"}else r+=" (unknown custom error)"}const a={to:f.to?Bf(f.to):null,data:f.data||"0x"};return f.from&&(a.from=Bf(f.from)),Jt(r,"CALL_EXCEPTION",{action:n,data:t,reason:s,transaction:a,invocation:i,revert:o})}var I0,M0;const Tf=class Tf{constructor(){B(this,I0)}getDefaultValue(f){const t=f.map(r=>N(this,I0,M0).call(this,L.from(r)));return new Ef(t,"_").defaultValue()}encode(f,t){Gt(t.length,f.length,"types/values length mismatch");const e=f.map(i=>N(this,I0,M0).call(this,L.from(i))),r=new Ef(e,"_"),s=new Xf;return r.encode(s,t),s.data}decode(f,t,e){const r=f.map(i=>N(this,I0,M0).call(this,L.from(i)));return new Ef(r,"_").decode(new qf(t,e,vt))}static _setDefaultMaxInflation(f){h(typeof f=="number"&&Number.isInteger(f),"invalid defaultMaxInflation factor","value",f),vt=f}static defaultAbiCoder(){return Jf==null&&(Jf=new Tf),Jf}static getBuiltinCallException(f,t,e){return k1(f,t,e,Tf.defaultAbiCoder())}};I0=new WeakSet,M0=function(f){if(f.isArray())return new t1(N(this,I0,M0).call(this,f.arrayChildren),f.arrayLength,f.name);if(f.isTuple())return new Ef(f.components.map(e=>N(this,I0,M0).call(this,e)),f.name);switch(f.baseType){case"address":return new jn(f.name);case"bool":return new e1(f.name);case"string":return new l1(f.name);case"bytes":return new n1(f.name);case"":return new i1(f.name)}let t=f.type.match(C1);if(t){let e=parseInt(t[2]||"256");return h(e!==0&&e<=256&&e%8===0,"invalid "+t[1]+" bit length","param",f),new u1(e/8,t[1]==="int",f.name)}if(t=f.type.match(N1),t){let e=parseInt(t[1]);return h(e!==0&&e<=32,"invalid bytes length","param",f),new r1(e,f.name)}h(!1,"invalid type","type",f.type)};let Y0=Tf;class B1{constructor(f,t,e){p(this,"fragment");p(this,"name");p(this,"signature");p(this,"topic");p(this,"args");const r=f.name,s=f.format();I(this,{fragment:f,name:r,signature:s,topic:t,args:e})}}class O1{constructor(f,t,e,r){p(this,"fragment");p(this,"name");p(this,"args");p(this,"signature");p(this,"selector");p(this,"value");const s=f.name,i=f.format();I(this,{fragment:f,name:s,args:e,signature:i,selector:t,value:r})}}class S1{constructor(f,t,e){p(this,"fragment");p(this,"name");p(this,"args");p(this,"signature");p(this,"selector");const r=f.name,s=f.format();I(this,{fragment:f,name:r,args:e,signature:s,selector:t})}}class $t{constructor(f){p(this,"hash");p(this,"_isIndexed");I(this,{hash:f,_isIndexed:!0})}static isIndexed(f){return!!(f&&f._isIndexed)}}const Pt={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Ft={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let f="unknown panic code";return n>=0&&n<=255&&Pt[n.toString()]&&(f=Pt[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${f})`}}};var q,Y,Z,U,e0,Nf,Cf;const S0=class S0{constructor(f){B(this,e0);p(this,"fragments");p(this,"deploy");p(this,"fallback");p(this,"receive");B(this,q);B(this,Y);B(this,Z);B(this,U);let t=[];typeof f=="string"?t=JSON.parse(f):t=f,E(this,Z,new Map),E(this,q,new Map),E(this,Y,new Map);const e=[];for(const i of t)try{e.push(P0.from(i))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(i)}:`,o.message)}I(this,{fragments:Object.freeze(e)});let r=null,s=!1;E(this,U,this.getAbiCoder()),this.fragments.forEach((i,o)=>{let a;switch(i.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}I(this,{deploy:i});return;case"fallback":i.inputs.length===0?s=!0:(h(!r||i.payable!==r.payable,"conflicting fallback fragments",`fragments[${o}]`,i),r=i,s=r.payable);return;case"function":a=u(this,Z);break;case"event":a=u(this,Y);break;case"error":a=u(this,q);break;default:return}const c=i.format();a.has(c)||a.set(c,i)}),this.deploy||I(this,{deploy:u0.from("constructor()")}),I(this,{fallback:r,receive:s})}format(f){const t=f?"minimal":"full";return this.fragments.map(r=>r.format(t))}formatJson(){const f=this.fragments.map(t=>t.format("json"));return JSON.stringify(f.map(t=>JSON.parse(t)))}getAbiCoder(){return Y0.defaultAbiCoder()}getFunctionName(f){const t=N(this,e0,Nf).call(this,f,null,!1);return h(t,"no matching function","key",f),t.name}hasFunction(f){return!!N(this,e0,Nf).call(this,f,null,!1)}getFunction(f,t){return N(this,e0,Nf).call(this,f,t||null,!0)}forEachFunction(f){const t=Array.from(u(this,Z).keys());t.sort((e,r)=>e.localeCompare(r));for(let e=0;e<t.length;e++){const r=t[e];f(u(this,Z).get(r),e)}}getEventName(f){const t=N(this,e0,Cf).call(this,f,null,!1);return h(t,"no matching event","key",f),t.name}hasEvent(f){return!!N(this,e0,Cf).call(this,f,null,!1)}getEvent(f,t){return N(this,e0,Cf).call(this,f,t||null,!0)}forEachEvent(f){const t=Array.from(u(this,Y).keys());t.sort((e,r)=>e.localeCompare(r));for(let e=0;e<t.length;e++){const r=t[e];f(u(this,Y).get(r),e)}}getError(f,t){if(yf(f)){const r=f.toLowerCase();if(Ft[r])return F.from(Ft[r].signature);for(const s of u(this,q).values())if(r===s.selector)return s;return null}if(f.indexOf("(")===-1){const r=[];for(const[s,i]of u(this,q))s.split("(")[0]===f&&r.push(i);if(r.length===0)return f==="Error"?F.from("error Error(string)"):f==="Panic"?F.from("error Panic(uint256)"):null;if(r.length>1){const s=r.map(i=>JSON.stringify(i.format())).join(", ");h(!1,`ambiguous error description (i.e. ${s})`,"name",f)}return r[0]}if(f=F.from(f).format(),f==="Error(string)")return F.from("error Error(string)");if(f==="Panic(uint256)")return F.from("error Panic(uint256)");const e=u(this,q).get(f);return e||null}forEachError(f){const t=Array.from(u(this,q).keys());t.sort((e,r)=>e.localeCompare(r));for(let e=0;e<t.length;e++){const r=t[e];f(u(this,q).get(r),e)}}_decodeParams(f,t){return u(this,U).decode(f,t)}_encodeParams(f,t){return u(this,U).encode(f,t)}encodeDeploy(f){return this._encodeParams(this.deploy.inputs,f||[])}decodeErrorResult(f,t){if(typeof f=="string"){const e=this.getError(f);h(e,"unknown error","fragment",f),f=e}return h(D0(t,0,4)===f.selector,`data signature does not match error ${f.name}.`,"data",t),this._decodeParams(f.inputs,D0(t,4))}encodeErrorResult(f,t){if(typeof f=="string"){const e=this.getError(f);h(e,"unknown error","fragment",f),f=e}return G0([f.selector,this._encodeParams(f.inputs,t||[])])}decodeFunctionData(f,t){if(typeof f=="string"){const e=this.getFunction(f);h(e,"unknown function","fragment",f),f=e}return h(D0(t,0,4)===f.selector,`data signature does not match function ${f.name}.`,"data",t),this._decodeParams(f.inputs,D0(t,4))}encodeFunctionData(f,t){if(typeof f=="string"){const e=this.getFunction(f);h(e,"unknown function","fragment",f),f=e}return G0([f.selector,this._encodeParams(f.inputs,t||[])])}decodeFunctionResult(f,t){if(typeof f=="string"){const s=this.getFunction(f);h(s,"unknown function","fragment",f),f=s}let e="invalid length for result data";const r=f0(t);if(r.length%32===0)try{return u(this,U).decode(f.outputs,r)}catch{e="could not decode result data"}O(!1,e,"BAD_DATA",{value:T(r),info:{method:f.name,signature:f.format()}})}makeError(f,t){const e=n0(f,"data"),r=Y0.getBuiltinCallException("call",t,e);if(r.message.startsWith("execution reverted (unknown custom error)")){const o=T(e.slice(0,4)),a=this.getError(o);if(a)try{const c=u(this,U).decode(a.inputs,e.slice(4));r.revert={name:a.name,signature:a.format(),args:c},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch{r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(f,t){if(typeof f=="string"){const e=this.getFunction(f);h(e,"unknown function","fragment",f),f=e}return T(u(this,U).encode(f.outputs,t||[]))}encodeFilterTopics(f,t){if(typeof f=="string"){const s=this.getEvent(f);h(s,"unknown event","eventFragment",f),f=s}O(t.length<=f.inputs.length,`too many arguments for ${f.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:f.inputs.length});const e=[];f.anonymous||e.push(f.topicHash);const r=(s,i)=>s.type==="string"?af(i):s.type==="bytes"?C0(T(i)):(s.type==="bool"&&typeof i=="boolean"?i=i?"0x01":"0x00":s.type.match(/^u?int/)?i=qt(i):s.type.match(/^bytes/)?i=Ke(i,32):s.type==="address"&&u(this,U).encode(["address"],[i]),We(T(i),32));for(t.forEach((s,i)=>{const o=f.inputs[i];if(!o.indexed){h(s==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?e.push(null):o.baseType==="array"||o.baseType==="tuple"?h(!1,"filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?e.push(s.map(a=>r(o,a))):e.push(r(o,s))});e.length&&e[e.length-1]===null;)e.pop();return e}encodeEventLog(f,t){if(typeof f=="string"){const i=this.getEvent(f);h(i,"unknown event","eventFragment",f),f=i}const e=[],r=[],s=[];return f.anonymous||e.push(f.topicHash),h(t.length===f.inputs.length,"event arguments/values mismatch","values",t),f.inputs.forEach((i,o)=>{const a=t[o];if(i.indexed)if(i.type==="string")e.push(af(a));else if(i.type==="bytes")e.push(C0(a));else{if(i.baseType==="tuple"||i.baseType==="array")throw new Error("not implemented");e.push(u(this,U).encode([i.type],[a]))}else r.push(i),s.push(a)}),{data:u(this,U).encode(r,s),topics:e}}decodeEventLog(f,t,e){if(typeof f=="string"){const g=this.getEvent(f);h(g,"unknown event","eventFragment",f),f=g}if(e!=null&&!f.anonymous){const g=f.topicHash;h(yf(e[0],32)&&e[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",e[0]),e=e.slice(1)}const r=[],s=[],i=[];f.inputs.forEach((g,k)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(r.push(L.from({type:"bytes32",name:g.name})),i.push(!0)):(r.push(g),i.push(!1)):(s.push(g),i.push(!1))});const o=e!=null?u(this,U).decode(r,G0(e)):null,a=u(this,U).decode(s,t,!0),c=[],l=[];let b=0,m=0;return f.inputs.forEach((g,k)=>{let x=null;if(g.indexed)if(o==null)x=new $t(null);else if(i[k])x=new $t(o[m++]);else try{x=o[m++]}catch($){x=$}else try{x=a[b++]}catch($){x=$}c.push(x),l.push(g.name||null)}),q0.fromItems(c,l)}parseTransaction(f){const t=n0(f.data,"tx.data"),e=ff(f.value!=null?f.value:0,"tx.value"),r=this.getFunction(T(t.slice(0,4)));if(!r)return null;const s=u(this,U).decode(r.inputs,t.slice(4));return new O1(r,r.selector,s,e)}parseCallResult(f){throw new Error("@TODO")}parseLog(f){const t=this.getEvent(f.topics[0]);return!t||t.anonymous?null:new B1(t,t.topicHash,this.decodeEventLog(t,f.data,f.topics))}parseError(f){const t=T(f),e=this.getError(D0(t,0,4));if(!e)return null;const r=u(this,U).decode(e.inputs,D0(t,4));return new S1(e,e.selector,r)}static from(f){return f instanceof S0?f:typeof f=="string"?new S0(JSON.parse(f)):typeof f.formatJson=="function"?new S0(f.formatJson()):typeof f.format=="function"?new S0(f.format("json")):new S0(f)}};q=new WeakMap,Y=new WeakMap,Z=new WeakMap,U=new WeakMap,e0=new WeakSet,Nf=function(f,t,e){if(yf(f)){const s=f.toLowerCase();for(const i of u(this,Z).values())if(s===i.selector)return i;return null}if(f.indexOf("(")===-1){const s=[];for(const[i,o]of u(this,Z))i.split("(")[0]===f&&s.push(o);if(t){const i=t.length>0?t[t.length-1]:null;let o=t.length,a=!0;H.isTyped(i)&&i.type==="overrides"&&(a=!1,o--);for(let c=s.length-1;c>=0;c--){const l=s[c].inputs.length;l!==o&&(!a||l!==o-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const l=s[c].inputs;for(let b=0;b<t.length;b++)if(H.isTyped(t[b])){if(b>=l.length){if(t[b].type==="overrides")continue;s.splice(c,1);break}if(t[b].type!==l[b].baseType){s.splice(c,1);break}}}}if(s.length===1&&t&&t.length!==s[0].inputs.length){const i=t[t.length-1];(i==null||Array.isArray(i)||typeof i!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&e){const i=s.map(o=>JSON.stringify(o.format())).join(", ");h(!1,`ambiguous function description (i.e. matches ${i})`,"key",f)}return s[0]}const r=u(this,Z).get(j.from(f).format());return r||null},Cf=function(f,t,e){if(yf(f)){const s=f.toLowerCase();for(const i of u(this,Y).values())if(s===i.topicHash)return i;return null}if(f.indexOf("(")===-1){const s=[];for(const[i,o]of u(this,Y))i.split("(")[0]===f&&s.push(o);if(t){for(let i=s.length-1;i>=0;i--)s[i].inputs.length<t.length&&s.splice(i,1);for(let i=s.length-1;i>=0;i--){const o=s[i].inputs;for(let a=0;a<t.length;a++)if(H.isTyped(t[a])&&t[a].type!==o[a].baseType){s.splice(i,1);break}}}if(s.length===0)return null;if(s.length>1&&e){const i=s.map(o=>JSON.stringify(o.format())).join(", ");h(!1,`ambiguous event description (i.e. matches ${i})`,"key",f)}return s[0]}const r=u(this,Y).get(Q.from(f).format());return r||null};let jf=S0;const T1={object:"0x60e060405234801561000f575f5ffd5b506040516131fb3803806131fb83398181016040528101906100319190610b8a565b61003f61015860201b60201c565b85858173ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff1681525050610093308261008861015f60201b60201c565b6101b960201b60201c565b5f8190555050505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160361010a575f6040517f1e4fbdf70000000000000000000000000000000000000000000000000000000081526004016101019190610c48565b60405180910390fd5b610119816102b260201b60201c565b5082600281905550818051906020012060a081815250508060c08181525050610148600361037560201b60201c565b6009819055505050505050610f51565b5f33905090565b5f5f46905061a4ec810361018a5773f134707a4c4a3a76b8410fc0294d620a7c3415819150506101b6565b62aa044c81036101b157730a782f7f9f8aac6e0bacaf3cd4aa292c3275c6f29150506101b6565b5f9150505b90565b5f5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036101f5575f90506102ab565b5f610206858461039560201b60201c565b90505f6102188561048660201b60201c565b90508373ffffffffffffffffffffffffffffffffffffffff1663561558fe6040518060400160405280858152602001848152506040518263ffffffff1660e01b81526004016102679190610d06565b602060405180830381865afa158015610282573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906102a69190610d1f565b925050505b9392505050565b5f60015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508160015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b5f816002015f836001015481526020019081526020015f20549050919050565b5f5f6103a68461058d60201b60201c565b90505f6103c96103be835f601f61088b60201b60201c565b61048660201b60201c565b90505f6103ed6103e284601f602a61088b60201b60201c565b61048660201b60201c565b90508473ffffffffffffffffffffffffffffffffffffffff1663561558fe6040518060400160405280858152602001848152506040518263ffffffff1660e01b815260040161043c9190610d06565b602060405180830381865afa158015610457573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061047b9190610d1f565b935050505092915050565b5f5f829050601f815111156104d0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104c790610dca565b60405180910390fd5b5f5f90505f5f90505b825181101561058257607f8382815181106104f7576104f6610de8565b5b602001015160f81c60f81b60f81c60ff161115610549576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161054090610e5f565b60405180910390fd5b82818151811061055c5761055b610de8565b5b602001015160f81c60f81b60f81c60ff16600883901b17915080806001019150506104d9565b508092505050919050565b60605f8273ffffffffffffffffffffffffffffffffffffffff165f1b90505f6040518060400160405280601081526020017f303132333435363738396162636465660000000000000000000000000000000081525090505f602a67ffffffffffffffff811115610600576105ff610a00565b5b6040519080825280601f01601f1916602001820160405280156106325781602001600182028036833780820191505090505b5090507f3000000000000000000000000000000000000000000000000000000000000000815f8151811061066957610668610de8565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053507f7800000000000000000000000000000000000000000000000000000000000000816001815181106106cc576106cb610de8565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053505f5f90505b601481101561087f5782600485600c846107199190610eaa565b6020811061072a57610729610de8565b5b1a60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916901c60f81c60ff168151811061076957610768610de8565b5b602001015160f81c60f81b826002836107829190610edd565b600261078e9190610eaa565b8151811061079f5761079e610de8565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a90535082600f60f81b85600c846107e19190610eaa565b602081106107f2576107f1610de8565b5b1a60f81b1660f81c60ff168151811061080e5761080d610de8565b5b602001015160f81c60f81b826002836108279190610edd565b60036108339190610eaa565b8151811061084457610843610de8565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a90535080806001019150506106ff565b50809350505050919050565b60605f8490505f848461089e9190610f1e565b67ffffffffffffffff8111156108b7576108b6610a00565b5b6040519080825280601f01601f1916602001820160405280156108e95781602001600182028036833780820191505090505b5090505f8590505b848110156109705782818151811061090c5761090b610de8565b5b602001015160f81c60f81b8287836109249190610f1e565b8151811061093557610934610de8565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a90535080806001019150506108f1565b5080925050509392505050565b5f604051905090565b5f5ffd5b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6109b78261098e565b9050919050565b6109c7816109ad565b81146109d1575f5ffd5b50565b5f815190506109e2816109be565b92915050565b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b610a36826109f0565b810181811067ffffffffffffffff82111715610a5557610a54610a00565b5b80604052505050565b5f610a6761097d565b9050610a738282610a2d565b919050565b5f67ffffffffffffffff821115610a9257610a91610a00565b5b610a9b826109f0565b9050602081019050919050565b8281835e5f83830152505050565b5f610ac8610ac384610a78565b610a5e565b905082815260208101848484011115610ae457610ae36109ec565b5b610aef848285610aa8565b509392505050565b5f82601f830112610b0b57610b0a6109e8565b5b8151610b1b848260208601610ab6565b91505092915050565b5f819050919050565b610b3681610b24565b8114610b40575f5ffd5b50565b5f81519050610b5181610b2d565b92915050565b5f819050919050565b610b6981610b57565b8114610b73575f5ffd5b50565b5f81519050610b8481610b60565b92915050565b5f5f5f5f5f60a08688031215610ba357610ba2610986565b5b5f610bb0888289016109d4565b955050602086015167ffffffffffffffff811115610bd157610bd061098a565b5b610bdd88828901610af7565b9450506040610bee88828901610b43565b935050606086015167ffffffffffffffff811115610c0f57610c0e61098a565b5b610c1b88828901610af7565b9250506080610c2c88828901610b76565b9150509295509295909350565b610c42816109ad565b82525050565b5f602082019050610c5b5f830184610c39565b92915050565b5f60029050919050565b5f81905092915050565b5f819050919050565b610c8781610b57565b82525050565b5f610c988383610c7e565b60208301905092915050565b5f602082019050919050565b610cb981610c61565b610cc38184610c6b565b9250610cce82610c75565b805f5b83811015610cfe578151610ce58782610c8d565b9650610cf083610ca4565b925050600181019050610cd1565b505050505050565b5f604082019050610d195f830184610cb0565b92915050565b5f60208284031215610d3457610d33610986565b5b5f610d4184828501610b76565b91505092915050565b5f82825260208201905092915050565b7f537472696e6720746f6f206c6f6e6720666f7220426967496e7420636f6e76655f8201527f7273696f6e000000000000000000000000000000000000000000000000000000602082015250565b5f610db4602583610d4a565b9150610dbf82610d5a565b604082019050919050565b5f6020820190508181035f830152610de181610da8565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f4e6f6e2d415343494920636861726163746572206465746563746564000000005f82015250565b5f610e49601c83610d4a565b9150610e5482610e15565b602082019050919050565b5f6020820190508181035f830152610e7681610e3d565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610eb482610b57565b9150610ebf83610b57565b9250828201905080821115610ed757610ed6610e7d565b5b92915050565b5f610ee782610b57565b9150610ef283610b57565b9250828202610f0081610b57565b91508282048414831517610f1757610f16610e7d565b5b5092915050565b5f610f2882610b57565b9150610f3383610b57565b9250828203905081811115610f4b57610f4a610e7d565b5b92915050565b60805160a05160c05161226b610f905f395f818161038001526109d901525f81816104f50152610a3801525f818161042201526106a1015261226b5ff3fe608060405234801561000f575f5ffd5b5060043610610114575f3560e01c80639c6d7090116100a0578063c385abae1161006f578063c385abae146102be578063d161802b146102da578063dd4bc101146102f6578063f2fde38b14610326578063fd6bc5471461034257610114565b80639c6d709014610234578063ada1b31914610252578063bb44374414610282578063c1da8691146102a057610114565b8063715018a6116100e7578063715018a6146101a257806379f95ee9146101ac5780638d1ddfb1146101dc5780638d2d8d6a146101fa5780638da5cb5b1461021657610114565b806316a56c411461011857806355519d8714610136578063650e5fcf146101545780636e62d0a814610184575b5f5ffd5b610120610372565b60405161012d91906110c9565b60405180910390f35b61013e61037e565b60405161014b91906110c9565b60405180910390f35b61016e6004803603810190610169919061111d565b6103a2565b60405161017b91906110c9565b60405180910390f35b61018c6103dd565b60405161019991906110c9565b60405180910390f35b6101aa6103e5565b005b6101c660048036038101906101c1919061111d565b6103f8565b6040516101d39190611162565b60405180910390f35b6101e4610415565b6040516101f191906110c9565b60405180910390f35b610214600480360381019061020f91906112b7565b610420565b005b61021e6104cb565b60405161022b919061136c565b60405180910390f35b61023c6104f3565b604051610249919061139d565b60405180910390f35b61026c600480360381019061026791906113e0565b610517565b604051610279919061139d565b60405180910390f35b61028a610524565b604051610297919061139d565b60405180910390f35b6102a861052a565b6040516102b591906110c9565b60405180910390f35b6102d860048036038101906102d3919061144c565b610533565b005b6102f460048036038101906102ef91906114d4565b610545565b005b610310600480360381019061030b919061157c565b610756565b60405161031d91906115cc565b60405180910390f35b610340600480360381019061033b919061157c565b61077d565b005b61035c6004803603810190610357919061157c565b610801565b60405161036991906110c9565b60405180910390f35b5f600360010154905090565b7f000000000000000000000000000000000000000000000000000000000000000081565b5f5f82036103b2575f90506103d8565b60095482036103c3574390506103d8565b60d35f8381526020019081526020015f205490505b919050565b5f5f54905090565b6103ed610820565b6103f65f6108a7565b565b6008602052805f5260405f205f915054906101000a900460ff1681565b5f60035f0154905090565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146104a5576040517f5c427cd900000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f828060200190518101906104ba9190611b21565b90506104c6818361096a565b505050565b5f60015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b7f000000000000000000000000000000000000000000000000000000000000000081565b5f60025490509392505050565b60025481565b5f600954905090565b61053b610820565b8060028190555050565b6020848490501015610583576040517fa512e2ff00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60408282905010156105c1576040517fa512e2ff00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f843590505f83835f906020926105da93929190611b70565b906105e59190611bc0565b90505f84846020906040926105fc93929190611b70565b906106079190611bc0565b90505f8585604090809261061d93929190611b70565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f8201169050808301925050505050505090505f61066d848484610517565b90505f60025f60081b5f548c8c60405160200161068e959493929190611cf7565b60405160208183030381529060405290507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663f7e83aee82848b8b6040516020016106f193929190611d62565b6040516020818303038152906040526040518363ffffffff1660e01b815260040161071d929190611ddd565b5f604051808303815f87803b158015610734575f5ffd5b505af1158015610746573d5f5f3e3d5ffd5b5050505050505050505050505050565b6007602052805f5260405f205f915054906101000a90046affffffffffffffffffffff1681565b610785610820565b5f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036107f5575f6040517f1e4fbdf70000000000000000000000000000000000000000000000000000000081526004016107ec919061136c565b60405180910390fd5b6107fe816108a7565b50565b5f8173ffffffffffffffffffffffffffffffffffffffff169050919050565b610828610d4e565b73ffffffffffffffffffffffffffffffffffffffff166108466104cb565b73ffffffffffffffffffffffffffffffffffffffff16146108a557610869610d4e565b6040517f118cdaa700000000000000000000000000000000000000000000000000000000815260040161089c919061136c565b60405180910390fd5b565b5f60015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508160015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b5f826020015190505f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036109d7576040517f9642e73700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000008361016001511015610a36576040517f6822bdfc00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000008360e001518051906020012014610a9a576040517ff6ac14a700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f60075f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a90046affffffffffffffffffffff166affffffffffffffffffffff1614610b33576040517f9642e73700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60085f846040015181526020019081526020015f205f9054906101000a900460ff1615610b8c576040517fcad2ae0200000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600160085f856040015181526020019081526020015f205f6101000a81548160ff0219169083151502179055505f8173ffffffffffffffffffffffffffffffffffffffff1690505f610bdd82610d55565b90505f60075f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a90046affffffffffffffffffffff169050600160075f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a8154816affffffffffffffffffffff02191690836affffffffffffffffffffff1602179055508373ffffffffffffffffffffffffffffffffffffffff167fee82339564ef9f72eccdbb67b46a62198422524ab9c7e3fcbdd194fa1b46461b826001604051610ce9929190611e54565b60405180910390a285604001518473ffffffffffffffffffffffffffffffffffffffff167fabe5b1202d1f4ed2c1baccf335320ceae3abd90670864b741e80a2ef5671d8828585604051610d3e929190611e7b565b60405180910390a3505050505050565b5f33905090565b5f610d6a826003610e4190919063ffffffff16565b90505f60095490505f8114158015610d825750818114155b15610e34575f4390505f600a60d25460648110610da257610da1611ea2565b5b015490505f8114610dc25760d35f8281526020019081526020015f205f90555b82600a60d25460648110610dd957610dd8611ea2565b5b018190555081606e60d25460648110610df557610df4611ea2565b5b01819055508160d35f8581526020019081526020015f20819055506064600160d254610e219190611efc565b610e2b9190611f5c565b60d28190555050505b8160098190555050919050565b5f7f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f00000018210610e9b576040517fc380a82e00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f8203610ed4576040517f29691be200000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b610ede8383611091565b15610f15576040517f258a195a00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5f835f015490505f84600101549050600182610f319190611efc565b816002610f3e91906120bb565b1015610f515780610f4e90612105565b90505b8085600101819055505f8490505f5f90505b82811015611040576001808286901c160361101c5773f134707a4c4a3a76b8410fc0294d620a7c34158163561558fe60405180604001604052808a6002015f8681526020019081526020015f20548152602001858152506040518263ffffffff1660e01b8152600401610fd691906121f1565b602060405180830381865af4158015610ff1573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190611015919061220a565b9150611035565b81876002015f8381526020019081526020015f20819055505b806001019050610f63565b508261104b90612105565b925082865f018190555080866002015f8481526020019081526020015f208190555082866003015f8781526020019081526020015f208190555080935050505092915050565b5f5f836003015f8481526020019081526020015f20541415905092915050565b5f819050919050565b6110c3816110b1565b82525050565b5f6020820190506110dc5f8301846110ba565b92915050565b5f604051905090565b5f5ffd5b5f5ffd5b6110fc816110b1565b8114611106575f5ffd5b50565b5f81359050611117816110f3565b92915050565b5f60208284031215611132576111316110eb565b5b5f61113f84828501611109565b91505092915050565b5f8115159050919050565b61115c81611148565b82525050565b5f6020820190506111755f830184611153565b92915050565b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6111c982611183565b810181811067ffffffffffffffff821117156111e8576111e7611193565b5b80604052505050565b5f6111fa6110e2565b905061120682826111c0565b919050565b5f67ffffffffffffffff82111561122557611224611193565b5b61122e82611183565b9050602081019050919050565b828183375f83830152505050565b5f61125b6112568461120b565b6111f1565b9050828152602081018484840111156112775761127661117f565b5b61128284828561123b565b509392505050565b5f82601f83011261129e5761129d61117b565b5b81356112ae848260208601611249565b91505092915050565b5f5f604083850312156112cd576112cc6110eb565b5b5f83013567ffffffffffffffff8111156112ea576112e96110ef565b5b6112f68582860161128a565b925050602083013567ffffffffffffffff811115611317576113166110ef565b5b6113238582860161128a565b9150509250929050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6113568261132d565b9050919050565b6113668161134c565b82525050565b5f60208201905061137f5f83018461135d565b92915050565b5f819050919050565b61139781611385565b82525050565b5f6020820190506113b05f83018461138e565b92915050565b6113bf81611385565b81146113c9575f5ffd5b50565b5f813590506113da816113b6565b92915050565b5f5f5f606084860312156113f7576113f66110eb565b5b5f611404868287016113cc565b9350506020611415868287016113cc565b925050604084013567ffffffffffffffff811115611436576114356110ef565b5b6114428682870161128a565b9150509250925092565b5f60208284031215611461576114606110eb565b5b5f61146e848285016113cc565b91505092915050565b5f5ffd5b5f5ffd5b5f5f83601f8401126114945761149361117b565b5b8235905067ffffffffffffffff8111156114b1576114b0611477565b5b6020830191508360018202830111156114cd576114cc61147b565b5b9250929050565b5f5f5f5f604085870312156114ec576114eb6110eb565b5b5f85013567ffffffffffffffff811115611509576115086110ef565b5b6115158782880161147f565b9450945050602085013567ffffffffffffffff811115611538576115376110ef565b5b6115448782880161147f565b925092505092959194509250565b61155b8161134c565b8114611565575f5ffd5b50565b5f8135905061157681611552565b92915050565b5f60208284031215611591576115906110eb565b5b5f61159e84828501611568565b91505092915050565b5f6affffffffffffffffffffff82169050919050565b6115c6816115a7565b82525050565b5f6020820190506115df5f8301846115bd565b92915050565b5f5ffd5b5f5ffd5b5f815190506115fb816113b6565b92915050565b5f8151905061160f816110f3565b92915050565b5f67ffffffffffffffff82111561162f5761162e611193565b5b602082029050919050565b5f61164c61164784611615565b6111f1565b905080602084028301858111156116665761166561147b565b5b835b8181101561168f578061167b8882611601565b845260208401935050602081019050611668565b5050509392505050565b5f82601f8301126116ad576116ac61117b565b5b60046116ba84828561163a565b91505092915050565b5f67ffffffffffffffff8211156116dd576116dc611193565b5b6116e682611183565b9050602081019050919050565b8281835e5f83830152505050565b5f61171361170e846116c3565b6111f1565b90508281526020810184848401111561172f5761172e61117f565b5b61173a8482856116f3565b509392505050565b5f82601f8301126117565761175561117b565b5b8151611766848260208601611701565b91505092915050565b5f67ffffffffffffffff82111561178957611788611193565b5b602082029050602081019050919050565b5f6117ac6117a78461176f565b6111f1565b905080838252602082019050602084028301858111156117cf576117ce61147b565b5b835b8181101561181657805167ffffffffffffffff8111156117f4576117f361117b565b5b8086016118018982611742565b855260208501945050506020810190506117d1565b5050509392505050565b5f82601f8301126118345761183361117b565b5b815161184484826020860161179a565b91505092915050565b5f67ffffffffffffffff82111561186757611866611193565b5b602082029050919050565b61187b81611148565b8114611885575f5ffd5b50565b5f8151905061189681611872565b92915050565b5f6118ae6118a98461184d565b6111f1565b905080602084028301858111156118c8576118c761147b565b5b835b818110156118f157806118dd8882611888565b8452602084019350506020810190506118ca565b5050509392505050565b5f82601f83011261190f5761190e61117b565b5b600361191c84828561189c565b91505092915050565b5f610240828403121561193b5761193a6115e5565b5b6119466101a06111f1565b90505f611955848285016115ed565b5f83015250602061196884828501611601565b602083015250604061197c84828501611601565b604083015250606061199084828501611699565b60608301525060e082015167ffffffffffffffff8111156119b4576119b36115e9565b5b6119c084828501611742565b60808301525061010082015167ffffffffffffffff8111156119e5576119e46115e9565b5b6119f184828501611820565b60a08301525061012082015167ffffffffffffffff811115611a1657611a156115e9565b5b611a2284828501611742565b60c08301525061014082015167ffffffffffffffff811115611a4757611a466115e9565b5b611a5384828501611742565b60e08301525061016082015167ffffffffffffffff811115611a7857611a776115e9565b5b611a8484828501611742565b6101008301525061018082015167ffffffffffffffff811115611aaa57611aa96115e9565b5b611ab684828501611742565b610120830152506101a082015167ffffffffffffffff811115611adc57611adb6115e9565b5b611ae884828501611742565b610140830152506101c0611afe84828501611601565b610160830152506101e0611b14848285016118fb565b6101808301525092915050565b5f60208284031215611b3657611b356110eb565b5b5f82015167ffffffffffffffff811115611b5357611b526110ef565b5b611b5f84828501611925565b91505092915050565b5f5ffd5b5f5ffd5b5f5f85851115611b8357611b82611b68565b5b83861115611b9457611b93611b6c565b5b6001850283019150848603905094509492505050565b5f82905092915050565b5f82821b905092915050565b5f611bcb8383611baa565b82611bd68135611385565b92506020821015611c1657611c117fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff83602003600802611bb4565b831692505b505092915050565b5f60ff82169050919050565b5f8160f81b9050919050565b5f611c4082611c2a565b9050919050565b611c58611c5382611c1e565b611c36565b82525050565b5f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0082169050919050565b5f819050919050565b611ca3611c9e82611c5e565b611c89565b82525050565b5f819050919050565b611cc3611cbe826110b1565b611ca9565b82525050565b5f81905092915050565b5f611cde8385611cc9565b9350611ceb83858461123b565b82840190509392505050565b5f611d028288611c47565b600182019150611d128287611c92565b601f82019150611d228286611cb2565b602082019150611d33828486611cd3565b91508190509695505050505050565b5f819050919050565b611d5c611d5782611385565b611d42565b82525050565b5f611d6d8286611d4b565b602082019150611d7e828486611cd3565b9150819050949350505050565b5f81519050919050565b5f82825260208201905092915050565b5f611daf82611d8b565b611db98185611d95565b9350611dc98185602086016116f3565b611dd281611183565b840191505092915050565b5f6040820190508181035f830152611df58185611da5565b90508181036020830152611e098184611da5565b90509392505050565b5f819050919050565b5f819050919050565b5f611e3e611e39611e3484611e12565b611e1b565b6115a7565b9050919050565b611e4e81611e24565b82525050565b5f604082019050611e675f8301856115bd565b611e746020830184611e45565b9392505050565b5f604082019050611e8e5f8301856110ba565b611e9b60208301846110ba565b9392505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f611f06826110b1565b9150611f11836110b1565b9250828201905080821115611f2957611f28611ecf565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f611f66826110b1565b9150611f71836110b1565b925082611f8157611f80611f2f565b5b828206905092915050565b5f8160011c9050919050565b5f5f8291508390505b6001851115611fe157808604811115611fbd57611fbc611ecf565b5b6001851615611fcc5780820291505b8081029050611fda85611f8c565b9450611fa1565b94509492505050565b5f82611ff957600190506120b4565b81612006575f90506120b4565b816001811461201c576002811461202657612055565b60019150506120b4565b60ff84111561203857612037611ecf565b5b8360020a91508482111561204f5761204e611ecf565b5b506120b4565b5060208310610133831016604e8410600b841016171561208a5782820a90508381111561208557612084611ecf565b5b6120b4565b6120978484846001611f98565b925090508184048111156120ae576120ad611ecf565b5b81810290505b9392505050565b5f6120c5826110b1565b91506120d0836110b1565b92506120fd7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8484611fea565b905092915050565b5f61210f826110b1565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff820361214157612140611ecf565b5b600182019050919050565b5f60029050919050565b5f81905092915050565b5f819050919050565b612172816110b1565b82525050565b5f6121838383612169565b60208301905092915050565b5f602082019050919050565b6121a48161214c565b6121ae8184612156565b92506121b982612160565b805f5b838110156121e95781516121d08782612178565b96506121db8361218f565b9250506001810190506121bc565b505050505050565b5f6040820190506122045f83018461219b565b92915050565b5f6020828403121561221f5761221e6110eb565b5b5f61222c84828501611601565b9150509291505056fea2646970667358221220053a24740de0e2a0dfcb8d2629d7463eea018934910465976438191cc5bbbff764736f6c634300081c0033"},_1={bytecode:T1},L1={VITE_MIN_AGE:"18",VITE_NATIONALITY:"ESP",VITE_ONCHAIN_CENSUS_INDEXER_URL:"https://onchain-census-indexer.onrender.com",VITE_OPEN_CITIZEN_CENSUS_APP_URL:"http://localhost:4173/app/",VITE_SCOPE_SEED:"open-citizen-census"},hf=L1,uf="0xe57F4773bd9c9d8b6Cd70431117d353298B9f5BF",U1="0xF134707a4C4a3a76b8410fC0294d620A7c341581",Ht="0xa4ec",R1=42220,Te=hf.VITE_ONCHAIN_CENSUS_INDEXER_URL,v1=hf.VITE_OPEN_CITIZEN_CENSUS_APP_URL,ef=document.getElementById("nationality"),F0=document.getElementById("minAge"),Z0=document.getElementById("scopeSeed"),$1=document.getElementById("hubAddress"),P1=document.getElementById("poseidon"),F1=document.getElementById("networkName"),H1=document.getElementById("summaryNationality"),D1=document.getElementById("summaryMinAge"),M1=document.getElementById("summaryScope"),Dt=document.getElementById("computedConfigId"),Mt=document.getElementById("status"),V1=document.getElementById("connectWallet"),_e=document.getElementById("registerConfig"),Le=document.getElementById("deploy"),Ue=document.getElementById("copyTx"),Re=document.getElementById("copyAddress"),ve=document.getElementById("copyConfigId"),z1=document.getElementById("walletAddress"),E0=document.getElementById("configStatus"),$e=document.getElementById("txHash"),J1=document.getElementById("contractAddress"),Vt=document.getElementById("appLink"),Q0=document.getElementById("copyAppLink"),j0=document.getElementById("openAppLink"),G1=document.getElementById("scopeHelp"),zt=document.getElementById("nationalityHelp");let G="",Rf="",it="",l0="",t0="",T0=!1,Gf=0;const ft=new jf(["function setVerificationConfigV2((bool olderThanEnabled,uint256 olderThan,bool forbiddenCountriesEnabled,uint256[4] forbiddenCountriesListPacked,bool[3] ofacEnabled)) returns (bytes32)","function verificationConfigV2Exists(bytes32) view returns (bool)","event VerificationConfigV2Set(bytes32 indexed configId, (bool olderThanEnabled,uint256 olderThan,bool forbiddenCountriesEnabled,uint256[4] forbiddenCountriesListPacked,bool[3] ofacEnabled) config)"]);function S(n,f=!1){Mt.textContent=n,Mt.classList.toggle("is-error",f)}function W1(n){const f=JSON.stringify(n),t=new TextEncoder().encode(f);let e="";return t.forEach(r=>{e+=String.fromCharCode(r)}),btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function K1(){const n=String(v1).trim();if(n)return n.replace(/\/+$/,"");const f=new URL(window.location.href);return/\/deployer\/?$/.test(f.pathname)?(f.pathname=f.pathname.replace(/\/deployer\/?$/,"/app"),f.search="",f.hash="",f.toString().replace(/\/+$/,"")):`${window.location.origin}/app`}function X1(n){const f=String(n.contractAddress||"").trim(),t=String(n.scope||"").trim(),e=Number(n.minAge),r=String(n.nationality||"").trim().toUpperCase(),s=String(n.network).trim();if(!/^0x[a-fA-F0-9]{40}$/.test(f)||!t||t.length>31||!Number.isFinite(e)||e<=0||e>99||!/^[A-Z]{2,3}$/.test(r))return"";const i=W1({v:1,contractAddress:f,scope:t,minAge:Math.trunc(e),nationality:r,network:s||"celo"});return`${K1()}/?env=${i}`}function ot(n){l0=n||"",Vt&&(Vt.value=l0),Q0&&(Q0.disabled=!l0),j0&&(j0.disabled=!l0)}function vf(n){return String(n||"").trim().toUpperCase()}function Of(n){return String(n||"").trim()}function lf(n){const f=Number(n);if(!Number.isFinite(f))return"";const t=Math.trunc(f);return t<=0||t>99?"":String(t)}function $f(n){return/^[A-Z]{2,3}$/.test(n)}const Pe=[0n,0n,0n,0n],Fe=[!1,!1,!1];function q1(n){const t=Y0.defaultAbiCoder().encode(["bool","uint256","bool","uint256[4]","bool[3]"],[n.olderThanEnabled,n.olderThan,n.forbiddenCountriesEnabled,n.forbiddenCountriesListPacked,n.ofacEnabled]);return tf(t)}function He(){const n=vf(ef.value),f=lf(F0.value),t=Of(Z0.value);H1.textContent=n||"—",D1.textContent=f||"—",M1.textContent=t||"—",Dt.value="",t0="",T0=!1,ot(""),E0&&(E0.textContent="—"),G1.textContent=`${t.length} / 31 characters`,$f(n)?zt.textContent="Format OK":zt.textContent="Use two or three-letter uppercase code.",!!f&&(t0=q1({olderThanEnabled:Number(f)>0,olderThan:BigInt(f),forbiddenCountriesEnabled:!1,forbiddenCountriesListPacked:Pe,ofacEnabled:Fe}),Dt.value=t0),N0(),ct()}function N0(){const n=!!(G&&$f(vf(ef.value))&&lf(F0.value)&&Of(Z0.value).length>0&&Of(Z0.value).length<=31&&t0&&T0),f=!!(G&&lf(F0.value)&&t0&&!T0);Le.disabled=!n,_e.disabled=!f,Ue.disabled=!Rf,Re.disabled=!it,ve.disabled=!t0,Q0&&(Q0.disabled=!l0),j0&&(j0.disabled=!l0)}async function at(){if(!window.ethereum)return!1;if(await window.ethereum.request({method:"eth_chainId"})===Ht)return!0;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:Ht}]}),!0}catch(f){const t=f instanceof Error?f.message:"Wrong network";return S(`Switch to Celo Mainnet in MetaMask. ${t}`,!0),!1}}async function Y1(){if(!window.ethereum){S("No wallet detected. Install MetaMask.",!0);return}try{if(!await at())return;const f=await window.ethereum.request({method:"eth_requestAccounts"});if(G=(f==null?void 0:f[0])??"",!G){S("No wallet connected.",!0);return}z1.textContent=G,S("Wallet connected. Ready to deploy."),await ct(),N0()}catch(n){const f=n instanceof Error?n.message:"Wallet connection failed";S(f,!0)}}function Z1(){return{nationality:vf(ef.value),minAge:lf(F0.value),scopeSeed:Of(Z0.value),network:"celo"}}function Q1(n){var s;const f=(s=_1.bytecode)==null?void 0:s.object,t=Y0.defaultAbiCoder(),e=t0,r=t.encode(["address","string","bytes32","string","uint256"],[uf,n.scopeSeed,e,n.nationality,BigInt(n.minAge)]);return`${f}${r.slice(2)}`}function j1(){const n=vf(ef.value),f=lf(F0.value);if(!$f(n))throw new Error("Invalid nationality format");if(!f)throw new Error("Minimum age is required");return{olderThanEnabled:Number(f)>0,olderThan:BigInt(f),forbiddenCountriesEnabled:!1,forbiddenCountriesListPacked:Pe,ofacEnabled:Fe}}async function ct(){if(!t0||!window.ethereum){T0=!1,E0&&(E0.textContent="—"),N0();return}const n=++Gf;try{const f=ft.encodeFunctionData("verificationConfigV2Exists",[t0]),t=await window.ethereum.request({method:"eth_call",params:[{to:uf,data:f},"latest"]});if(n!==Gf)return;const[e]=ft.decodeFunctionResult("verificationConfigV2Exists",t);T0=!!e,E0&&(E0.textContent=T0?"Registered on hub":"Not registered"),N0()}catch{if(n!==Gf)return;T0=!1,E0&&(E0.textContent="Unable to verify"),N0()}}async function De(n){const f=async(t,e,r)=>{try{const s=await window.ethereum.request({method:"eth_getTransactionReceipt",params:[n]});if(s)return t(s);if(r>90)return e(new Error("Timed out waiting for confirmation"));setTimeout(()=>f(t,e,r+1),4e3)}catch(s){e(s)}};return new Promise((t,e)=>f(t,e,0))}async function f5(n,f){const t=`${Te.replace(/\/$/,"")}/contracts`,r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chainId:R1,address:n,startBlock:f})});if(!r.ok){const s=await r.text().catch(()=>""),i=s?`${r.status} ${s}`:`HTTP ${r.status}`;throw new Error(i)}return{ok:!0}}async function t5(){if(!window.ethereum){S("No wallet detected. Install MetaMask.",!0);return}if(!G){S("Connect your wallet first.",!0);return}if(await at())try{const f=Z1();if(!$f(f.nationality))throw new Error("Invalid nationality format");if(!f.minAge)throw new Error("Minimum age is required");if(!f.scopeSeed||f.scopeSeed.length>31)throw new Error("Scope seed must be between 1 and 31 characters");S("Preparing deployment…");const t=Q1(f),e=[{from:G,data:t}],r=await window.ethereum.request({method:"eth_estimateGas",params:e}),s=await window.ethereum.request({method:"eth_sendTransaction",params:[{from:G,data:t,gas:r}]});Rf=s,$e.textContent=s,N0(),S("Transaction submitted. Waiting for confirmation…");const i=await De(s);if(i&&i.contractAddress){if(it=i.contractAddress,J1.textContent=i.contractAddress,ot(X1({contractAddress:i.contractAddress,scope:f.scopeSeed,minAge:Number(f.minAge),nationality:f.nationality,network:f.network})),N0(),Te){S("Deployment confirmed on Celo Mainnet. Starting indexer…");try{const o=Number(i.blockNumber??0);await f5(i.contractAddress,o),S("Deployment confirmed. Indexer started.")}catch(o){const a=o instanceof Error?o.message:"Indexer start failed";S(`Deployment confirmed. ${a}`,!0)}}}else S("Transaction confirmed, but no contract address found.",!0)}catch(f){const t=f instanceof Error?f.message:"Deployment failed";S(t,!0)}}async function e5(){if(!window.ethereum){S("No wallet detected. Install MetaMask.",!0);return}if(!G){S("Connect your wallet first.",!0);return}if(await at())try{const f=j1(),t=ft.encodeFunctionData("setVerificationConfigV2",[f]);S("Registering config on the Self hub…");const e=[{from:G,to:uf,data:t}],r=await window.ethereum.request({method:"eth_estimateGas",params:e}),s=await window.ethereum.request({method:"eth_sendTransaction",params:[{from:G,to:uf,data:t,gas:r}]});Rf=s,$e.textContent=s,N0(),S("Config transaction submitted. Waiting for confirmation…"),await De(s),S("Config registered on the hub."),await ct()}catch(f){const t=f instanceof Error?f.message:"Failed to register config";S(t,!0)}}function Pf(n){n&&navigator.clipboard.writeText(n).catch(()=>{})}[ef,F0,Z0].forEach(n=>n.addEventListener("input",He));V1.addEventListener("click",Y1);_e.addEventListener("click",e5);Le.addEventListener("click",t5);Ue.addEventListener("click",()=>Pf(Rf));Re.addEventListener("click",()=>Pf(it));ve.addEventListener("click",()=>Pf(t0));Q0&&Q0.addEventListener("click",()=>Pf(l0));j0&&j0.addEventListener("click",()=>{l0&&window.open(l0,"_blank","noopener,noreferrer")});$1.value=uf;P1.value=U1;F1.value="Celo Mainnet (42220)";ef.value=hf.VITE_NATIONALITY;F0.value=hf.VITE_MIN_AGE;Z0.value=hf.VITE_SCOPE_SEED;ot("");He();
