var vy=Object.defineProperty;var th=s=>{throw TypeError(s)};var Py=(s,t,e)=>t in s?vy(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var z=(s,t,e)=>Py(s,typeof t!="symbol"?t+"":t,e),Td=(s,t,e)=>t.has(s)||th("Cannot "+e);var L=(s,t,e)=>(Td(s,t,"read from private field"),e?e.call(s):t.get(s)),j=(s,t,e)=>t.has(s)?th("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),T=(s,t,e,n)=>(Td(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e),ct=(s,t,e)=>(Td(s,t,"access private method"),e);var kr=(s,t,e,n)=>({set _(a){T(s,t,a,e)},get _(){return L(s,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function e(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=e(a);fetch(a.href,i)}})();var Xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iy(s){if(s.__esModule)return s;var t=s.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var a=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:function(){return s[n]}})}),e}var al={},Ty=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Z8={},Pn={};let r6;const By=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Pn.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Pn.getSymbolTotalCodewords=function(t){return By[t]};Pn.getBCHDigit=function(s){let t=0;for(;s!==0;)t++,s>>>=1;return t};Pn.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');r6=t};Pn.isKanjiModeEnabled=function(){return typeof r6<"u"};Pn.toSJIS=function(t){return r6(t)};var S1={};(function(s){s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+e)}}s.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},s.from=function(n,a){if(s.isValid(n))return n;try{return t(n)}catch{return a}}})(S1);function X8(){this.buffer=[],this.length=0}X8.prototype={get:function(s){const t=Math.floor(s/8);return(this.buffer[t]>>>7-s%8&1)===1},put:function(s,t){for(let e=0;e<t;e++)this.putBit((s>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(s){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),s&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Sy=X8;function il(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}il.prototype.set=function(s,t,e,n){const a=s*this.size+t;this.data[a]=e,n&&(this.reservedBit[a]=!0)};il.prototype.get=function(s,t){return this.data[s*this.size+t]};il.prototype.xor=function(s,t,e){this.data[s*this.size+t]^=e};il.prototype.isReserved=function(s,t){return this.reservedBit[s*this.size+t]};var Oy=il,Y8={};(function(s){const t=Pn.getSymbolSize;s.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,i=t(n),r=i===145?26:Math.ceil((i-13)/(2*a-2))*2,o=[i-7];for(let f=1;f<a-1;f++)o[f]=o[f-1]-r;return o.push(6),o.reverse()},s.getPositions=function(n){const a=[],i=s.getRowColCoords(n),r=i.length;for(let o=0;o<r;o++)for(let f=0;f<r;f++)o===0&&f===0||o===0&&f===r-1||o===r-1&&f===0||a.push([i[o],i[f]]);return a}})(Y8);var tb={};const Ry=Pn.getSymbolSize,eh=7;tb.getPositions=function(t){const e=Ry(t);return[[0,0],[e-eh,0],[0,e-eh]]};var eb={};(function(s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};s.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},s.from=function(a){return s.isValid(a)?parseInt(a,10):void 0},s.getPenaltyN1=function(a){const i=a.size;let r=0,o=0,f=0,l=null,c=null;for(let h=0;h<i;h++){o=f=0,l=c=null;for(let m=0;m<i;m++){let p=a.get(h,m);p===l?o++:(o>=5&&(r+=t.N1+(o-5)),l=p,o=1),p=a.get(m,h),p===c?f++:(f>=5&&(r+=t.N1+(f-5)),c=p,f=1)}o>=5&&(r+=t.N1+(o-5)),f>=5&&(r+=t.N1+(f-5))}return r},s.getPenaltyN2=function(a){const i=a.size;let r=0;for(let o=0;o<i-1;o++)for(let f=0;f<i-1;f++){const l=a.get(o,f)+a.get(o,f+1)+a.get(o+1,f)+a.get(o+1,f+1);(l===4||l===0)&&r++}return r*t.N2},s.getPenaltyN3=function(a){const i=a.size;let r=0,o=0,f=0;for(let l=0;l<i;l++){o=f=0;for(let c=0;c<i;c++)o=o<<1&2047|a.get(l,c),c>=10&&(o===1488||o===93)&&r++,f=f<<1&2047|a.get(c,l),c>=10&&(f===1488||f===93)&&r++}return r*t.N3},s.getPenaltyN4=function(a){let i=0;const r=a.data.length;for(let f=0;f<r;f++)i+=a.data[f];return Math.abs(Math.ceil(i*100/r/5)-10)*t.N4};function e(n,a,i){switch(n){case s.Patterns.PATTERN000:return(a+i)%2===0;case s.Patterns.PATTERN001:return a%2===0;case s.Patterns.PATTERN010:return i%3===0;case s.Patterns.PATTERN011:return(a+i)%3===0;case s.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case s.Patterns.PATTERN101:return a*i%2+a*i%3===0;case s.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case s.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}s.applyMask=function(a,i){const r=i.size;for(let o=0;o<r;o++)for(let f=0;f<r;f++)i.isReserved(f,o)||i.xor(f,o,e(a,f,o))},s.getBestMask=function(a,i){const r=Object.keys(s.Patterns).length;let o=0,f=1/0;for(let l=0;l<r;l++){i(l),s.applyMask(l,a);const c=s.getPenaltyN1(a)+s.getPenaltyN2(a)+s.getPenaltyN3(a)+s.getPenaltyN4(a);s.applyMask(l,a),c<f&&(f=c,o=l)}return o}})(eb);var O1={};const oi=S1,Ml=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Dl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];O1.getBlocksCount=function(t,e){switch(e){case oi.L:return Ml[(t-1)*4+0];case oi.M:return Ml[(t-1)*4+1];case oi.Q:return Ml[(t-1)*4+2];case oi.H:return Ml[(t-1)*4+3];default:return}};O1.getTotalCodewordsCount=function(t,e){switch(e){case oi.L:return Dl[(t-1)*4+0];case oi.M:return Dl[(t-1)*4+1];case oi.Q:return Dl[(t-1)*4+2];case oi.H:return Dl[(t-1)*4+3];default:return}};var nb={},R1={};const b0=new Uint8Array(512),jf=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)b0[e]=t,jf[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)b0[e]=b0[e-255]})();R1.log=function(t){if(t<1)throw new Error("log("+t+")");return jf[t]};R1.exp=function(t){return b0[t]};R1.mul=function(t,e){return t===0||e===0?0:b0[jf[t]+jf[e]]};(function(s){const t=R1;s.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let r=0;r<n.length;r++)for(let o=0;o<a.length;o++)i[r+o]^=t.mul(n[r],a[o]);return i},s.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const r=i[0];for(let f=0;f<a.length;f++)i[f]^=t.mul(a[f],r);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},s.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=s.mul(a,new Uint8Array([1,t.exp(i)]));return a}})(nb);const sb=nb;function o6(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}o6.prototype.initialize=function(t){this.degree=t,this.genPoly=sb.generateECPolynomial(this.degree)};o6.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=sb.mod(e,this.genPoly),a=this.degree-n.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(n,a),i}return n};var Fy=o6,ab={},pi={},c6={};c6.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Gs={};const ib="[0-9]+",Ny="[A-Z $%*+\\-./:]+";let L0="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";L0=L0.replace(/u/g,"\\u");const ky="(?:(?![A-Z0-9 $%*+\\-./:]|"+L0+`)(?:.|[\r
]))+`;Gs.KANJI=new RegExp(L0,"g");Gs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Gs.BYTE=new RegExp(ky,"g");Gs.NUMERIC=new RegExp(ib,"g");Gs.ALPHANUMERIC=new RegExp(Ny,"g");const Uy=new RegExp("^"+L0+"$"),My=new RegExp("^"+ib+"$"),Dy=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Gs.testKanji=function(t){return Uy.test(t)};Gs.testNumeric=function(t){return My.test(t)};Gs.testAlphanumeric=function(t){return Dy.test(t)};(function(s){const t=c6,e=Gs;s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(i,r){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?i.ccBits[0]:r<27?i.ccBits[1]:i.ccBits[2]},s.getBestModeForData=function(i){return e.testNumeric(i)?s.NUMERIC:e.testAlphanumeric(i)?s.ALPHANUMERIC:e.testKanji(i)?s.KANJI:s.BYTE},s.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},s.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+a)}}s.from=function(i,r){if(s.isValid(i))return i;try{return n(i)}catch{return r}}})(pi);(function(s){const t=Pn,e=O1,n=S1,a=pi,i=c6,r=7973,o=t.getBCHDigit(r);function f(m,p,C){for(let A=1;A<=40;A++)if(p<=s.getCapacity(A,C,m))return A}function l(m,p){return a.getCharCountIndicator(m,p)+4}function c(m,p){let C=0;return m.forEach(function(A){const w=l(A.mode,p);C+=w+A.getBitsLength()}),C}function h(m,p){for(let C=1;C<=40;C++)if(c(m,C)<=s.getCapacity(C,p,a.MIXED))return C}s.from=function(p,C){return i.isValid(p)?parseInt(p,10):C},s.getCapacity=function(p,C,A){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=a.BYTE);const w=t.getSymbolTotalCodewords(p),I=e.getTotalCodewordsCount(p,C),v=(w-I)*8;if(A===a.MIXED)return v;const F=v-l(A,p);switch(A){case a.NUMERIC:return Math.floor(F/10*3);case a.ALPHANUMERIC:return Math.floor(F/11*2);case a.KANJI:return Math.floor(F/13);case a.BYTE:default:return Math.floor(F/8)}},s.getBestVersionForData=function(p,C){let A;const w=n.from(C,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,w);if(p.length===0)return 1;A=p[0]}else A=p;return f(A.mode,A.getLength(),w)},s.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let C=p<<12;for(;t.getBCHDigit(C)-o>=0;)C^=r<<t.getBCHDigit(C)-o;return p<<12|C}})(ab);var rb={};const ku=Pn,ob=1335,zy=21522,nh=ku.getBCHDigit(ob);rb.getEncodedBits=function(t,e){const n=t.bit<<3|e;let a=n<<10;for(;ku.getBCHDigit(a)-nh>=0;)a^=ob<<ku.getBCHDigit(a)-nh;return(n<<10|a)^zy};var cb={};const qy=pi;function tc(s){this.mode=qy.NUMERIC,this.data=s.toString()}tc.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};tc.prototype.getLength=function(){return this.data.length};tc.prototype.getBitsLength=function(){return tc.getBitsLength(this.data.length)};tc.prototype.write=function(t){let e,n,a;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),a=parseInt(n,10),t.put(a,10);const i=this.data.length-e;i>0&&(n=this.data.substr(e),a=parseInt(n,10),t.put(a,i*3+1))};var Vy=tc;const Gy=pi,Bd=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ec(s){this.mode=Gy.ALPHANUMERIC,this.data=s}ec.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};ec.prototype.getLength=function(){return this.data.length};ec.prototype.getBitsLength=function(){return ec.getBitsLength(this.data.length)};ec.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=Bd.indexOf(this.data[e])*45;n+=Bd.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(Bd.indexOf(this.data[e]),6)};var Hy=ec;const jy=pi;function nc(s){this.mode=jy.BYTE,typeof s=="string"?this.data=new TextEncoder().encode(s):this.data=new Uint8Array(s)}nc.getBitsLength=function(t){return t*8};nc.prototype.getLength=function(){return this.data.length};nc.prototype.getBitsLength=function(){return nc.getBitsLength(this.data.length)};nc.prototype.write=function(s){for(let t=0,e=this.data.length;t<e;t++)s.put(this.data[t],8)};var Ky=nc;const $y=pi,Qy=Pn;function sc(s){this.mode=$y.KANJI,this.data=s}sc.getBitsLength=function(t){return t*13};sc.prototype.getLength=function(){return this.data.length};sc.prototype.getBitsLength=function(){return sc.getBitsLength(this.data.length)};sc.prototype.write=function(s){let t;for(t=0;t<this.data.length;t++){let e=Qy.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),s.put(e,13)}};var Jy=sc,lb={exports:{}};(function(s){var t={single_source_shortest_paths:function(e,n,a){var i={},r={};r[n]=0;var o=t.PriorityQueue.make();o.push(n,0);for(var f,l,c,h,m,p,C,A,w;!o.empty();){f=o.pop(),l=f.value,h=f.cost,m=e[l]||{};for(c in m)m.hasOwnProperty(c)&&(p=m[c],C=h+p,A=r[c],w=typeof r[c]>"u",(w||A>C)&&(r[c]=C,o.push(c,C),i[c]=l))}if(typeof a<"u"&&typeof r[a]>"u"){var I=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(I)}return i},extract_shortest_path_from_predecessor_list:function(e,n){for(var a=[],i=n;i;)a.push(i),e[i],i=e[i];return a.reverse(),a},find_path:function(e,n,a){var i=t.single_source_shortest_paths(e,n,a);return t.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(e){var n=t.PriorityQueue,a={},i;e=e||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=e.sorter||n.default_sorter,a},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var a={value:e,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};s.exports=t})(lb);var Wy=lb.exports;(function(s){const t=pi,e=Vy,n=Hy,a=Ky,i=Jy,r=Gs,o=Pn,f=Wy;function l(I){return unescape(encodeURIComponent(I)).length}function c(I,v,F){const S=[];let D;for(;(D=I.exec(F))!==null;)S.push({data:D[0],index:D.index,mode:v,length:D[0].length});return S}function h(I){const v=c(r.NUMERIC,t.NUMERIC,I),F=c(r.ALPHANUMERIC,t.ALPHANUMERIC,I);let S,D;return o.isKanjiModeEnabled()?(S=c(r.BYTE,t.BYTE,I),D=c(r.KANJI,t.KANJI,I)):(S=c(r.BYTE_KANJI,t.BYTE,I),D=[]),v.concat(F,S,D).sort(function(u,_){return u.index-_.index}).map(function(u){return{data:u.data,mode:u.mode,length:u.length}})}function m(I,v){switch(v){case t.NUMERIC:return e.getBitsLength(I);case t.ALPHANUMERIC:return n.getBitsLength(I);case t.KANJI:return i.getBitsLength(I);case t.BYTE:return a.getBitsLength(I)}}function p(I){return I.reduce(function(v,F){const S=v.length-1>=0?v[v.length-1]:null;return S&&S.mode===F.mode?(v[v.length-1].data+=F.data,v):(v.push(F),v)},[])}function C(I){const v=[];for(let F=0;F<I.length;F++){const S=I[F];switch(S.mode){case t.NUMERIC:v.push([S,{data:S.data,mode:t.ALPHANUMERIC,length:S.length},{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.ALPHANUMERIC:v.push([S,{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.KANJI:v.push([S,{data:S.data,mode:t.BYTE,length:l(S.data)}]);break;case t.BYTE:v.push([{data:S.data,mode:t.BYTE,length:l(S.data)}])}}return v}function A(I,v){const F={},S={start:{}};let D=["start"];for(let P=0;P<I.length;P++){const u=I[P],_=[];for(let G=0;G<u.length;G++){const H=u[G],J=""+P+G;_.push(J),F[J]={node:H,lastCount:0},S[J]={};for(let U=0;U<D.length;U++){const E=D[U];F[E]&&F[E].node.mode===H.mode?(S[E][J]=m(F[E].lastCount+H.length,H.mode)-m(F[E].lastCount,H.mode),F[E].lastCount+=H.length):(F[E]&&(F[E].lastCount=H.length),S[E][J]=m(H.length,H.mode)+4+t.getCharCountIndicator(H.mode,v))}}D=_}for(let P=0;P<D.length;P++)S[D[P]].end=0;return{map:S,table:F}}function w(I,v){let F;const S=t.getBestModeForData(I);if(F=t.from(v,S),F!==t.BYTE&&F.bit<S.bit)throw new Error('"'+I+'" cannot be encoded with mode '+t.toString(F)+`.
 Suggested mode is: `+t.toString(S));switch(F===t.KANJI&&!o.isKanjiModeEnabled()&&(F=t.BYTE),F){case t.NUMERIC:return new e(I);case t.ALPHANUMERIC:return new n(I);case t.KANJI:return new i(I);case t.BYTE:return new a(I)}}s.fromArray=function(v){return v.reduce(function(F,S){return typeof S=="string"?F.push(w(S,null)):S.data&&F.push(w(S.data,S.mode)),F},[])},s.fromString=function(v,F){const S=h(v,o.isKanjiModeEnabled()),D=C(S),P=A(D,F),u=f.find_path(P.map,"start","end"),_=[];for(let G=1;G<u.length-1;G++)_.push(P.table[u[G]].node);return s.fromArray(p(_))},s.rawSplit=function(v){return s.fromArray(h(v,o.isKanjiModeEnabled()))}})(cb);const F1=Pn,Sd=S1,Zy=Sy,Xy=Oy,Yy=Y8,tm=tb,Uu=eb,Mu=O1,em=Fy,Kf=ab,nm=rb,sm=pi,Od=cb;function am(s,t){const e=s.size,n=tm.getPositions(t);for(let a=0;a<n.length;a++){const i=n[a][0],r=n[a][1];for(let o=-1;o<=7;o++)if(!(i+o<=-1||e<=i+o))for(let f=-1;f<=7;f++)r+f<=-1||e<=r+f||(o>=0&&o<=6&&(f===0||f===6)||f>=0&&f<=6&&(o===0||o===6)||o>=2&&o<=4&&f>=2&&f<=4?s.set(i+o,r+f,!0,!0):s.set(i+o,r+f,!1,!0))}}function im(s){const t=s.size;for(let e=8;e<t-8;e++){const n=e%2===0;s.set(e,6,n,!0),s.set(6,e,n,!0)}}function rm(s,t){const e=Yy.getPositions(t);for(let n=0;n<e.length;n++){const a=e[n][0],i=e[n][1];for(let r=-2;r<=2;r++)for(let o=-2;o<=2;o++)r===-2||r===2||o===-2||o===2||r===0&&o===0?s.set(a+r,i+o,!0,!0):s.set(a+r,i+o,!1,!0)}}function om(s,t){const e=s.size,n=Kf.getEncodedBits(t);let a,i,r;for(let o=0;o<18;o++)a=Math.floor(o/3),i=o%3+e-8-3,r=(n>>o&1)===1,s.set(a,i,r,!0),s.set(i,a,r,!0)}function Rd(s,t,e){const n=s.size,a=nm.getEncodedBits(t,e);let i,r;for(i=0;i<15;i++)r=(a>>i&1)===1,i<6?s.set(i,8,r,!0):i<8?s.set(i+1,8,r,!0):s.set(n-15+i,8,r,!0),i<8?s.set(8,n-i-1,r,!0):i<9?s.set(8,15-i-1+1,r,!0):s.set(8,15-i-1,r,!0);s.set(n-8,8,1,!0)}function cm(s,t){const e=s.size;let n=-1,a=e-1,i=7,r=0;for(let o=e-1;o>0;o-=2)for(o===6&&o--;;){for(let f=0;f<2;f++)if(!s.isReserved(a,o-f)){let l=!1;r<t.length&&(l=(t[r]>>>i&1)===1),s.set(a,o-f,l),i--,i===-1&&(r++,i=7)}if(a+=n,a<0||e<=a){a-=n,n=-n;break}}}function lm(s,t,e){const n=new Zy;e.forEach(function(f){n.put(f.mode.bit,4),n.put(f.getLength(),sm.getCharCountIndicator(f.mode,s)),f.write(n)});const a=F1.getSymbolTotalCodewords(s),i=Mu.getTotalCodewordsCount(s,t),r=(a-i)*8;for(n.getLengthInBits()+4<=r&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const o=(r-n.getLengthInBits())/8;for(let f=0;f<o;f++)n.put(f%2?17:236,8);return fm(n,s,t)}function fm(s,t,e){const n=F1.getSymbolTotalCodewords(t),a=Mu.getTotalCodewordsCount(t,e),i=n-a,r=Mu.getBlocksCount(t,e),o=n%r,f=r-o,l=Math.floor(n/r),c=Math.floor(i/r),h=c+1,m=l-c,p=new em(m);let C=0;const A=new Array(r),w=new Array(r);let I=0;const v=new Uint8Array(s.buffer);for(let u=0;u<r;u++){const _=u<f?c:h;A[u]=v.slice(C,C+_),w[u]=p.encode(A[u]),C+=_,I=Math.max(I,_)}const F=new Uint8Array(n);let S=0,D,P;for(D=0;D<I;D++)for(P=0;P<r;P++)D<A[P].length&&(F[S++]=A[P][D]);for(D=0;D<m;D++)for(P=0;P<r;P++)F[S++]=w[P][D];return F}function dm(s,t,e,n){let a;if(Array.isArray(s))a=Od.fromArray(s);else if(typeof s=="string"){let l=t;if(!l){const c=Od.rawSplit(s);l=Kf.getBestVersionForData(c,e)}a=Od.fromString(s,l||40)}else throw new Error("Invalid data");const i=Kf.getBestVersionForData(a,e);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const r=lm(t,e,a),o=F1.getSymbolSize(t),f=new Xy(o);return am(f,t),im(f),rm(f,t),Rd(f,e,0),t>=7&&om(f,t),cm(f,r),isNaN(n)&&(n=Uu.getBestMask(f,Rd.bind(null,f,e))),Uu.applyMask(n,f),Rd(f,e,n),{modules:f,version:t,errorCorrectionLevel:e,maskPattern:n,segments:a}}Z8.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Sd.M,a,i;return typeof e<"u"&&(n=Sd.from(e.errorCorrectionLevel,Sd.M),a=Kf.from(e.version),i=Uu.from(e.maskPattern),e.toSJISFunc&&F1.setToSJISFunction(e.toSJISFunc)),dm(t,a,n,i)};var fb={},l6={};(function(s){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let n=e.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+e);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}s.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,r=n.scale||4;return{width:i,scale:i?4:r,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},s.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},s.getImageWidth=function(n,a){const i=s.getScale(n,a);return Math.floor((n+a.margin*2)*i)},s.qrToImageData=function(n,a,i){const r=a.modules.size,o=a.modules.data,f=s.getScale(r,i),l=Math.floor((r+i.margin*2)*f),c=i.margin*f,h=[i.color.light,i.color.dark];for(let m=0;m<l;m++)for(let p=0;p<l;p++){let C=(m*l+p)*4,A=i.color.light;if(m>=c&&p>=c&&m<l-c&&p<l-c){const w=Math.floor((m-c)/f),I=Math.floor((p-c)/f);A=h[o[w*r+I]?1:0]}n[C++]=A.r,n[C++]=A.g,n[C++]=A.b,n[C]=A.a}}})(l6);(function(s){const t=l6;function e(a,i,r){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=r,i.width=r,i.style.height=r+"px",i.style.width=r+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}s.render=function(i,r,o){let f=o,l=r;typeof f>"u"&&(!r||!r.getContext)&&(f=r,r=void 0),r||(l=n()),f=t.getOptions(f);const c=t.getImageWidth(i.modules.size,f),h=l.getContext("2d"),m=h.createImageData(c,c);return t.qrToImageData(m.data,i,f),e(h,l,c),h.putImageData(m,0,0),l},s.renderToDataURL=function(i,r,o){let f=o;typeof f>"u"&&(!r||!r.getContext)&&(f=r,r=void 0),f||(f={});const l=s.render(i,r,f),c=f.type||"image/png",h=f.rendererOpts||{};return l.toDataURL(c,h.quality)}})(fb);var db={};const um=l6;function sh(s,t){const e=s.a/255,n=t+'="'+s.hex+'"';return e<1?n+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':n}function Fd(s,t,e){let n=s+t;return typeof e<"u"&&(n+=" "+e),n}function hm(s,t,e){let n="",a=0,i=!1,r=0;for(let o=0;o<s.length;o++){const f=Math.floor(o%t),l=Math.floor(o/t);!f&&!i&&(i=!0),s[o]?(r++,o>0&&f>0&&s[o-1]||(n+=i?Fd("M",f+e,.5+l+e):Fd("m",a,0),a=0,i=!1),f+1<t&&s[o+1]||(n+=Fd("h",r),r=0)):a++}return n}db.render=function(t,e,n){const a=um.getOptions(e),i=t.modules.size,r=t.modules.data,o=i+a.margin*2,f=a.color.light.a?"<path "+sh(a.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",l="<path "+sh(a.color.dark,"stroke")+' d="'+hm(r,i,a.margin)+'"/>',c='viewBox="0 0 '+o+" "+o+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+c+' shape-rendering="crispEdges">'+f+l+`</svg>
`;return typeof n=="function"&&n(null,m),m};const bm=Ty,Du=Z8,ub=fb,pm=db;function f6(s,t,e,n,a){const i=[].slice.call(arguments,1),r=i.length,o=typeof i[r-1]=="function";if(!o&&!bm())throw new Error("Callback required as last argument");if(o){if(r<2)throw new Error("Too few arguments provided");r===2?(a=e,e=t,t=n=void 0):r===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=e,e=t,t=void 0))}else{if(r<1)throw new Error("Too few arguments provided");return r===1?(e=t,t=n=void 0):r===2&&!t.getContext&&(n=e,e=t,t=void 0),new Promise(function(f,l){try{const c=Du.create(e,n);f(s(c,t,n))}catch(c){l(c)}})}try{const f=Du.create(e,n);a(null,s(f,t,n))}catch(f){a(f)}}al.create=Du.create;al.toCanvas=f6.bind(null,ub.render);al.toDataURL=f6.bind(null,ub.renderToDataURL);al.toString=f6.bind(null,function(s,t,e){return pm.render(s,e)});const qs=Object.create(null);qs.open="0";qs.close="1";qs.ping="2";qs.pong="3";qs.message="4";qs.upgrade="5";qs.noop="6";const uf=Object.create(null);Object.keys(qs).forEach(s=>{uf[qs[s]]=s});const zu={type:"error",data:"parser error"},hb=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",bb=typeof ArrayBuffer=="function",pb=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,d6=({type:s,data:t},e,n)=>hb&&t instanceof Blob?e?n(t):ah(t,n):bb&&(t instanceof ArrayBuffer||pb(t))?e?n(t):ah(new Blob([t]),n):n(qs[s]+(t||"")),ah=(s,t)=>{const e=new FileReader;return e.onload=function(){const n=e.result.split(",")[1];t("b"+(n||""))},e.readAsDataURL(s)};function ih(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Nd;function gm(s,t){if(hb&&s.data instanceof Blob)return s.data.arrayBuffer().then(ih).then(t);if(bb&&(s.data instanceof ArrayBuffer||pb(s.data)))return t(ih(s.data));d6(s,!1,e=>{Nd||(Nd=new TextEncoder),t(Nd.encode(e))})}const rh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<rh.length;s++)s0[rh.charCodeAt(s)]=s;const ym=s=>{let t=s.length*.75,e=s.length,n,a=0,i,r,o,f;s[s.length-1]==="="&&(t--,s[s.length-2]==="="&&t--);const l=new ArrayBuffer(t),c=new Uint8Array(l);for(n=0;n<e;n+=4)i=s0[s.charCodeAt(n)],r=s0[s.charCodeAt(n+1)],o=s0[s.charCodeAt(n+2)],f=s0[s.charCodeAt(n+3)],c[a++]=i<<2|r>>4,c[a++]=(r&15)<<4|o>>2,c[a++]=(o&3)<<6|f&63;return l},mm=typeof ArrayBuffer=="function",u6=(s,t)=>{if(typeof s!="string")return{type:"message",data:gb(s,t)};const e=s.charAt(0);return e==="b"?{type:"message",data:_m(s.substring(1),t)}:uf[e]?s.length>1?{type:uf[e],data:s.substring(1)}:{type:uf[e]}:zu},_m=(s,t)=>{if(mm){const e=ym(s);return gb(e,t)}else return{base64:!0,data:s}},gb=(s,t)=>{switch(t){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},yb="",xm=(s,t)=>{const e=s.length,n=new Array(e);let a=0;s.forEach((i,r)=>{d6(i,!1,o=>{n[r]=o,++a===e&&t(n.join(yb))})})},wm=(s,t)=>{const e=s.split(yb),n=[];for(let a=0;a<e.length;a++){const i=u6(e[a],t);if(n.push(i),i.type==="error")break}return n};function Lm(){return new TransformStream({transform(s,t){gm(s,e=>{const n=e.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(e)})}})}let kd;function zl(s){return s.reduce((t,e)=>t+e.length,0)}function ql(s,t){if(s[0].length===t)return s.shift();const e=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)e[a]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),e}function Am(s,t){kd||(kd=new TextDecoder);const e=[];let n=0,a=-1,i=!1;return new TransformStream({transform(r,o){for(e.push(r);;){if(n===0){if(zl(e)<1)break;const f=ql(e,1);i=(f[0]&128)===128,a=f[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(zl(e)<2)break;const f=ql(e,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),n=3}else if(n===2){if(zl(e)<8)break;const f=ql(e,8),l=new DataView(f.buffer,f.byteOffset,f.length),c=l.getUint32(0);if(c>Math.pow(2,21)-1){o.enqueue(zu);break}a=c*Math.pow(2,32)+l.getUint32(4),n=3}else{if(zl(e)<a)break;const f=ql(e,a);o.enqueue(u6(i?f:kd.decode(f),t)),n=0}if(a===0||a>s){o.enqueue(zu);break}}}})}const mb=4;function Ce(s){if(s)return Em(s)}function Em(s){for(var t in Ce.prototype)s[t]=Ce.prototype[t];return s}Ce.prototype.on=Ce.prototype.addEventListener=function(s,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(t),this};Ce.prototype.once=function(s,t){function e(){this.off(s,e),t.apply(this,arguments)}return e.fn=t,this.on(s,e),this};Ce.prototype.off=Ce.prototype.removeListener=Ce.prototype.removeAllListeners=Ce.prototype.removeEventListener=function(s,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+s];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,a=0;a<e.length;a++)if(n=e[a],n===t||n.fn===t){e.splice(a,1);break}return e.length===0&&delete this._callbacks["$"+s],this};Ce.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+s],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,a=e.length;n<a;++n)e[n].apply(this,t)}return this};Ce.prototype.emitReserved=Ce.prototype.emit;Ce.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Ce.prototype.hasListeners=function(s){return!!this.listeners(s).length};const N1=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Gn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Cm="arraybuffer";function _b(s,...t){return t.reduce((e,n)=>(s.hasOwnProperty(n)&&(e[n]=s[n]),e),{})}const vm=Gn.setTimeout,Pm=Gn.clearTimeout;function k1(s,t){t.useNativeTimers?(s.setTimeoutFn=vm.bind(Gn),s.clearTimeoutFn=Pm.bind(Gn)):(s.setTimeoutFn=Gn.setTimeout.bind(Gn),s.clearTimeoutFn=Gn.clearTimeout.bind(Gn))}const Im=1.33;function Tm(s){return typeof s=="string"?Bm(s):Math.ceil((s.byteLength||s.size)*Im)}function Bm(s){let t=0,e=0;for(let n=0,a=s.length;n<a;n++)t=s.charCodeAt(n),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(n++,e+=4);return e}function xb(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Sm(s){let t="";for(let e in s)s.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(s[e]));return t}function Om(s){let t={},e=s.split("&");for(let n=0,a=e.length;n<a;n++){let i=e[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class Rm extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class h6 extends Ce{constructor(t){super(),this.writable=!1,k1(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,n){return super.emitReserved("error",new Rm(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=u6(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const e=Sm(t);return e.length?"?"+e:""}}class Fm extends h6{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};wm(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,xm(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=xb()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}}let wb=!1;try{wb=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Nm=wb;function km(){}class Um extends Fm{constructor(t){if(super(t),typeof location<"u"){const e=location.protocol==="https:";let n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=t}}class Us extends Ce{constructor(t,e,n){super(),this.createRequest=t,k1(this,n),this._opts=n,this._method=n.method||"GET",this._uri=e,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const e=_b(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(e);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Us.requestsCount++,Us.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=km,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Us.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Us.requestsCount=0;Us.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",oh);else if(typeof addEventListener=="function"){const s="onpagehide"in Gn?"pagehide":"unload";addEventListener(s,oh,!1)}}function oh(){for(let s in Us.requests)Us.requests.hasOwnProperty(s)&&Us.requests[s].abort()}const Mm=function(){const s=Lb({xdomain:!1});return s&&s.responseType!==null}();class Dm extends Um{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=Mm&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Us(Lb,this.uri(),t)}}function Lb(s){const t=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Nm))return new XMLHttpRequest}catch{}if(!t)try{return new Gn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ab=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zm extends h6{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,n=Ab?{}:_b(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],a=e===t.length-1;d6(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&N1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=xb()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const Ud=Gn.WebSocket||Gn.MozWebSocket;class qm extends zm{createSocket(t,e,n){return Ab?new Ud(t,e,n):e?new Ud(t,e):new Ud(t)}doWrite(t,e){this.ws.send(e)}}class Vm extends h6{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const e=Am(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),a=Lm();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:o,value:f})=>{o||(this.onPacket(f),i())}).catch(o=>{})};i();const r={type:"open"};this.query.sid&&(r.data=`{"sid":"${this.query.sid}"}`),this._writer.write(r).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],a=e===t.length-1;this._writer.write(n).then(()=>{a&&N1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Gm={websocket:qm,webtransport:Vm,polling:Dm},Hm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function qu(s){if(s.length>8e3)throw"URI too long";const t=s,e=s.indexOf("["),n=s.indexOf("]");e!=-1&&n!=-1&&(s=s.substring(0,e)+s.substring(e,n).replace(/:/g,";")+s.substring(n,s.length));let a=Hm.exec(s||""),i={},r=14;for(;r--;)i[jm[r]]=a[r]||"";return e!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Km(i,i.path),i.queryKey=$m(i,i.query),i}function Km(s,t){const e=/\/{2,9}/g,n=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function $m(s,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(e[a]=i)}),e}const Vu=typeof addEventListener=="function"&&typeof removeEventListener=="function",hf=[];Vu&&addEventListener("offline",()=>{hf.forEach(s=>s())},!1);class ci extends Ce{constructor(t,e){if(super(),this.binaryType=Cm,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(e=t,t=null),t){const n=qu(t);e.hostname=n.host,e.secure=n.protocol==="https"||n.protocol==="wss",e.port=n.port,n.query&&(e.query=n.query)}else e.host&&(e.hostname=qu(e.host).host);k1(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Om(this.opts.query)),Vu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},hf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=mb,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ci.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",ci.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(e+=Tm(a)),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,N1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,e,n){return this._sendPacket("message",t,e,n),this}send(t,e,n){return this._sendPacket("message",t,e,n),this}_sendPacket(t,e,n,a){if(typeof e=="function"&&(a=e,e=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(ci.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Vu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=hf.indexOf(this._offlineEventListener);n!==-1&&hf.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}ci.protocol=mb;class Qm extends ci{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),n=!1;ci.priorWebsocketSuccess=!1;const a=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;ci.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=e.name,this.emitReserved("upgradeError",m)}}))};function i(){n||(n=!0,c(),e.close(),e=null)}const r=h=>{const m=new Error("probe error: "+h);m.transport=e.name,i(),this.emitReserved("upgradeError",m)};function o(){r("transport closed")}function f(){r("socket closed")}function l(h){e&&h.name!==e.name&&i()}const c=()=>{e.removeListener("open",a),e.removeListener("error",r),e.removeListener("close",o),this.off("close",f),this.off("upgrading",l)};e.once("open",a),e.once("error",r),e.once("close",o),this.once("close",f),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}let Jm=class extends Qm{constructor(t,e={}){const n=typeof t=="object"?t:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>Gm[a]).filter(a=>!!a)),super(t,n)}};function Wm(s,t="",e){let n=s;e=e||typeof location<"u"&&location,s==null&&(s=e.protocol+"//"+e.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=e.protocol+s:s=e.host+s),/^(https?|wss?):\/\//.test(s)||(typeof e<"u"?s=e.protocol+"//"+s:s="https://"+s),n=qu(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(e&&e.port===n.port?"":":"+n.port),n}const Zm=typeof ArrayBuffer=="function",Xm=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,Eb=Object.prototype.toString,Ym=typeof Blob=="function"||typeof Blob<"u"&&Eb.call(Blob)==="[object BlobConstructor]",t7=typeof File=="function"||typeof File<"u"&&Eb.call(File)==="[object FileConstructor]";function b6(s){return Zm&&(s instanceof ArrayBuffer||Xm(s))||Ym&&s instanceof Blob||t7&&s instanceof File}function bf(s,t){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let e=0,n=s.length;e<n;e++)if(bf(s[e]))return!0;return!1}if(b6(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return bf(s.toJSON(),!0);for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)&&bf(s[e]))return!0;return!1}function e7(s){const t=[],e=s.data,n=s;return n.data=Gu(e,t),n.attachments=t.length,{packet:n,buffers:t}}function Gu(s,t){if(!s)return s;if(b6(s)){const e={_placeholder:!0,num:t.length};return t.push(s),e}else if(Array.isArray(s)){const e=new Array(s.length);for(let n=0;n<s.length;n++)e[n]=Gu(s[n],t);return e}else if(typeof s=="object"&&!(s instanceof Date)){const e={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=Gu(s[n],t));return e}return s}function n7(s,t){return s.data=Hu(s.data,t),delete s.attachments,s}function Hu(s,t){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<t.length)return t[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let e=0;e<s.length;e++)s[e]=Hu(s[e],t);else if(typeof s=="object")for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&(s[e]=Hu(s[e],t));return s}const s7=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Yt;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Yt||(Yt={}));class a7{constructor(t){this.replacer=t}encode(t){return(t.type===Yt.EVENT||t.type===Yt.ACK)&&bf(t)?this.encodeAsBinary({type:t.type===Yt.EVENT?Yt.BINARY_EVENT:Yt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===Yt.BINARY_EVENT||t.type===Yt.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=e7(t),n=this.encodeAsString(e.packet),a=e.buffers;return a.unshift(n),a}}class p6 extends Ce{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===Yt.BINARY_EVENT;n||e.type===Yt.BINARY_ACK?(e.type=n?Yt.EVENT:Yt.ACK,this.reconstructor=new i7(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(b6(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(Yt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Yt.BINARY_EVENT||n.type===Yt.BINARY_ACK){const i=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);const r=t.substring(i,e);if(r!=Number(r)||t.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(r)}if(t.charAt(e+1)==="/"){const i=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););n.nsp=t.substring(i,e)}else n.nsp="/";const a=t.charAt(e+1);if(a!==""&&Number(a)==a){const i=e+1;for(;++e;){const r=t.charAt(e);if(r==null||Number(r)!=r){--e;break}if(e===t.length)break}n.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){const i=this.tryParse(t.substr(e));if(p6.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case Yt.CONNECT:return ch(e);case Yt.DISCONNECT:return e===void 0;case Yt.CONNECT_ERROR:return typeof e=="string"||ch(e);case Yt.EVENT:case Yt.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&s7.indexOf(e[0])===-1);case Yt.ACK:case Yt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class i7{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=n7(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ch(s){return Object.prototype.toString.call(s)==="[object Object]"}const r7=Object.freeze(Object.defineProperty({__proto__:null,Decoder:p6,Encoder:a7,get PacketType(){return Yt}},Symbol.toStringTag,{value:"Module"}));function os(s,t,e){return s.on(t,e),function(){s.off(t,e)}}const o7=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Cb extends Ce{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[os(t,"open",this.onopen.bind(this)),os(t,"packet",this.onpacket.bind(this)),os(t,"error",this.onerror.bind(this)),os(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,a,i;if(o7.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const r={type:Yt.EVENT,data:e};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const c=this.ids++,h=e.pop();this._registerAckCallback(c,h),r.id=c}const o=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,f=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(f?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=e;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);e.call(this,new Error("operation has timed out"))},a),r=(...o)=>{this.io.clearTimeoutFn(i),e.apply(this,o)};r.withError=!0,this.acks[t]=r}emitWithAck(t,...e){return new Promise((n,a)=>{const i=(r,o)=>r?a(r):n(o);i.withError=!0,e.push(i),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(a)):(this._queue.shift(),e&&e(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Yt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Yt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Yt.EVENT:case Yt.BINARY_EVENT:this.onevent(t);break;case Yt.ACK:case Yt.BINARY_ACK:this.onack(t);break;case Yt.DISCONNECT:this.ondisconnect();break;case Yt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...a){n||(n=!0,e.packet({type:Yt.ACK,id:t,data:a}))}}onack(t){const e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Yt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function Oc(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Oc.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*s);s=Math.floor(t*10)&1?s+e:s-e}return Math.min(s,this.max)|0};Oc.prototype.reset=function(){this.attempts=0};Oc.prototype.setMin=function(s){this.ms=s};Oc.prototype.setMax=function(s){this.max=s};Oc.prototype.setJitter=function(s){this.jitter=s};class ju extends Ce{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,k1(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Oc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;const a=e.parser||r7;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Jm(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=os(e,"open",function(){n.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},r=os(e,"error",i);if(this._timeout!==!1){const o=this._timeout,f=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),e.close()},o);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(os(t,"ping",this.onping.bind(this)),os(t,"data",this.ondata.bind(this)),os(t,"error",this.onerror.bind(this)),os(t,"close",this.onclose.bind(this)),os(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){N1(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Cb(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Kc={};function pf(s,t){typeof s=="object"&&(t=s,s=void 0),t=t||{};const e=Wm(s,t.path||"/socket.io"),n=e.source,a=e.id,i=e.path,r=Kc[a]&&i in Kc[a].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||r;let f;return o?f=new ju(n,t):(Kc[a]||(Kc[a]=new ju(n,t)),f=Kc[a]),e.query&&!t.query&&(t.query=e.queryKey),f.socket(e.path,t)}Object.assign(pf,{Manager:ju,Socket:Cb,io:pf,connect:pf});function vb(s,t){return function(){return s.apply(t,arguments)}}const{toString:c7}=Object.prototype,{getPrototypeOf:g6}=Object,{iterator:U1,toStringTag:Pb}=Symbol,M1=(s=>t=>{const e=c7.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),gs=s=>(s=s.toLowerCase(),t=>M1(t)===s),D1=s=>t=>typeof t===s,{isArray:Rc}=Array,ac=D1("undefined");function rl(s){return s!==null&&!ac(s)&&s.constructor!==null&&!ac(s.constructor)&&fn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Ib=gs("ArrayBuffer");function l7(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&Ib(s.buffer),t}const f7=D1("string"),fn=D1("function"),Tb=D1("number"),ol=s=>s!==null&&typeof s=="object",d7=s=>s===!0||s===!1,gf=s=>{if(M1(s)!=="object")return!1;const t=g6(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Pb in s)&&!(U1 in s)},u7=s=>{if(!ol(s)||rl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},h7=gs("Date"),b7=gs("File"),p7=gs("Blob"),g7=gs("FileList"),y7=s=>ol(s)&&fn(s.pipe),m7=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||fn(s.append)&&((t=M1(s))==="formdata"||t==="object"&&fn(s.toString)&&s.toString()==="[object FormData]"))},_7=gs("URLSearchParams"),[x7,w7,L7,A7]=["ReadableStream","Request","Response","Headers"].map(gs),E7=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cl(s,t,{allOwnKeys:e=!1}={}){if(s===null||typeof s>"u")return;let n,a;if(typeof s!="object"&&(s=[s]),Rc(s))for(n=0,a=s.length;n<a;n++)t.call(null,s[n],n,s);else{if(rl(s))return;const i=e?Object.getOwnPropertyNames(s):Object.keys(s),r=i.length;let o;for(n=0;n<r;n++)o=i[n],t.call(null,s[o],o,s)}}function Bb(s,t){if(rl(s))return null;t=t.toLowerCase();const e=Object.keys(s);let n=e.length,a;for(;n-- >0;)if(a=e[n],t===a.toLowerCase())return a;return null}const ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sb=s=>!ac(s)&&s!==ki;function Ku(){const{caseless:s,skipUndefined:t}=Sb(this)&&this||{},e={},n=(a,i)=>{const r=s&&Bb(e,i)||i;gf(e[r])&&gf(a)?e[r]=Ku(e[r],a):gf(a)?e[r]=Ku({},a):Rc(a)?e[r]=a.slice():(!t||!ac(a))&&(e[r]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&cl(arguments[a],n);return e}const C7=(s,t,e,{allOwnKeys:n}={})=>(cl(t,(a,i)=>{e&&fn(a)?Object.defineProperty(s,i,{value:vb(a,e),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(s,i,{value:a,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),s),v7=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),P7=(s,t,e,n)=>{s.prototype=Object.create(t.prototype,n),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(s,"super",{value:t.prototype}),e&&Object.assign(s.prototype,e)},I7=(s,t,e,n)=>{let a,i,r;const o={};if(t=t||{},s==null)return t;do{for(a=Object.getOwnPropertyNames(s),i=a.length;i-- >0;)r=a[i],(!n||n(r,s,t))&&!o[r]&&(t[r]=s[r],o[r]=!0);s=e!==!1&&g6(s)}while(s&&(!e||e(s,t))&&s!==Object.prototype);return t},T7=(s,t,e)=>{s=String(s),(e===void 0||e>s.length)&&(e=s.length),e-=t.length;const n=s.indexOf(t,e);return n!==-1&&n===e},B7=s=>{if(!s)return null;if(Rc(s))return s;let t=s.length;if(!Tb(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=s[t];return e},S7=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&g6(Uint8Array)),O7=(s,t)=>{const n=(s&&s[U1]).call(s);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(s,i[0],i[1])}},R7=(s,t)=>{let e;const n=[];for(;(e=s.exec(t))!==null;)n.push(e);return n},F7=gs("HTMLFormElement"),N7=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,a){return n.toUpperCase()+a}),lh=(({hasOwnProperty:s})=>(t,e)=>s.call(t,e))(Object.prototype),k7=gs("RegExp"),Ob=(s,t)=>{const e=Object.getOwnPropertyDescriptors(s),n={};cl(e,(a,i)=>{let r;(r=t(a,i,s))!==!1&&(n[i]=r||a)}),Object.defineProperties(s,n)},U7=s=>{Ob(s,(t,e)=>{if(fn(s)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=s[e];if(fn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},M7=(s,t)=>{const e={},n=a=>{a.forEach(i=>{e[i]=!0})};return Rc(s)?n(s):n(String(s).split(t)),e},D7=()=>{},z7=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function q7(s){return!!(s&&fn(s.append)&&s[Pb]==="FormData"&&s[U1])}const V7=s=>{const t=new Array(10),e=(n,a)=>{if(ol(n)){if(t.indexOf(n)>=0)return;if(rl(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Rc(n)?[]:{};return cl(n,(r,o)=>{const f=e(r,a+1);!ac(f)&&(i[o]=f)}),t[a]=void 0,i}}return n};return e(s,0)},G7=gs("AsyncFunction"),H7=s=>s&&(ol(s)||fn(s))&&fn(s.then)&&fn(s.catch),Rb=((s,t)=>s?setImmediate:t?((e,n)=>(ki.addEventListener("message",({source:a,data:i})=>{a===ki&&i===e&&n.length&&n.shift()()},!1),a=>{n.push(a),ki.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",fn(ki.postMessage)),j7=typeof queueMicrotask<"u"?queueMicrotask.bind(ki):typeof process<"u"&&process.nextTick||Rb,K7=s=>s!=null&&fn(s[U1]),nt={isArray:Rc,isArrayBuffer:Ib,isBuffer:rl,isFormData:m7,isArrayBufferView:l7,isString:f7,isNumber:Tb,isBoolean:d7,isObject:ol,isPlainObject:gf,isEmptyObject:u7,isReadableStream:x7,isRequest:w7,isResponse:L7,isHeaders:A7,isUndefined:ac,isDate:h7,isFile:b7,isBlob:p7,isRegExp:k7,isFunction:fn,isStream:y7,isURLSearchParams:_7,isTypedArray:S7,isFileList:g7,forEach:cl,merge:Ku,extend:C7,trim:E7,stripBOM:v7,inherits:P7,toFlatObject:I7,kindOf:M1,kindOfTest:gs,endsWith:T7,toArray:B7,forEachEntry:O7,matchAll:R7,isHTMLForm:F7,hasOwnProperty:lh,hasOwnProp:lh,reduceDescriptors:Ob,freezeMethods:U7,toObjectSet:M7,toCamelCase:N7,noop:D7,toFiniteNumber:z7,findKey:Bb,global:ki,isContextDefined:Sb,isSpecCompliantForm:q7,toJSONObject:V7,isAsyncFn:G7,isThenable:H7,setImmediate:Rb,asap:j7,isIterable:K7};let Vt=class Fb extends Error{static from(t,e,n,a,i,r){const o=new Fb(t.message,e||t.code,n,a,i);return o.cause=t,o.name=t.name,r&&Object.assign(o,r),o}constructor(t,e,n,a,i){super(t),this.name="AxiosError",this.isAxiosError=!0,e&&(this.code=e),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nt.toJSONObject(this.config),code:this.code,status:this.status}}};Vt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Vt.ERR_BAD_OPTION="ERR_BAD_OPTION";Vt.ECONNABORTED="ECONNABORTED";Vt.ETIMEDOUT="ETIMEDOUT";Vt.ERR_NETWORK="ERR_NETWORK";Vt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Vt.ERR_DEPRECATED="ERR_DEPRECATED";Vt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Vt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Vt.ERR_CANCELED="ERR_CANCELED";Vt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Vt.ERR_INVALID_URL="ERR_INVALID_URL";const $7=null;function $u(s){return nt.isPlainObject(s)||nt.isArray(s)}function Nb(s){return nt.endsWith(s,"[]")?s.slice(0,-2):s}function fh(s,t,e){return s?s.concat(t).map(function(a,i){return a=Nb(a),!e&&i?"["+a+"]":a}).join(e?".":""):t}function Q7(s){return nt.isArray(s)&&!s.some($u)}const J7=nt.toFlatObject(nt,{},null,function(t){return/^is[A-Z]/.test(t)});function z1(s,t,e){if(!nt.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,e=nt.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,w){return!nt.isUndefined(w[A])});const n=e.metaTokens,a=e.visitor||c,i=e.dots,r=e.indexes,f=(e.Blob||typeof Blob<"u"&&Blob)&&nt.isSpecCompliantForm(t);if(!nt.isFunction(a))throw new TypeError("visitor must be a function");function l(C){if(C===null)return"";if(nt.isDate(C))return C.toISOString();if(nt.isBoolean(C))return C.toString();if(!f&&nt.isBlob(C))throw new Vt("Blob is not supported. Use a Buffer instead.");return nt.isArrayBuffer(C)||nt.isTypedArray(C)?f&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function c(C,A,w){let I=C;if(C&&!w&&typeof C=="object"){if(nt.endsWith(A,"{}"))A=n?A:A.slice(0,-2),C=JSON.stringify(C);else if(nt.isArray(C)&&Q7(C)||(nt.isFileList(C)||nt.endsWith(A,"[]"))&&(I=nt.toArray(C)))return A=Nb(A),I.forEach(function(F,S){!(nt.isUndefined(F)||F===null)&&t.append(r===!0?fh([A],S,i):r===null?A:A+"[]",l(F))}),!1}return $u(C)?!0:(t.append(fh(w,A,i),l(C)),!1)}const h=[],m=Object.assign(J7,{defaultVisitor:c,convertValue:l,isVisitable:$u});function p(C,A){if(!nt.isUndefined(C)){if(h.indexOf(C)!==-1)throw Error("Circular reference detected in "+A.join("."));h.push(C),nt.forEach(C,function(I,v){(!(nt.isUndefined(I)||I===null)&&a.call(t,I,nt.isString(v)?v.trim():v,A,m))===!0&&p(I,A?A.concat(v):[v])}),h.pop()}}if(!nt.isObject(s))throw new TypeError("data must be an object");return p(s),t}function dh(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function y6(s,t){this._pairs=[],s&&z1(s,this,t)}const kb=y6.prototype;kb.append=function(t,e){this._pairs.push([t,e])};kb.toString=function(t){const e=t?function(n){return t.call(this,n,dh)}:dh;return this._pairs.map(function(a){return e(a[0])+"="+e(a[1])},"").join("&")};function W7(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ub(s,t,e){if(!t)return s;const n=e&&e.encode||W7,a=nt.isFunction(e)?{serialize:e}:e,i=a&&a.serialize;let r;if(i?r=i(t,a):r=nt.isURLSearchParams(t)?t.toString():new y6(t,a).toString(n),r){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class uh{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){nt.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Mb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z7=typeof URLSearchParams<"u"?URLSearchParams:y6,X7=typeof FormData<"u"?FormData:null,Y7=typeof Blob<"u"?Blob:null,t_={isBrowser:!0,classes:{URLSearchParams:Z7,FormData:X7,Blob:Y7},protocols:["http","https","file","blob","url","data"]},m6=typeof window<"u"&&typeof document<"u",Qu=typeof navigator=="object"&&navigator||void 0,e_=m6&&(!Qu||["ReactNative","NativeScript","NS"].indexOf(Qu.product)<0),n_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",s_=m6&&window.location.href||"http://localhost",a_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:m6,hasStandardBrowserEnv:e_,hasStandardBrowserWebWorkerEnv:n_,navigator:Qu,origin:s_},Symbol.toStringTag,{value:"Module"})),Qe={...a_,...t_};function i_(s,t){return z1(s,new Qe.classes.URLSearchParams,{visitor:function(e,n,a,i){return Qe.isNode&&nt.isBuffer(e)?(this.append(n,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function r_(s){return nt.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function o_(s){const t={},e=Object.keys(s);let n;const a=e.length;let i;for(n=0;n<a;n++)i=e[n],t[i]=s[i];return t}function Db(s){function t(e,n,a,i){let r=e[i++];if(r==="__proto__")return!0;const o=Number.isFinite(+r),f=i>=e.length;return r=!r&&nt.isArray(a)?a.length:r,f?(nt.hasOwnProp(a,r)?a[r]=[a[r],n]:a[r]=n,!o):((!a[r]||!nt.isObject(a[r]))&&(a[r]=[]),t(e,n,a[r],i)&&nt.isArray(a[r])&&(a[r]=o_(a[r])),!o)}if(nt.isFormData(s)&&nt.isFunction(s.entries)){const e={};return nt.forEachEntry(s,(n,a)=>{t(r_(n),a,e,0)}),e}return null}function c_(s,t,e){if(nt.isString(s))try{return(t||JSON.parse)(s),nt.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(s)}const ll={transitional:Mb,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",a=n.indexOf("application/json")>-1,i=nt.isObject(t);if(i&&nt.isHTMLForm(t)&&(t=new FormData(t)),nt.isFormData(t))return a?JSON.stringify(Db(t)):t;if(nt.isArrayBuffer(t)||nt.isBuffer(t)||nt.isStream(t)||nt.isFile(t)||nt.isBlob(t)||nt.isReadableStream(t))return t;if(nt.isArrayBufferView(t))return t.buffer;if(nt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return i_(t,this.formSerializer).toString();if((o=nt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return z1(o?{"files[]":t}:t,f&&new f,this.formSerializer)}}return i||a?(e.setContentType("application/json",!1),c_(t)):t}],transformResponse:[function(t){const e=this.transitional||ll.transitional,n=e&&e.forcedJSONParsing,a=this.responseType==="json";if(nt.isResponse(t)||nt.isReadableStream(t))return t;if(t&&nt.isString(t)&&(n&&!this.responseType||a)){const r=!(e&&e.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(r)throw o.name==="SyntaxError"?Vt.from(o,Vt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nt.forEach(["delete","get","head","post","put","patch"],s=>{ll.headers[s]={}});const l_=nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),f_=s=>{const t={};let e,n,a;return s&&s.split(`
`).forEach(function(r){a=r.indexOf(":"),e=r.substring(0,a).trim().toLowerCase(),n=r.substring(a+1).trim(),!(!e||t[e]&&l_[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},hh=Symbol("internals");function $c(s){return s&&String(s).trim().toLowerCase()}function yf(s){return s===!1||s==null?s:nt.isArray(s)?s.map(yf):String(s)}function d_(s){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(s);)t[n[1]]=n[2];return t}const u_=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Md(s,t,e,n,a){if(nt.isFunction(n))return n.call(this,t,e);if(a&&(t=e),!!nt.isString(t)){if(nt.isString(n))return t.indexOf(n)!==-1;if(nt.isRegExp(n))return n.test(t)}}function h_(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function b_(s,t){const e=nt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+e,{value:function(a,i,r){return this[n].call(this,t,a,i,r)},configurable:!0})})}let dn=class{constructor(t){t&&this.set(t)}set(t,e,n){const a=this;function i(o,f,l){const c=$c(f);if(!c)throw new Error("header name must be a non-empty string");const h=nt.findKey(a,c);(!h||a[h]===void 0||l===!0||l===void 0&&a[h]!==!1)&&(a[h||f]=yf(o))}const r=(o,f)=>nt.forEach(o,(l,c)=>i(l,c,f));if(nt.isPlainObject(t)||t instanceof this.constructor)r(t,e);else if(nt.isString(t)&&(t=t.trim())&&!u_(t))r(f_(t),e);else if(nt.isObject(t)&&nt.isIterable(t)){let o={},f,l;for(const c of t){if(!nt.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[l=c[0]]=(f=o[l])?nt.isArray(f)?[...f,c[1]]:[f,c[1]]:c[1]}r(o,e)}else t!=null&&i(e,t,n);return this}get(t,e){if(t=$c(t),t){const n=nt.findKey(this,t);if(n){const a=this[n];if(!e)return a;if(e===!0)return d_(a);if(nt.isFunction(e))return e.call(this,a,n);if(nt.isRegExp(e))return e.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=$c(t),t){const n=nt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||Md(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let a=!1;function i(r){if(r=$c(r),r){const o=nt.findKey(n,r);o&&(!e||Md(n,n[o],o,e))&&(delete n[o],a=!0)}}return nt.isArray(t)?t.forEach(i):i(t),a}clear(t){const e=Object.keys(this);let n=e.length,a=!1;for(;n--;){const i=e[n];(!t||Md(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const e=this,n={};return nt.forEach(this,(a,i)=>{const r=nt.findKey(n,i);if(r){e[r]=yf(a),delete e[i];return}const o=t?h_(i):String(i).trim();o!==i&&delete e[i],e[o]=yf(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return nt.forEach(this,(n,a)=>{n!=null&&n!==!1&&(e[a]=t&&nt.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[hh]=this[hh]={accessors:{}}).accessors,a=this.prototype;function i(r){const o=$c(r);n[o]||(b_(a,r),n[o]=!0)}return nt.isArray(t)?t.forEach(i):i(t),this}};dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);nt.reduceDescriptors(dn.prototype,({value:s},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(n){this[e]=n}}});nt.freezeMethods(dn);function Dd(s,t){const e=this||ll,n=t||e,a=dn.from(n.headers);let i=n.data;return nt.forEach(s,function(o){i=o.call(e,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function zb(s){return!!(s&&s.__CANCEL__)}let fl=class extends Vt{constructor(t,e,n){super(t??"canceled",Vt.ERR_CANCELED,e,n),this.name="CanceledError",this.__CANCEL__=!0}};function qb(s,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?s(e):t(new Vt("Request failed with status code "+e.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function p_(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function g_(s,t){s=s||10;const e=new Array(s),n=new Array(s);let a=0,i=0,r;return t=t!==void 0?t:1e3,function(f){const l=Date.now(),c=n[i];r||(r=l),e[a]=f,n[a]=l;let h=i,m=0;for(;h!==a;)m+=e[h++],h=h%s;if(a=(a+1)%s,a===i&&(i=(i+1)%s),l-r<t)return;const p=c&&l-c;return p?Math.round(m*1e3/p):void 0}}function y_(s,t){let e=0,n=1e3/t,a,i;const r=(l,c=Date.now())=>{e=c,a=null,i&&(clearTimeout(i),i=null),s(...l)};return[(...l)=>{const c=Date.now(),h=c-e;h>=n?r(l,c):(a=l,i||(i=setTimeout(()=>{i=null,r(a)},n-h)))},()=>a&&r(a)]}const $f=(s,t,e=3)=>{let n=0;const a=g_(50,250);return y_(i=>{const r=i.loaded,o=i.lengthComputable?i.total:void 0,f=r-n,l=a(f),c=r<=o;n=r;const h={loaded:r,total:o,progress:o?r/o:void 0,bytes:f,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};s(h)},e)},bh=(s,t)=>{const e=s!=null;return[n=>t[0]({lengthComputable:e,total:s,loaded:n}),t[1]]},ph=s=>(...t)=>nt.asap(()=>s(...t)),m_=Qe.hasStandardBrowserEnv?((s,t)=>e=>(e=new URL(e,Qe.origin),s.protocol===e.protocol&&s.host===e.host&&(t||s.port===e.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,__=Qe.hasStandardBrowserEnv?{write(s,t,e,n,a,i,r){if(typeof document>"u")return;const o=[`${s}=${encodeURIComponent(t)}`];nt.isNumber(e)&&o.push(`expires=${new Date(e).toUTCString()}`),nt.isString(n)&&o.push(`path=${n}`),nt.isString(a)&&o.push(`domain=${a}`),i===!0&&o.push("secure"),nt.isString(r)&&o.push(`SameSite=${r}`),document.cookie=o.join("; ")},read(s){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function x_(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function w_(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function Vb(s,t,e){let n=!x_(t);return s&&(n||e==!1)?w_(s,t):t}const gh=s=>s instanceof dn?{...s}:s;function mr(s,t){t=t||{};const e={};function n(l,c,h,m){return nt.isPlainObject(l)&&nt.isPlainObject(c)?nt.merge.call({caseless:m},l,c):nt.isPlainObject(c)?nt.merge({},c):nt.isArray(c)?c.slice():c}function a(l,c,h,m){if(nt.isUndefined(c)){if(!nt.isUndefined(l))return n(void 0,l,h,m)}else return n(l,c,h,m)}function i(l,c){if(!nt.isUndefined(c))return n(void 0,c)}function r(l,c){if(nt.isUndefined(c)){if(!nt.isUndefined(l))return n(void 0,l)}else return n(void 0,c)}function o(l,c,h){if(h in t)return n(l,c);if(h in s)return n(void 0,l)}const f={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(l,c,h)=>a(gh(l),gh(c),h,!0)};return nt.forEach(Object.keys({...s,...t}),function(c){const h=f[c]||a,m=h(s[c],t[c],c);nt.isUndefined(m)&&h!==o||(e[c]=m)}),e}const Gb=s=>{const t=mr({},s);let{data:e,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:r,auth:o}=t;if(t.headers=r=dn.from(r),t.url=Ub(Vb(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),o&&r.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),nt.isFormData(e)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if(nt.isFunction(e.getHeaders)){const f=e.getHeaders(),l=["content-type","content-length"];Object.entries(f).forEach(([c,h])=>{l.includes(c.toLowerCase())&&r.set(c,h)})}}if(Qe.hasStandardBrowserEnv&&(n&&nt.isFunction(n)&&(n=n(t)),n||n!==!1&&m_(t.url))){const f=a&&i&&__.read(i);f&&r.set(a,f)}return t},L_=typeof XMLHttpRequest<"u",A_=L_&&function(s){return new Promise(function(e,n){const a=Gb(s);let i=a.data;const r=dn.from(a.headers).normalize();let{responseType:o,onUploadProgress:f,onDownloadProgress:l}=a,c,h,m,p,C;function A(){p&&p(),C&&C(),a.cancelToken&&a.cancelToken.unsubscribe(c),a.signal&&a.signal.removeEventListener("abort",c)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function I(){if(!w)return;const F=dn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),D={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:F,config:s,request:w};qb(function(u){e(u),A()},function(u){n(u),A()},D),w=null}"onloadend"in w?w.onloadend=I:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(I)},w.onabort=function(){w&&(n(new Vt("Request aborted",Vt.ECONNABORTED,s,w)),w=null)},w.onerror=function(S){const D=S&&S.message?S.message:"Network Error",P=new Vt(D,Vt.ERR_NETWORK,s,w);P.event=S||null,n(P),w=null},w.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const D=a.transitional||Mb;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new Vt(S,D.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,s,w)),w=null},i===void 0&&r.setContentType(null),"setRequestHeader"in w&&nt.forEach(r.toJSON(),function(S,D){w.setRequestHeader(D,S)}),nt.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),o&&o!=="json"&&(w.responseType=a.responseType),l&&([m,C]=$f(l,!0),w.addEventListener("progress",m)),f&&w.upload&&([h,p]=$f(f),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(c=F=>{w&&(n(!F||F.type?new fl(null,s,w):F),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(c),a.signal&&(a.signal.aborted?c():a.signal.addEventListener("abort",c)));const v=p_(a.url);if(v&&Qe.protocols.indexOf(v)===-1){n(new Vt("Unsupported protocol "+v+":",Vt.ERR_BAD_REQUEST,s));return}w.send(i||null)})},E_=(s,t)=>{const{length:e}=s=s?s.filter(Boolean):[];if(t||e){let n=new AbortController,a;const i=function(l){if(!a){a=!0,o();const c=l instanceof Error?l:this.reason;n.abort(c instanceof Vt?c:new fl(c instanceof Error?c.message:c))}};let r=t&&setTimeout(()=>{r=null,i(new Vt(`timeout of ${t}ms exceeded`,Vt.ETIMEDOUT))},t);const o=()=>{s&&(r&&clearTimeout(r),r=null,s.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),s=null)};s.forEach(l=>l.addEventListener("abort",i));const{signal:f}=n;return f.unsubscribe=()=>nt.asap(o),f}},C_=function*(s,t){let e=s.byteLength;if(e<t){yield s;return}let n=0,a;for(;n<e;)a=n+t,yield s.slice(n,a),n=a},v_=async function*(s,t){for await(const e of P_(s))yield*C_(e,t)},P_=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},yh=(s,t,e,n)=>{const a=v_(s,t);let i=0,r,o=f=>{r||(r=!0,n&&n(f))};return new ReadableStream({async pull(f){try{const{done:l,value:c}=await a.next();if(l){o(),f.close();return}let h=c.byteLength;if(e){let m=i+=h;e(m)}f.enqueue(new Uint8Array(c))}catch(l){throw o(l),l}},cancel(f){return o(f),a.return()}},{highWaterMark:2})},mh=64*1024,{isFunction:Vl}=nt,I_=(({Request:s,Response:t})=>({Request:s,Response:t}))(nt.global),{ReadableStream:_h,TextEncoder:xh}=nt.global,wh=(s,...t)=>{try{return!!s(...t)}catch{return!1}},T_=s=>{s=nt.merge.call({skipUndefined:!0},I_,s);const{fetch:t,Request:e,Response:n}=s,a=t?Vl(t):typeof fetch=="function",i=Vl(e),r=Vl(n);if(!a)return!1;const o=a&&Vl(_h),f=a&&(typeof xh=="function"?(C=>A=>C.encode(A))(new xh):async C=>new Uint8Array(await new e(C).arrayBuffer())),l=i&&o&&wh(()=>{let C=!1;const A=new e(Qe.origin,{body:new _h,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!A}),c=r&&o&&wh(()=>nt.isReadableStream(new n("").body)),h={stream:c&&(C=>C.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!h[C]&&(h[C]=(A,w)=>{let I=A&&A[C];if(I)return I.call(A);throw new Vt(`Response type '${C}' is not supported`,Vt.ERR_NOT_SUPPORT,w)})});const m=async C=>{if(C==null)return 0;if(nt.isBlob(C))return C.size;if(nt.isSpecCompliantForm(C))return(await new e(Qe.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(nt.isArrayBufferView(C)||nt.isArrayBuffer(C))return C.byteLength;if(nt.isURLSearchParams(C)&&(C=C+""),nt.isString(C))return(await f(C)).byteLength},p=async(C,A)=>{const w=nt.toFiniteNumber(C.getContentLength());return w??m(A)};return async C=>{let{url:A,method:w,data:I,signal:v,cancelToken:F,timeout:S,onDownloadProgress:D,onUploadProgress:P,responseType:u,headers:_,withCredentials:G="same-origin",fetchOptions:H}=Gb(C),J=t||fetch;u=u?(u+"").toLowerCase():"text";let U=E_([v,F&&F.toAbortSignal()],S),E=null;const M=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let N;try{if(P&&l&&w!=="get"&&w!=="head"&&(N=await p(_,I))!==0){let lt=new e(A,{method:"POST",body:I,duplex:"half"}),Tt;if(nt.isFormData(I)&&(Tt=lt.headers.get("content-type"))&&_.setContentType(Tt),lt.body){const[Bt,Et]=bh(N,$f(ph(P)));I=yh(lt.body,mh,Bt,Et)}}nt.isString(G)||(G=G?"include":"omit");const $=i&&"credentials"in e.prototype,X={...H,signal:U,method:w.toUpperCase(),headers:_.normalize().toJSON(),body:I,duplex:"half",credentials:$?G:void 0};E=i&&new e(A,X);let K=await(i?J(E,H):J(A,X));const ot=c&&(u==="stream"||u==="response");if(c&&(D||ot&&M)){const lt={};["status","statusText","headers"].forEach(R=>{lt[R]=K[R]});const Tt=nt.toFiniteNumber(K.headers.get("content-length")),[Bt,Et]=D&&bh(Tt,$f(ph(D),!0))||[];K=new n(yh(K.body,mh,Bt,()=>{Et&&Et(),M&&M()}),lt)}u=u||"text";let tt=await h[nt.findKey(h,u)||"text"](K,C);return!ot&&M&&M(),await new Promise((lt,Tt)=>{qb(lt,Tt,{data:tt,headers:dn.from(K.headers),status:K.status,statusText:K.statusText,config:C,request:E})})}catch($){throw M&&M(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,C,E),{cause:$.cause||$}):Vt.from($,$&&$.code,C,E)}}},B_=new Map,Hb=s=>{let t=s&&s.env||{};const{fetch:e,Request:n,Response:a}=t,i=[n,a,e];let r=i.length,o=r,f,l,c=B_;for(;o--;)f=i[o],l=c.get(f),l===void 0&&c.set(f,l=o?new Map:T_(t)),c=l;return l};Hb();const _6={http:$7,xhr:A_,fetch:{get:Hb}};nt.forEach(_6,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const Lh=s=>`- ${s}`,S_=s=>nt.isFunction(s)||s===null||s===!1;function O_(s,t){s=nt.isArray(s)?s:[s];const{length:e}=s;let n,a;const i={};for(let r=0;r<e;r++){n=s[r];let o;if(a=n,!S_(n)&&(a=_6[(o=String(n)).toLowerCase()],a===void 0))throw new Vt(`Unknown adapter '${o}'`);if(a&&(nt.isFunction(a)||(a=a.get(t))))break;i[o||"#"+r]=a}if(!a){const r=Object.entries(i).map(([f,l])=>`adapter ${f} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(Lh).join(`
`):" "+Lh(r[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const jb={getAdapter:O_,adapters:_6};function zd(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new fl(null,s)}function Ah(s){return zd(s),s.headers=dn.from(s.headers),s.data=Dd.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),jb.getAdapter(s.adapter||ll.adapter,s)(s).then(function(n){return zd(s),n.data=Dd.call(s,s.transformResponse,n),n.headers=dn.from(n.headers),n},function(n){return zb(n)||(zd(s),n&&n.response&&(n.response.data=Dd.call(s,s.transformResponse,n.response),n.response.headers=dn.from(n.response.headers))),Promise.reject(n)})}const Kb="1.13.4",q1={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{q1[s]=function(n){return typeof n===s||"a"+(t<1?"n ":" ")+s}});const Eh={};q1.transitional=function(t,e,n){function a(i,r){return"[Axios v"+Kb+"] Transitional option '"+i+"'"+r+(n?". "+n:"")}return(i,r,o)=>{if(t===!1)throw new Vt(a(r," has been removed"+(e?" in "+e:"")),Vt.ERR_DEPRECATED);return e&&!Eh[r]&&(Eh[r]=!0,console.warn(a(r," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(i,r,o):!0}};q1.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function R_(s,t,e){if(typeof s!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let a=n.length;for(;a-- >0;){const i=n[a],r=t[i];if(r){const o=s[i],f=o===void 0||r(o,i,s);if(f!==!0)throw new Vt("option "+i+" must be "+f,Vt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Vt("Unknown option "+i,Vt.ERR_BAD_OPTION)}}const mf={assertOptions:R_,validators:q1},ws=mf.validators;let hr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new uh,response:new uh}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=mr(this.defaults,e);const{transitional:n,paramsSerializer:a,headers:i}=e;n!==void 0&&mf.assertOptions(n,{silentJSONParsing:ws.transitional(ws.boolean),forcedJSONParsing:ws.transitional(ws.boolean),clarifyTimeoutError:ws.transitional(ws.boolean)},!1),a!=null&&(nt.isFunction(a)?e.paramsSerializer={serialize:a}:mf.assertOptions(a,{encode:ws.function,serialize:ws.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),mf.assertOptions(e,{baseUrl:ws.spelling("baseURL"),withXsrfToken:ws.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let r=i&&nt.merge(i.common,i[e.method]);i&&nt.forEach(["delete","get","head","post","put","patch","common"],C=>{delete i[C]}),e.headers=dn.concat(r,i);const o=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(e)===!1||(f=f&&A.synchronous,o.unshift(A.fulfilled,A.rejected))});const l=[];this.interceptors.response.forEach(function(A){l.push(A.fulfilled,A.rejected)});let c,h=0,m;if(!f){const C=[Ah.bind(this),void 0];for(C.unshift(...o),C.push(...l),m=C.length,c=Promise.resolve(e);h<m;)c=c.then(C[h++],C[h++]);return c}m=o.length;let p=e;for(;h<m;){const C=o[h++],A=o[h++];try{p=C(p)}catch(w){A.call(this,w);break}}try{c=Ah.call(this,p)}catch(C){return Promise.reject(C)}for(h=0,m=l.length;h<m;)c=c.then(l[h++],l[h++]);return c}getUri(t){t=mr(this.defaults,t);const e=Vb(t.baseURL,t.url,t.allowAbsoluteUrls);return Ub(e,t.params,t.paramsSerializer)}};nt.forEach(["delete","get","head","options"],function(t){hr.prototype[t]=function(e,n){return this.request(mr(n||{},{method:t,url:e,data:(n||{}).data}))}});nt.forEach(["post","put","patch"],function(t){function e(n){return function(i,r,o){return this.request(mr(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}hr.prototype[t]=e(),hr.prototype[t+"Form"]=e(!0)});let F_=class $b{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(i){e=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const r=new Promise(o=>{n.subscribe(o),i=o}).then(a);return r.cancel=function(){n.unsubscribe(i)},r},t(function(i,r,o){n.reason||(n.reason=new fl(i,r,o),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new $b(function(a){t=a}),cancel:t}}};function N_(s){return function(e){return s.apply(null,e)}}function k_(s){return nt.isObject(s)&&s.isAxiosError===!0}const Ju={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ju).forEach(([s,t])=>{Ju[t]=s});function Qb(s){const t=new hr(s),e=vb(hr.prototype.request,t);return nt.extend(e,hr.prototype,t,{allOwnKeys:!0}),nt.extend(e,t,null,{allOwnKeys:!0}),e.create=function(a){return Qb(mr(s,a))},e}const Ae=Qb(ll);Ae.Axios=hr;Ae.CanceledError=fl;Ae.CancelToken=F_;Ae.isCancel=zb;Ae.VERSION=Kb;Ae.toFormData=z1;Ae.AxiosError=Vt;Ae.Cancel=Ae.CanceledError;Ae.all=function(t){return Promise.all(t)};Ae.spread=N_;Ae.isAxiosError=k_;Ae.mergeConfig=mr;Ae.AxiosHeaders=dn;Ae.formToJSON=s=>Db(nt.isHTMLForm(s)?new FormData(s):s);Ae.getAdapter=jb.getAdapter;Ae.HttpStatusCode=Ju;Ae.default=Ae;const{Axios:cT,AxiosError:lT,CanceledError:fT,isCancel:dT,CancelToken:uT,VERSION:hT,all:bT,Cancel:pT,isAxiosError:gT,spread:yT,toFormData:mT,AxiosHeaders:_T,HttpStatusCode:xT,formToJSON:wT,getAdapter:LT,mergeConfig:AT}=Ae;var x6={},ic={},V1={},G1={},Jb={},dl={};const H1="6.16.0";function U_(s,t,e){const n=t.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof s===t)return}const a=new Error(`invalid value for type ${t}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${e}`,a.value=s,a}async function Te(s){const t=Object.keys(s);return(await Promise.all(t.map(n=>Promise.resolve(s[n])))).reduce((n,a,i)=>(n[t[i]]=a,n),{})}function mt(s,t,e){for(let n in t){let a=t[n];const i=e?e[n]:null;i&&U_(a,i,n),Object.defineProperty(s,n,{enumerable:!0,value:a,writable:!1})}}function Kr(s,t){if(s==null)return"null";if(t==null&&(t=new Set),typeof s=="object"){if(t.has(s))return"[Circular]";t.add(s)}if(Array.isArray(s))return"[ "+s.map(e=>Kr(e,t)).join(", ")+" ]";if(s instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let a=0;a<s.length;a++)n+=e[s[a]>>4],n+=e[s[a]&15];return n}if(typeof s=="object"&&typeof s.toJSON=="function")return Kr(s.toJSON(),t);switch(typeof s){case"boolean":case"number":case"symbol":return s.toString();case"bigint":return BigInt(s).toString();case"string":return JSON.stringify(s);case"object":{const e=Object.keys(s);return e.sort(),"{ "+e.map(n=>`${Kr(n,t)}: ${Kr(s[n],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function me(s,t){return s&&s.code===t}function ul(s){return me(s,"CALL_EXCEPTION")}function de(s,t,e){let n=s;{const i=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Kr(e)}`);for(const r in e){if(r==="shortMessage")continue;const o=e[r];i.push(r+"="+Kr(o))}}i.push(`code=${t}`),i.push(`version=${H1}`),i.length&&(s+=" ("+i.join(", ")+")")}let a;switch(t){case"INVALID_ARGUMENT":a=new TypeError(s);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(s);break;default:a=new Error(s)}return mt(a,{code:t}),e&&Object.assign(a,e),a.shortMessage==null&&mt(a,{shortMessage:n}),a}function Y(s,t,e,n){if(!s)throw de(t,e,n)}function O(s,t,e,n){Y(s,t,"INVALID_ARGUMENT",{argument:e,value:n})}function j1(s,t,e){e==null&&(e=""),e&&(e=": "+e),Y(s>=t,"missing argument"+e,"MISSING_ARGUMENT",{count:s,expectedCount:t}),Y(s<=t,"too many arguments"+e,"UNEXPECTED_ARGUMENT",{count:s,expectedCount:t})}const M_=["NFD","NFC","NFKD","NFKC"].reduce((s,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");s.push(t)}catch{}return s},[]);function K1(s){Y(M_.indexOf(s)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:s}})}function Hs(s,t,e){if(e==null&&(e=""),s!==t){let n=e,a="new";e&&(n+=".",a+=" "+e),Y(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function Wb(s,t,e){if(s instanceof Uint8Array)return e?new Uint8Array(s):s;if(typeof s=="string"&&s.length%2===0&&s.match(/^0x[0-9a-f]*$/i)){const n=new Uint8Array((s.length-2)/2);let a=2;for(let i=0;i<n.length;i++)n[i]=parseInt(s.substring(a,a+2),16),a+=2;return n}O(!1,"invalid BytesLike value",t||"value",s)}function bt(s,t){return Wb(s,t,!1)}function Be(s,t){return Wb(s,t,!0)}function ce(s,t){return!(typeof s!="string"||!s.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&s.length!==2+2*t||t===!0&&s.length%2!==0)}function Fc(s){return ce(s,!0)||s instanceof Uint8Array}const Ch="0123456789abcdef";function ut(s){const t=bt(s);let e="0x";for(let n=0;n<t.length;n++){const a=t[n];e+=Ch[(a&240)>>4]+Ch[a&15]}return e}function Wt(s){return"0x"+s.map(t=>ut(t).substring(2)).join("")}function ba(s){return ce(s,!0)?(s.length-2)/2:bt(s).length}function ue(s,t,e){const n=bt(s);return e!=null&&e>n.length&&Y(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:e}),ut(n.slice(t??0,e??n.length))}function Zb(s){let t=ut(s).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t}function Xb(s,t,e){const n=bt(s);Y(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const a=new Uint8Array(t);return a.fill(0),e?a.set(n,t-n.length):a.set(n,0),ut(a)}function un(s,t){return Xb(s,t,!0)}function hl(s,t){return Xb(s,t,!1)}const bl=BigInt(0),ls=BigInt(1),$r=9007199254740991;function rc(s,t){const e=Nc(s,"value"),n=BigInt(St(t,"width"));if(Y(e>>n===bl,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:s}),e>>n-ls){const a=(ls<<n)-ls;return-((~e&a)+ls)}return e}function pl(s,t){let e=wt(s,"value");const n=BigInt(St(t,"width")),a=ls<<n-ls;if(e<bl){e=-e,Y(e<=a,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:s});const i=(ls<<n)-ls;return(~e&i)+ls}else Y(e<a,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:s});return e}function ha(s,t){const e=Nc(s,"value"),n=BigInt(St(t,"bits"));return e&(ls<<n)-ls}function wt(s,t){switch(typeof s){case"bigint":return s;case"number":return O(Number.isInteger(s),"underflow",t||"value",s),O(s>=-$r&&s<=$r,"overflow",t||"value",s),BigInt(s);case"string":try{if(s==="")throw new Error("empty string");return s[0]==="-"&&s[1]!=="-"?-BigInt(s.substring(1)):BigInt(s)}catch(e){O(!1,`invalid BigNumberish string: ${e.message}`,t||"value",s)}}O(!1,"invalid BigNumberish value",t||"value",s)}function Nc(s,t){const e=wt(s,t);return Y(e>=bl,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:s}),e}const vh="0123456789abcdef";function Br(s){if(s instanceof Uint8Array){let t="0x0";for(const e of s)t+=vh[e>>4],t+=vh[e&15];return BigInt(t)}return wt(s)}function St(s,t){switch(typeof s){case"bigint":return O(s>=-$r&&s<=$r,"overflow",t||"value",s),Number(s);case"number":return O(Number.isInteger(s),"underflow",t||"value",s),O(s>=-$r&&s<=$r,"overflow",t||"value",s),s;case"string":try{if(s==="")throw new Error("empty string");return St(BigInt(s),t)}catch(e){O(!1,`invalid numeric string: ${e.message}`,t||"value",s)}}O(!1,"invalid numeric value",t||"value",s)}function w6(s){return St(Br(s))}function hs(s,t){const e=Nc(s,"value");let n=e.toString(16);if(t==null)n.length%2&&(n="0"+n);else{const a=St(t,"width");if(a===0&&e===bl)return"0x";for(Y(a*2>=n.length,`value exceeds width (${a} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:s});n.length<a*2;)n="0"+n}return"0x"+n}function pe(s,t){const e=Nc(s,"value");if(e===bl){const i=t!=null?St(t,"width"):0;return new Uint8Array(i)}let n=e.toString(16);if(n.length%2&&(n="0"+n),t!=null){const i=St(t,"width");for(;n.length<i*2;)n="00"+n;Y(i*2===n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:s})}const a=new Uint8Array(n.length/2);for(let i=0;i<a.length;i++){const r=i*2;a[i]=parseInt(n.substring(r,r+2),16)}return a}function ln(s){let t=ut(Fc(s)?s:pe(s)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const Qf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Gl=null;function D_(s){if(Gl==null){Gl={};for(let e=0;e<Qf.length;e++)Gl[Qf[e]]=BigInt(e)}const t=Gl[s];return O(t!=null,"invalid base58 value","letter",s),t}const z_=BigInt(0),Wu=BigInt(58);function $1(s){const t=bt(s);let e=Br(t),n="";for(;e;)n=Qf[Number(e%Wu)]+n,e/=Wu;for(let a=0;a<t.length&&!t[a];a++)n=Qf[0]+n;return n}function L6(s){let t=z_;for(let e=0;e<s.length;e++)t*=Wu,t+=D_(s[e]);return t}function A6(s){s=atob(s);const t=new Uint8Array(s.length);for(let e=0;e<s.length;e++)t[e]=s.charCodeAt(e);return bt(t)}function E6(s){const t=bt(s);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}var io;class Q1{constructor(t,e,n){z(this,"filter");z(this,"emitter");j(this,io);T(this,io,e),mt(this,{emitter:t,filter:n})}async removeListener(){L(this,io)!=null&&await this.emitter.off(this.filter,L(this,io))}}io=new WeakMap;function q_(s,t,e,n,a){O(!1,`invalid codepoint at offset ${t}; ${s}`,"bytes",e)}function Yb(s,t,e,n,a){if(s==="BAD_PREFIX"||s==="UNEXPECTED_CONTINUE"){let i=0;for(let r=t+1;r<e.length&&e[r]>>6===2;r++)i++;return i}return s==="OVERRUN"?e.length-t-1:0}function V_(s,t,e,n,a){return s==="OVERLONG"?(O(typeof a=="number","invalid bad code point for replacement","badCodepoint",a),n.push(a),0):(n.push(65533),Yb(s,t,e))}const C6=Object.freeze({error:q_,ignore:Yb,replace:V_});function tp(s,t){t==null&&(t=C6.error);const e=bt(s,"bytes"),n=[];let a=0;for(;a<e.length;){const i=e[a++];if(!(i>>7)){n.push(i);continue}let r=null,o=null;if((i&224)===192)r=1,o=127;else if((i&240)===224)r=2,o=2047;else if((i&248)===240)r=3,o=65535;else{(i&192)===128?a+=t("UNEXPECTED_CONTINUE",a-1,e,n):a+=t("BAD_PREFIX",a-1,e,n);continue}if(a-1+r>=e.length){a+=t("OVERRUN",a-1,e,n);continue}let f=i&(1<<8-r-1)-1;for(let l=0;l<r;l++){let c=e[a];if((c&192)!=128){a+=t("MISSING_CONTINUE",a,e,n),f=null;break}f=f<<6|c&63,a++}if(f!==null){if(f>1114111){a+=t("OUT_OF_RANGE",a-1-r,e,n,f);continue}if(f>=55296&&f<=57343){a+=t("UTF16_SURROGATE",a-1-r,e,n,f);continue}if(f<=o){a+=t("OVERLONG",a-1-r,e,n,f);continue}n.push(f)}}return n}function Pe(s,t){O(typeof s=="string","invalid string value","str",s),t!=null&&(K1(t),s=s.normalize(t));let e=[];for(let n=0;n<s.length;n++){const a=s.charCodeAt(n);if(a<128)e.push(a);else if(a<2048)e.push(a>>6|192),e.push(a&63|128);else if((a&64512)==55296){n++;const i=s.charCodeAt(n);O(n<s.length&&(i&64512)===56320,"invalid surrogate pair","str",s);const r=65536+((a&1023)<<10)+(i&1023);e.push(r>>18|240),e.push(r>>12&63|128),e.push(r>>6&63|128),e.push(r&63|128)}else e.push(a>>12|224),e.push(a>>6&63|128),e.push(a&63|128)}return new Uint8Array(e)}function G_(s){return s.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function ma(s,t){return G_(tp(s,t))}function ep(s,t){return tp(Pe(s,t))}function np(s){async function t(e,n){Y(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const a=e.url.split(":")[0].toLowerCase();Y(a==="http"||a==="https",`unsupported protocol ${a}`,"UNSUPPORTED_OPERATION",{info:{protocol:a},operation:"request"}),Y(a==="https"||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const r=new AbortController,o=setTimeout(()=>{i=de("request timeout","TIMEOUT"),r.abort()},e.timeout);n&&n.addListener(()=>{i=de("request cancelled","CANCELLED"),r.abort()});const f=Object.assign({},s,{method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:r.signal});let l;try{l=await fetch(e.url,f)}catch(p){throw clearTimeout(o),i||p}clearTimeout(o);const c={};l.headers.forEach((p,C)=>{c[C.toLowerCase()]=p});const h=await l.arrayBuffer(),m=h==null?null:new Uint8Array(h);return{statusCode:l.status,statusMessage:l.statusText,headers:c,body:m}}return t}const H_=12,j_=250;let Ph=np();const K_=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),$_=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let qd=!1;async function sp(s,t){try{const e=s.match(K_);if(!e)throw new Error("invalid data");return new Ms(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?A6(e[3]):Q_(e[3]))}catch{return new Ms(599,"BAD REQUEST (invalid data: URI)",{},null,new Oe(s))}}function ap(s){async function t(e,n){try{const a=e.match($_);if(!a)throw new Error("invalid link");return new Oe(`${s}${a[2]}`)}catch{return new Ms(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Oe(e))}}return t}const Hl={data:sp,ipfs:ap("https://gateway.ipfs.io/ipfs/")},ip=new WeakMap;var qi,Da;class v6{constructor(t){j(this,qi);j(this,Da);T(this,qi,[]),T(this,Da,!1),ip.set(t,()=>{if(!L(this,Da)){T(this,Da,!0);for(const e of L(this,qi))setTimeout(()=>{e()},0);T(this,qi,[])}})}addListener(t){Y(!L(this,Da),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),L(this,qi).push(t)}get cancelled(){return L(this,Da)}checkSignal(){Y(!this.cancelled,"cancelled","CANCELLED",{})}}qi=new WeakMap,Da=new WeakMap;function jl(s){if(s==null)throw new Error("missing signal; should not happen");return s.checkSignal(),s}var ro,oo,ts,ta,co,lo,Re,_n,ea,Vi,Gi,Hi,Ps,es,za,ji,a0;const E1=class E1{constructor(t){j(this,ji);j(this,ro);j(this,oo);j(this,ts);j(this,ta);j(this,co);j(this,lo);j(this,Re);j(this,_n);j(this,ea);j(this,Vi);j(this,Gi);j(this,Hi);j(this,Ps);j(this,es);j(this,za);T(this,lo,String(t)),T(this,ro,!1),T(this,oo,!0),T(this,ts,{}),T(this,ta,""),T(this,co,3e5),T(this,es,{slotInterval:j_,maxAttempts:H_}),T(this,za,null)}get url(){return L(this,lo)}set url(t){T(this,lo,String(t))}get body(){return L(this,Re)==null?null:new Uint8Array(L(this,Re))}set body(t){if(t==null)T(this,Re,void 0),T(this,_n,void 0);else if(typeof t=="string")T(this,Re,Pe(t)),T(this,_n,"text/plain");else if(t instanceof Uint8Array)T(this,Re,t),T(this,_n,"application/octet-stream");else if(typeof t=="object")T(this,Re,Pe(JSON.stringify(t))),T(this,_n,"application/json");else throw new Error("invalid body")}hasBody(){return L(this,Re)!=null}get method(){return L(this,ta)?L(this,ta):this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),T(this,ta,String(t).toUpperCase())}get headers(){const t=Object.assign({},L(this,ts));return L(this,ea)&&(t.authorization=`Basic ${E6(Pe(L(this,ea)))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&L(this,_n)&&(t["content-type"]=L(this,_n)),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){L(this,ts)[String(t).toLowerCase()]=String(e)}clearHeaders(){T(this,ts,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=>{if(n<e.length){const a=e[n++];return{value:[a,t[a]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return L(this,ea)||null}setCredentials(t,e){O(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),T(this,ea,`${t}:${e}`)}get allowGzip(){return L(this,oo)}set allowGzip(t){T(this,oo,!!t)}get allowInsecureAuthentication(){return!!L(this,ro)}set allowInsecureAuthentication(t){T(this,ro,!!t)}get timeout(){return L(this,co)}set timeout(t){O(t>=0,"timeout must be non-zero","timeout",t),T(this,co,t)}get preflightFunc(){return L(this,Vi)||null}set preflightFunc(t){T(this,Vi,t)}get processFunc(){return L(this,Gi)||null}set processFunc(t){T(this,Gi,t)}get retryFunc(){return L(this,Hi)||null}set retryFunc(t){T(this,Hi,t)}get getUrlFunc(){return L(this,za)||Ph}set getUrlFunc(t){T(this,za,t)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${L(this,Re)?ut(L(this,Re)):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(L(this,es).slotInterval=t.slotInterval),t.maxAttempts!=null&&(L(this,es).maxAttempts=t.maxAttempts)}send(){return Y(L(this,Ps)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),T(this,Ps,new v6(this)),ct(this,ji,a0).call(this,0,Ih()+this.timeout,0,this,new Ms(0,"",{},null,this))}cancel(){Y(L(this,Ps)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=ip.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),n=t.split(":")[0].toLowerCase();Y(this.method==="GET"&&(e!=="https"||n!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const a=new E1(t);return a.method="GET",a.allowGzip=this.allowGzip,a.timeout=this.timeout,T(a,ts,Object.assign({},L(this,ts))),L(this,Re)&&T(a,Re,new Uint8Array(L(this,Re))),T(a,_n,L(this,_n)),a}clone(){const t=new E1(this.url);return T(t,ta,L(this,ta)),L(this,Re)&&T(t,Re,L(this,Re)),T(t,_n,L(this,_n)),T(t,ts,Object.assign({},L(this,ts))),T(t,ea,L(this,ea)),this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),T(t,Vi,L(this,Vi)),T(t,Gi,L(this,Gi)),T(t,Hi,L(this,Hi)),T(t,es,Object.assign({},L(this,es))),T(t,za,L(this,za)),t}static lockConfig(){qd=!0}static getGateway(t){return Hl[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(qd)throw new Error("gateways locked");Hl[t]=e}static registerGetUrl(t){if(qd)throw new Error("gateways locked");Ph=t}static createGetUrlFunc(t){return np(t)}static createDataGateway(){return sp}static createIpfsGatewayFunc(t){return ap(t)}};ro=new WeakMap,oo=new WeakMap,ts=new WeakMap,ta=new WeakMap,co=new WeakMap,lo=new WeakMap,Re=new WeakMap,_n=new WeakMap,ea=new WeakMap,Vi=new WeakMap,Gi=new WeakMap,Hi=new WeakMap,Ps=new WeakMap,es=new WeakMap,za=new WeakMap,ji=new WeakSet,a0=async function(t,e,n,a,i){var c,h,m;if(t>=L(this,es).maxAttempts)return i.makeServerError("exceeded maximum retry limit");Y(Ih()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:a}),n>0&&await J_(n);let r=this.clone();const o=(r.url.split(":")[0]||"").toLowerCase();if(o in Hl){const p=await Hl[o](r.url,jl(L(a,Ps)));if(p instanceof Ms){let C=p;if(this.processFunc){jl(L(a,Ps));try{C=await this.processFunc(r,C)}catch(A){(A.throttle==null||typeof A.stall!="number")&&C.makeServerError("error in post-processing function",A).assertOk()}}return C}r=p}this.preflightFunc&&(r=await this.preflightFunc(r));const f=await this.getUrlFunc(r,jl(L(a,Ps)));let l=new Ms(f.statusCode,f.statusMessage,f.headers,f.body,a);if(l.statusCode===301||l.statusCode===302){try{const p=l.headers.location||"";return ct(c=r.redirect(p),ji,a0).call(c,t+1,e,0,a,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(r,l,t))){const p=l.headers["retry-after"];let C=L(this,es).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(C=parseInt(p)),ct(h=r.clone(),ji,a0).call(h,t+1,e,C,a,l)}if(this.processFunc){jl(L(a,Ps));try{l=await this.processFunc(r,l)}catch(p){(p.throttle==null||typeof p.stall!="number")&&l.makeServerError("error in post-processing function",p).assertOk();let C=L(this,es).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return p.stall>=0&&(C=p.stall),ct(m=r.clone(),ji,a0).call(m,t+1,e,C,a,l)}}return l};let Oe=E1;var D0,z0,q0,xn,fo,Ki;const K5=class K5{constructor(t,e,n,a,i){j(this,D0);j(this,z0);j(this,q0);j(this,xn);j(this,fo);j(this,Ki);T(this,D0,t),T(this,z0,e),T(this,q0,Object.keys(n).reduce((r,o)=>(r[o.toLowerCase()]=String(n[o]),r),{})),T(this,xn,a==null?null:new Uint8Array(a)),T(this,fo,i||null),T(this,Ki,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${L(this,xn)?ut(L(this,xn)):"null"}>`}get statusCode(){return L(this,D0)}get statusMessage(){return L(this,z0)}get headers(){return Object.assign({},L(this,q0))}get body(){return L(this,xn)==null?null:new Uint8Array(L(this,xn))}get bodyText(){try{return L(this,xn)==null?"":ma(L(this,xn))}catch{Y(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Y(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let n=0;return{next:()=>{if(n<e.length){const a=e[n++];return{value:[a,t[a]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let n;t?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${t})`);const a=new K5(599,n,this.headers,this.body,L(this,fo)||void 0);return T(a,Ki,{message:t,error:e}),a}throwThrottleError(t,e){e==null?e=-1:O(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const n=new Error(t||"throttling requests");throw mt(n,{stall:e,throttle:!0}),n}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return L(this,xn)!=null}get request(){return L(this,fo)}ok(){return L(this,Ki).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=L(this,Ki);t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let a=null;try{L(this,xn)&&(a=ma(L(this,xn)))}catch{}Y(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e,info:{requestUrl:n,responseBody:a,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};D0=new WeakMap,z0=new WeakMap,q0=new WeakMap,xn=new WeakMap,fo=new WeakMap,Ki=new WeakMap;let Ms=K5;function Ih(){return new Date().getTime()}function Q_(s){return Pe(s.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function J_(s){return new Promise(t=>setTimeout(t,s))}const W_=BigInt(-1),Zn=BigInt(0),Qr=BigInt(1),Z_=BigInt(5),Ur={};let Yr="0000";for(;Yr.length<80;)Yr+=Yr;function mi(s){let t=Yr;for(;t.length<s;)t+=t;return BigInt("1"+t.substring(0,s))}function Qc(s,t,e){const n=BigInt(t.width);if(t.signed){const a=Qr<<n-Qr;Y(e==null||s>=-a&&s<a,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:s}),s>Zn?s=rc(ha(s,n),n):s=-rc(ha(-s,n),n)}else{const a=Qr<<n;Y(e==null||s>=0&&s<a,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:s}),s=(s%a+a)%a&a-Qr}return s}function Vd(s){typeof s=="number"&&(s=`fixed128x${s}`);let t=!0,e=128,n=18;if(typeof s=="string"){if(s!=="fixed")if(s==="ufixed")t=!1;else{const i=s.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);O(i,"invalid fixed format","format",s),t=i[1]!=="u",e=parseInt(i[2]),n=parseInt(i[3])}}else if(s){const i=s,r=(o,f,l)=>i[o]==null?l:(O(typeof i[o]===f,"invalid fixed format ("+o+" not "+f+")","format."+o,i[o]),i[o]);t=r("signed","boolean",t),e=r("width","number",e),n=r("decimals","number",n)}O(e%8===0,"invalid FixedNumber width (not byte aligned)","format.width",e),O(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const a=(t?"":"u")+"fixed"+String(e)+"x"+String(n);return{signed:t,width:e,decimals:n,name:a}}function X_(s,t){let e="";s<Zn&&(e="-",s*=W_);let n=s.toString();if(t===0)return e+n;for(;n.length<=t;)n=Yr+n;const a=n.length-t;for(n=n.substring(0,a)+"."+n.substring(a);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return e+n}var ns,fe,Ze,ie,Ci,Ws,Zu,Xu,Yu,t2;const Ua=class Ua{constructor(t,e,n){j(this,ie);z(this,"format");j(this,ns);j(this,fe);j(this,Ze);z(this,"_value");Hs(t,Ur,"FixedNumber"),T(this,fe,e),T(this,ns,n);const a=X_(e,n.decimals);mt(this,{format:n.name,_value:a}),T(this,Ze,mi(n.decimals))}get signed(){return L(this,ns).signed}get width(){return L(this,ns).width}get decimals(){return L(this,ns).decimals}get value(){return L(this,fe)}addUnsafe(t){return ct(this,ie,Zu).call(this,t)}add(t){return ct(this,ie,Zu).call(this,t,"add")}subUnsafe(t){return ct(this,ie,Xu).call(this,t)}sub(t){return ct(this,ie,Xu).call(this,t,"sub")}mulUnsafe(t){return ct(this,ie,Yu).call(this,t)}mul(t){return ct(this,ie,Yu).call(this,t,"mul")}mulSignal(t){ct(this,ie,Ci).call(this,t);const e=L(this,fe)*L(t,fe);return Y(e%L(this,Ze)===Zn,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),ct(this,ie,Ws).call(this,e/L(this,Ze),"mulSignal")}divUnsafe(t){return ct(this,ie,t2).call(this,t)}div(t){return ct(this,ie,t2).call(this,t,"div")}divSignal(t){Y(L(t,fe)!==Zn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ct(this,ie,Ci).call(this,t);const e=L(this,fe)*L(this,Ze);return Y(e%L(t,fe)===Zn,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),ct(this,ie,Ws).call(this,e/L(t,fe),"divSignal")}cmp(t){let e=this.value,n=t.value;const a=this.decimals-t.decimals;return a>0?n*=mi(a):a<0&&(e*=mi(-a)),e<n?-1:e>n?1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=L(this,fe);return L(this,fe)<Zn&&(t-=L(this,Ze)-Qr),t=L(this,fe)/L(this,Ze)*L(this,Ze),ct(this,ie,Ws).call(this,t,"floor")}ceiling(){let t=L(this,fe);return L(this,fe)>Zn&&(t+=L(this,Ze)-Qr),t=L(this,fe)/L(this,Ze)*L(this,Ze),ct(this,ie,Ws).call(this,t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const e=this.decimals-t,n=Z_*mi(e-1);let a=this.value+n;const i=mi(e);return a=a/i*i,Qc(a,L(this,ns),"round"),new Ua(Ur,a,L(this,ns))}isZero(){return L(this,fe)===Zn}isNegative(){return L(this,fe)<Zn}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ua.fromString(this.toString(),t)}static fromValue(t,e,n){const a=e==null?0:St(e),i=Vd(n);let r=wt(t,"value");const o=a-i.decimals;if(o>0){const f=mi(o);Y(r%f===Zn,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),r/=f}else o<0&&(r*=mi(-o));return Qc(r,i,"fromValue"),new Ua(Ur,r,i)}static fromString(t,e){const n=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);O(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",t);const a=Vd(e);let i=n[2]||"0",r=n[3]||"";for(;r.length<a.decimals;)r+=Yr;Y(r.substring(a.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),r=r.substring(0,a.decimals);const o=BigInt(n[1]+i+r);return Qc(o,a,"fromString"),new Ua(Ur,o,a)}static fromBytes(t,e){let n=Br(bt(t,"value"));const a=Vd(e);return a.signed&&(n=rc(n,a.width)),Qc(n,a,"fromBytes"),new Ua(Ur,n,a)}};ns=new WeakMap,fe=new WeakMap,Ze=new WeakMap,ie=new WeakSet,Ci=function(t){O(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)},Ws=function(t,e){return t=Qc(t,L(this,ns),e),new Ua(Ur,t,L(this,ns))},Zu=function(t,e){return ct(this,ie,Ci).call(this,t),ct(this,ie,Ws).call(this,L(this,fe)+L(t,fe),e)},Xu=function(t,e){return ct(this,ie,Ci).call(this,t),ct(this,ie,Ws).call(this,L(this,fe)-L(t,fe),e)},Yu=function(t,e){return ct(this,ie,Ci).call(this,t),ct(this,ie,Ws).call(this,L(this,fe)*L(t,fe)/L(this,Ze),e)},t2=function(t,e){return Y(L(t,fe)!==Zn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ct(this,ie,Ci).call(this,t),ct(this,ie,Ws).call(this,L(this,fe)*L(this,Ze)/L(t,fe),e)};let oc=Ua;function Y_(s){let t=s.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Th(s,t,e){let n=0;for(let a=0;a<e;a++)n=n*256+s[t+a];return n}function Bh(s,t,e,n){const a=[];for(;e<t+1+n;){const i=rp(s,e);a.push(i.result),e+=i.consumed,Y(e<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:s,length:n,offset:t})}return{consumed:1+n,result:a}}function rp(s,t){Y(s.length!==0,"data too short","BUFFER_OVERRUN",{buffer:s,length:0,offset:1});const e=n=>{Y(n<=s.length,"data short segment too short","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:n})};if(s[t]>=248){const n=s[t]-247;e(t+1+n);const a=Th(s,t+1,n);return e(t+1+n+a),Bh(s,t,t+1+n,n+a)}else if(s[t]>=192){const n=s[t]-192;return e(t+1+n),Bh(s,t,t+1,n)}else if(s[t]>=184){const n=s[t]-183;e(t+1+n);const a=Th(s,t+1,n);e(t+1+n+a);const i=ut(s.slice(t+1+n,t+1+n+a));return{consumed:1+n+a,result:i}}else if(s[t]>=128){const n=s[t]-128;e(t+1+n);const a=ut(s.slice(t+1,t+1+n));return{consumed:1+n,result:a}}return{consumed:1,result:Y_(s[t])}}function Sr(s){const t=bt(s,"data"),e=rp(t,0);return O(e.consumed===t.length,"unexpected junk after rlp payload","data",s),e.result}function Sh(s){const t=[];for(;s;)t.unshift(s&255),s>>=8;return t}function op(s){if(Array.isArray(s)){let n=[];if(s.forEach(function(i){n=n.concat(op(i))}),n.length<=55)return n.unshift(192+n.length),n;const a=Sh(n.length);return a.unshift(247+a.length),a.concat(n)}const t=Array.prototype.slice.call(bt(s,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=Sh(t.length);return e.unshift(183+e.length),e.concat(t)}const Oh="0123456789abcdef";function Kn(s){let t="0x";for(const e of op(s))t+=Oh[e>>4],t+=Oh[e&15];return t}const cp=["wei","kwei","mwei","gwei","szabo","finney","ether"];function P6(s,t){let e=18;if(typeof t=="string"){const n=cp.indexOf(t);O(n>=0,"invalid unit","unit",t),e=3*n}else t!=null&&(e=St(t,"unit"));return oc.fromValue(s,e,{decimals:e,width:512}).toString()}function I6(s,t){O(typeof s=="string","value must be a string","value",s);let e=18;if(typeof t=="string"){const n=cp.indexOf(t);O(n>=0,"invalid unit","unit",t),e=3*n}else t!=null&&(e=St(t,"unit"));return oc.fromString(s,{decimals:e,width:512}).value}function lp(s){return P6(s,18)}function fp(s){return I6(s,18)}function T6(s){const t=bt(s,"randomBytes");t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=ut(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")}const Ye=32,e2=new Uint8Array(Ye),tx=["then"],Kl={},dp=new WeakMap;function Bi(s){return dp.get(s)}function Rh(s,t){dp.set(s,t)}function Jc(s,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${s}`);throw e.error=t,e}function n2(s,t,e){return s.indexOf(null)>=0?t.map((n,a)=>n instanceof fi?n2(Bi(n),n,e):n):s.reduce((n,a,i)=>{let r=t.getValue(a);return a in n||(e&&r instanceof fi&&(r=n2(Bi(r),r,e)),n[a]=r),n},{})}var uo;const Wr=class Wr extends Array{constructor(...e){const n=e[0];let a=e[1],i=(e[2]||[]).slice(),r=!0;n!==Kl&&(a=e,i=[],r=!1);super(a.length);j(this,uo);a.forEach((l,c)=>{this[c]=l});const o=i.reduce((l,c)=>(typeof c=="string"&&l.set(c,(l.get(c)||0)+1),l),new Map);if(Rh(this,Object.freeze(a.map((l,c)=>{const h=i[c];return h!=null&&o.get(h)===1?h:null}))),T(this,uo,[]),L(this,uo)==null&&L(this,uo),!r)return;Object.freeze(this);const f=new Proxy(this,{get:(l,c,h)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const p=St(c,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const C=l[p];return C instanceof Error&&Jc(`index ${p}`,C),C}if(tx.indexOf(c)>=0)return Reflect.get(l,c,h);const m=l[c];if(m instanceof Function)return function(...p){return m.apply(this===h?l:this,p)};if(!(c in l))return l.getValue.apply(this===h?l:this,[c])}return Reflect.get(l,c,h)}});return Rh(f,Bi(this)),f}toArray(e){const n=[];return this.forEach((a,i)=>{a instanceof Error&&Jc(`index ${i}`,a),e&&a instanceof Wr&&(a=a.toArray(e)),n.push(a)}),n}toObject(e){const n=Bi(this);return n.reduce((a,i,r)=>(Y(i!=null,`value at index ${r} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),n2(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const a=Bi(this),i=[],r=[];for(let o=e;o<n;o++)i.push(this[o]),r.push(a[o]);return new Wr(Kl,i,r)}filter(e,n){const a=Bi(this),i=[],r=[];for(let o=0;o<this.length;o++){const f=this[o];f instanceof Error&&Jc(`index ${o}`,f),e.call(n,f,o,this)&&(i.push(f),r.push(a[o]))}return new Wr(Kl,i,r)}map(e,n){const a=[];for(let i=0;i<this.length;i++){const r=this[i];r instanceof Error&&Jc(`index ${i}`,r),a.push(e.call(n,r,i,this))}return a}getValue(e){const n=Bi(this).indexOf(e);if(n===-1)return;const a=this[n];return a instanceof Error&&Jc(`property ${JSON.stringify(e)}`,a.error),a}static fromItems(e,n){return new Wr(Kl,e,n)}};uo=new WeakMap;let fi=Wr;function up(s){const t=[],e=function(n,a){if(Array.isArray(a))for(let i in a){const r=n.slice();r.push(i);try{e(r,a[i])}catch(o){t.push({path:r,error:o})}}};return e([],s),t}function Fh(s){let t=pe(s);return Y(t.length<=Ye,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ye,offset:t.length}),t.length!==Ye&&(t=Be(Wt([e2.slice(t.length%Ye),t]))),t}class La{constructor(t,e,n,a){z(this,"name");z(this,"type");z(this,"localName");z(this,"dynamic");mt(this,{name:t,type:e,localName:n,dynamic:a},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){O(!1,t,this.localName,e)}}var na,$i,ho,_f;class s2{constructor(){j(this,ho);j(this,na);j(this,$i);T(this,na,[]),T(this,$i,0)}get data(){return Wt(L(this,na))}get length(){return L(this,$i)}appendWriter(t){return ct(this,ho,_f).call(this,Be(t.data))}writeBytes(t){let e=Be(t);const n=e.length%Ye;return n&&(e=Be(Wt([e,e2.slice(n)]))),ct(this,ho,_f).call(this,e)}writeValue(t){return ct(this,ho,_f).call(this,Fh(t))}writeUpdatableValue(){const t=L(this,na).length;return L(this,na).push(e2),T(this,$i,L(this,$i)+Ye),e=>{L(this,na)[t]=Fh(e)}}}na=new WeakMap,$i=new WeakMap,ho=new WeakSet,_f=function(t){return L(this,na).push(t),T(this,$i,L(this,$i)+t.length),t.length};var sn,wn,Qi,Ji,qa,Tr,i2,hp;const $5=class $5{constructor(t,e,n){j(this,Tr);z(this,"allowLoose");j(this,sn);j(this,wn);j(this,Qi);j(this,Ji);j(this,qa);mt(this,{allowLoose:!!e}),T(this,sn,Be(t)),T(this,Qi,0),T(this,Ji,null),T(this,qa,n??1024),T(this,wn,0)}get data(){return ut(L(this,sn))}get dataLength(){return L(this,sn).length}get consumed(){return L(this,wn)}get bytes(){return new Uint8Array(L(this,sn))}subReader(t){const e=new $5(L(this,sn).slice(L(this,wn)+t),this.allowLoose,L(this,qa));return T(e,Ji,this),e}readBytes(t,e){let n=ct(this,Tr,hp).call(this,0,t,!!e);return ct(this,Tr,i2).call(this,t),T(this,wn,L(this,wn)+n.length),n.slice(0,t)}readValue(){return Br(this.readBytes(Ye))}readIndex(){return w6(this.readBytes(Ye))}};sn=new WeakMap,wn=new WeakMap,Qi=new WeakMap,Ji=new WeakMap,qa=new WeakMap,Tr=new WeakSet,i2=function(t){var e;if(L(this,Ji))return ct(e=L(this,Ji),Tr,i2).call(e,t);T(this,Qi,L(this,Qi)+t),Y(L(this,qa)<1||L(this,Qi)<=L(this,qa)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${L(this,qa)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Be(L(this,sn)),offset:L(this,wn),length:t,info:{bytesRead:L(this,Qi),dataLength:this.dataLength}})},hp=function(t,e,n){let a=Math.ceil(e/Ye)*Ye;return L(this,wn)+a>L(this,sn).length&&(this.allowLoose&&n&&L(this,wn)+e<=L(this,sn).length?a=e:Y(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Be(L(this,sn)),length:L(this,sn).length,offset:L(this,wn)+a})),L(this,sn).slice(L(this,wn),L(this,wn)+a)};let a2=$5;function An(s){if(!Number.isSafeInteger(s)||s<0)throw new Error(`Wrong positive integer: ${s}`)}function B6(s,...t){if(!(s instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(s.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${s.length}`)}function bp(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");An(s.outputLen),An(s.blockLen)}function cc(s,t=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(t&&s.finished)throw new Error("Hash#digest() has already been called")}function pp(s,t){B6(s);const e=t.outputLen;if(s.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const Gd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gp=s=>s instanceof Uint8Array,xf=s=>new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)),wf=s=>new DataView(s.buffer,s.byteOffset,s.byteLength),Ls=(s,t)=>s<<32-t|s>>>t,ex=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ex)throw new Error("Non little-endian hardware is not supported");const nx=async()=>{};async function Nh(s,t,e){let n=Date.now();for(let a=0;a<s;a++){e(a);const i=Date.now()-n;i>=0&&i<t||(await nx(),n+=i)}}function sx(s){if(typeof s!="string")throw new Error(`utf8ToBytes expected string, got ${typeof s}`);return new Uint8Array(new TextEncoder().encode(s))}function lc(s){if(typeof s=="string"&&(s=sx(s)),!gp(s))throw new Error(`expected Uint8Array, got ${typeof s}`);return s}function ax(...s){const t=new Uint8Array(s.reduce((n,a)=>n+a.length,0));let e=0;return s.forEach(n=>{if(!gp(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}class S6{clone(){return this._cloneInto()}}const ix={}.toString;function yp(s,t){if(t!==void 0&&ix.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(s,t)}function J1(s){const t=n=>s().update(lc(n)).digest(),e=s();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>s(),t}function rx(s=32){if(Gd&&typeof Gd.getRandomValues=="function")return Gd.getRandomValues(new Uint8Array(s));throw new Error("crypto.getRandomValues must be defined")}class mp extends S6{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,bp(t);const n=lc(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,i=new Uint8Array(a);i.set(n.length>a?t.create().update(n).digest():n);for(let r=0;r<i.length;r++)i[r]^=54;this.iHash.update(i),this.oHash=t.create();for(let r=0;r<i.length;r++)i[r]^=106;this.oHash.update(i),i.fill(0)}update(t){return cc(this),this.iHash.update(t),this}digestInto(t){cc(this),B6(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:a,destroyed:i,blockLen:r,outputLen:o}=this;return t=t,t.finished=a,t.destroyed=i,t.blockLen=r,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const W1=(s,t,e)=>new mp(s,t).update(e).digest();W1.create=(s,t)=>new mp(s,t);function ox(s,t,e,n){bp(s);const a=yp({dkLen:32,asyncTick:10},n),{c:i,dkLen:r,asyncTick:o}=a;if(An(i),An(r),An(o),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=lc(t),l=lc(e),c=new Uint8Array(r),h=W1.create(s,f),m=h._cloneInto().update(l);return{c:i,dkLen:r,asyncTick:o,DK:c,PRF:h,PRFSalt:m}}function cx(s,t,e,n,a){return s.destroy(),t.destroy(),n&&n.destroy(),a.fill(0),e}function O6(s,t,e,n){const{c:a,dkLen:i,DK:r,PRF:o,PRFSalt:f}=ox(s,t,e,n);let l;const c=new Uint8Array(4),h=wf(c),m=new Uint8Array(o.outputLen);for(let p=1,C=0;C<i;p++,C+=o.outputLen){const A=r.subarray(C,C+o.outputLen);h.setInt32(0,p,!1),(l=f._cloneInto(l)).update(c).digestInto(m),A.set(m.subarray(0,A.length));for(let w=1;w<a;w++){o._cloneInto(l).update(m).digestInto(m);for(let I=0;I<A.length;I++)A[I]^=m[I]}}return cx(o,f,r,l,m)}function lx(s,t,e,n){if(typeof s.setBigUint64=="function")return s.setBigUint64(t,e,n);const a=BigInt(32),i=BigInt(4294967295),r=Number(e>>a&i),o=Number(e&i),f=n?4:0,l=n?0:4;s.setUint32(t+f,r,n),s.setUint32(t+l,o,n)}class R6 extends S6{constructor(t,e,n,a){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=wf(this.buffer)}update(t){cc(this);const{view:e,buffer:n,blockLen:a}=this;t=lc(t);const i=t.length;for(let r=0;r<i;){const o=Math.min(a-this.pos,i-r);if(o===a){const f=wf(t);for(;a<=i-r;r+=a)this.process(f,r);continue}n.set(t.subarray(r,r+o),this.pos),this.pos+=o,r+=o,this.pos===a&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){cc(this),pp(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:a,isLE:i}=this;let{pos:r}=this;e[r++]=128,this.buffer.subarray(r).fill(0),this.padOffset>a-r&&(this.process(n,0),r=0);for(let h=r;h<a;h++)e[h]=0;lx(n,a-8,BigInt(this.length*8),i),this.process(n,0);const o=wf(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=f/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)o.setUint32(4*h,c[h],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:a,finished:i,destroyed:r,pos:o}=this;return t.length=a,t.pos=o,t.finished=i,t.destroyed=r,a%e&&t.buffer.set(n),t}}const fx=(s,t,e)=>s&t^~s&e,dx=(s,t,e)=>s&t^s&e^t&e,ux=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ba=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sa=new Uint32Array(64);class hx extends R6{constructor(){super(64,32,8,!1),this.A=Ba[0]|0,this.B=Ba[1]|0,this.C=Ba[2]|0,this.D=Ba[3]|0,this.E=Ba[4]|0,this.F=Ba[5]|0,this.G=Ba[6]|0,this.H=Ba[7]|0}get(){const{A:t,B:e,C:n,D:a,E:i,F:r,G:o,H:f}=this;return[t,e,n,a,i,r,o,f]}set(t,e,n,a,i,r,o,f){this.A=t|0,this.B=e|0,this.C=n|0,this.D=a|0,this.E=i|0,this.F=r|0,this.G=o|0,this.H=f|0}process(t,e){for(let h=0;h<16;h++,e+=4)Sa[h]=t.getUint32(e,!1);for(let h=16;h<64;h++){const m=Sa[h-15],p=Sa[h-2],C=Ls(m,7)^Ls(m,18)^m>>>3,A=Ls(p,17)^Ls(p,19)^p>>>10;Sa[h]=A+Sa[h-7]+C+Sa[h-16]|0}let{A:n,B:a,C:i,D:r,E:o,F:f,G:l,H:c}=this;for(let h=0;h<64;h++){const m=Ls(o,6)^Ls(o,11)^Ls(o,25),p=c+m+fx(o,f,l)+ux[h]+Sa[h]|0,A=(Ls(n,2)^Ls(n,13)^Ls(n,22))+dx(n,a,i)|0;c=l,l=f,f=o,o=r+p|0,r=i,i=a,a=n,n=p+A|0}n=n+this.A|0,a=a+this.B|0,i=i+this.C|0,r=r+this.D|0,o=o+this.E|0,f=f+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,a,i,r,o,f,l,c)}roundClean(){Sa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const kc=J1(()=>new hx),$l=BigInt(2**32-1),r2=BigInt(32);function _p(s,t=!1){return t?{h:Number(s&$l),l:Number(s>>r2&$l)}:{h:Number(s>>r2&$l)|0,l:Number(s&$l)|0}}function xp(s,t=!1){let e=new Uint32Array(s.length),n=new Uint32Array(s.length);for(let a=0;a<s.length;a++){const{h:i,l:r}=_p(s[a],t);[e[a],n[a]]=[i,r]}return[e,n]}const bx=(s,t)=>BigInt(s>>>0)<<r2|BigInt(t>>>0),px=(s,t,e)=>s>>>e,gx=(s,t,e)=>s<<32-e|t>>>e,yx=(s,t,e)=>s>>>e|t<<32-e,mx=(s,t,e)=>s<<32-e|t>>>e,_x=(s,t,e)=>s<<64-e|t>>>e-32,xx=(s,t,e)=>s>>>e-32|t<<64-e,wx=(s,t)=>t,Lx=(s,t)=>s,wp=(s,t,e)=>s<<e|t>>>32-e,Lp=(s,t,e)=>t<<e|s>>>32-e,Ap=(s,t,e)=>t<<e-32|s>>>64-e,Ep=(s,t,e)=>s<<e-32|t>>>64-e;function Ax(s,t,e,n){const a=(t>>>0)+(n>>>0);return{h:s+e+(a/2**32|0)|0,l:a|0}}const Ex=(s,t,e)=>(s>>>0)+(t>>>0)+(e>>>0),Cx=(s,t,e,n)=>t+e+n+(s/2**32|0)|0,vx=(s,t,e,n)=>(s>>>0)+(t>>>0)+(e>>>0)+(n>>>0),Px=(s,t,e,n,a)=>t+e+n+a+(s/2**32|0)|0,Ix=(s,t,e,n,a)=>(s>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0),Tx=(s,t,e,n,a,i)=>t+e+n+a+i+(s/2**32|0)|0,Kt={fromBig:_p,split:xp,toBig:bx,shrSH:px,shrSL:gx,rotrSH:yx,rotrSL:mx,rotrBH:_x,rotrBL:xx,rotr32H:wx,rotr32L:Lx,rotlSH:wp,rotlSL:Lp,rotlBH:Ap,rotlBL:Ep,add:Ax,add3L:Ex,add3H:Cx,add4L:vx,add4H:Px,add5H:Tx,add5L:Ix},[Bx,Sx]=Kt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=>BigInt(s))),Oa=new Uint32Array(80),Ra=new Uint32Array(80);class Ox extends R6{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:a,Ch:i,Cl:r,Dh:o,Dl:f,Eh:l,El:c,Fh:h,Fl:m,Gh:p,Gl:C,Hh:A,Hl:w}=this;return[t,e,n,a,i,r,o,f,l,c,h,m,p,C,A,w]}set(t,e,n,a,i,r,o,f,l,c,h,m,p,C,A,w){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=a|0,this.Ch=i|0,this.Cl=r|0,this.Dh=o|0,this.Dl=f|0,this.Eh=l|0,this.El=c|0,this.Fh=h|0,this.Fl=m|0,this.Gh=p|0,this.Gl=C|0,this.Hh=A|0,this.Hl=w|0}process(t,e){for(let F=0;F<16;F++,e+=4)Oa[F]=t.getUint32(e),Ra[F]=t.getUint32(e+=4);for(let F=16;F<80;F++){const S=Oa[F-15]|0,D=Ra[F-15]|0,P=Kt.rotrSH(S,D,1)^Kt.rotrSH(S,D,8)^Kt.shrSH(S,D,7),u=Kt.rotrSL(S,D,1)^Kt.rotrSL(S,D,8)^Kt.shrSL(S,D,7),_=Oa[F-2]|0,G=Ra[F-2]|0,H=Kt.rotrSH(_,G,19)^Kt.rotrBH(_,G,61)^Kt.shrSH(_,G,6),J=Kt.rotrSL(_,G,19)^Kt.rotrBL(_,G,61)^Kt.shrSL(_,G,6),U=Kt.add4L(u,J,Ra[F-7],Ra[F-16]),E=Kt.add4H(U,P,H,Oa[F-7],Oa[F-16]);Oa[F]=E|0,Ra[F]=U|0}let{Ah:n,Al:a,Bh:i,Bl:r,Ch:o,Cl:f,Dh:l,Dl:c,Eh:h,El:m,Fh:p,Fl:C,Gh:A,Gl:w,Hh:I,Hl:v}=this;for(let F=0;F<80;F++){const S=Kt.rotrSH(h,m,14)^Kt.rotrSH(h,m,18)^Kt.rotrBH(h,m,41),D=Kt.rotrSL(h,m,14)^Kt.rotrSL(h,m,18)^Kt.rotrBL(h,m,41),P=h&p^~h&A,u=m&C^~m&w,_=Kt.add5L(v,D,u,Sx[F],Ra[F]),G=Kt.add5H(_,I,S,P,Bx[F],Oa[F]),H=_|0,J=Kt.rotrSH(n,a,28)^Kt.rotrBH(n,a,34)^Kt.rotrBH(n,a,39),U=Kt.rotrSL(n,a,28)^Kt.rotrBL(n,a,34)^Kt.rotrBL(n,a,39),E=n&i^n&o^i&o,M=a&r^a&f^r&f;I=A|0,v=w|0,A=p|0,w=C|0,p=h|0,C=m|0,{h,l:m}=Kt.add(l|0,c|0,G|0,H|0),l=o|0,c=f|0,o=i|0,f=r|0,i=n|0,r=a|0;const N=Kt.add3L(H,U,M);n=Kt.add3H(N,G,J,E),a=N|0}({h:n,l:a}=Kt.add(this.Ah|0,this.Al|0,n|0,a|0)),{h:i,l:r}=Kt.add(this.Bh|0,this.Bl|0,i|0,r|0),{h:o,l:f}=Kt.add(this.Ch|0,this.Cl|0,o|0,f|0),{h:l,l:c}=Kt.add(this.Dh|0,this.Dl|0,l|0,c|0),{h,l:m}=Kt.add(this.Eh|0,this.El|0,h|0,m|0),{h:p,l:C}=Kt.add(this.Fh|0,this.Fl|0,p|0,C|0),{h:A,l:w}=Kt.add(this.Gh|0,this.Gl|0,A|0,w|0),{h:I,l:v}=Kt.add(this.Hh|0,this.Hl|0,I|0,v|0),this.set(n,a,i,r,o,f,l,c,h,m,p,C,A,w,I,v)}roundClean(){Oa.fill(0),Ra.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const F6=J1(()=>new Ox);function Rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const kh=Rx(),Uh=kh.crypto||kh.msCrypto;function Cp(s){switch(s){case"sha256":return kc.create();case"sha512":return F6.create()}O(!1,"invalid hashing algorithm name","algorithm",s)}function Fx(s,t){const e={sha256:kc,sha512:F6}[s];return O(e!=null,"invalid hmac algorithm","algorithm",s),W1.create(e,t)}function Nx(s,t,e,n,a){const i={sha256:kc,sha512:F6}[a];return O(i!=null,"invalid pbkdf2 algorithm","algorithm",a),O6(i,s,t,{c:e,dkLen:n})}function kx(s){Y(Uh!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),O(Number.isInteger(s)&&s>0&&s<=1024,"invalid length","length",s);const t=new Uint8Array(s);return Uh.getRandomValues(t),t}let vp=!1;const Pp=function(s,t,e){return Fx(s,t).update(e).digest()};let Ip=Pp;function Aa(s,t,e){const n=bt(t,"key"),a=bt(e,"data");return ut(Ip(s,n,a))}Aa._=Pp;Aa.lock=function(){vp=!0};Aa.register=function(s){if(vp)throw new Error("computeHmac is locked");Ip=s};Object.freeze(Aa);const[Tp,Bp,Sp]=[[],[],[]],Ux=BigInt(0),Wc=BigInt(1),Mx=BigInt(2),Dx=BigInt(7),zx=BigInt(256),qx=BigInt(113);for(let s=0,t=Wc,e=1,n=0;s<24;s++){[e,n]=[n,(2*e+3*n)%5],Tp.push(2*(5*n+e)),Bp.push((s+1)*(s+2)/2%64);let a=Ux;for(let i=0;i<7;i++)t=(t<<Wc^(t>>Dx)*qx)%zx,t&Mx&&(a^=Wc<<(Wc<<BigInt(i))-Wc);Sp.push(a)}const[Vx,Gx]=xp(Sp,!0),Mh=(s,t,e)=>e>32?Ap(s,t,e):wp(s,t,e),Dh=(s,t,e)=>e>32?Ep(s,t,e):Lp(s,t,e);function Hx(s,t=24){const e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let r=0;r<10;r++)e[r]=s[r]^s[r+10]^s[r+20]^s[r+30]^s[r+40];for(let r=0;r<10;r+=2){const o=(r+8)%10,f=(r+2)%10,l=e[f],c=e[f+1],h=Mh(l,c,1)^e[o],m=Dh(l,c,1)^e[o+1];for(let p=0;p<50;p+=10)s[r+p]^=h,s[r+p+1]^=m}let a=s[2],i=s[3];for(let r=0;r<24;r++){const o=Bp[r],f=Mh(a,i,o),l=Dh(a,i,o),c=Tp[r];a=s[c],i=s[c+1],s[c]=f,s[c+1]=l}for(let r=0;r<50;r+=10){for(let o=0;o<10;o++)e[o]=s[r+o];for(let o=0;o<10;o++)s[r+o]^=~e[(o+2)%10]&e[(o+4)%10]}s[0]^=Vx[n],s[1]^=Gx[n]}e.fill(0)}class N6 extends S6{constructor(t,e,n,a=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=a,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,An(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=xf(this.state)}keccak(){Hx(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){cc(this);const{blockLen:e,state:n}=this;t=lc(t);const a=t.length;for(let i=0;i<a;){const r=Math.min(e-this.pos,a-i);for(let o=0;o<r;o++)n[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:a}=this;t[n]^=e,e&128&&n===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){cc(this,!1),B6(t),this.finish();const e=this.state,{blockLen:n}=this;for(let a=0,i=t.length;a<i;){this.posOut>=n&&this.keccak();const r=Math.min(n-this.posOut,i-a);t.set(e.subarray(this.posOut,this.posOut+r),a),this.posOut+=r,a+=r}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return An(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(pp(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:a,rounds:i,enableXOF:r}=this;return t||(t=new N6(e,n,a,r,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=a,t.enableXOF=r,t.destroyed=this.destroyed,t}}const jx=(s,t,e)=>J1(()=>new N6(t,s,e)),Kx=jx(1,136,256/8);let Op=!1;const Rp=function(s){return Kx(s)};let Fp=Rp;function oe(s){const t=bt(s,"data");return ut(Fp(t))}oe._=Rp;oe.lock=function(){Op=!0};oe.register=function(s){if(Op)throw new TypeError("keccak256 is locked");Fp=s};Object.freeze(oe);const $x=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Np=Uint8Array.from({length:16},(s,t)=>t),Qx=Np.map(s=>(9*s+5)%16);let k6=[Np],U6=[Qx];for(let s=0;s<4;s++)for(let t of[k6,U6])t.push(t[s].map(e=>$x[e]));const kp=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(s=>new Uint8Array(s)),Jx=k6.map((s,t)=>s.map(e=>kp[t][e])),Wx=U6.map((s,t)=>s.map(e=>kp[t][e])),Zx=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Xx=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Ql=(s,t)=>s<<t|s>>>32-t;function zh(s,t,e,n){return s===0?t^e^n:s===1?t&e|~t&n:s===2?(t|~e)^n:s===3?t&n|e&~n:t^(e|~n)}const Jl=new Uint32Array(16);class Yx extends R6{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:e,h2:n,h3:a,h4:i}=this;return[t,e,n,a,i]}set(t,e,n,a,i){this.h0=t|0,this.h1=e|0,this.h2=n|0,this.h3=a|0,this.h4=i|0}process(t,e){for(let p=0;p<16;p++,e+=4)Jl[p]=t.getUint32(e,!0);let n=this.h0|0,a=n,i=this.h1|0,r=i,o=this.h2|0,f=o,l=this.h3|0,c=l,h=this.h4|0,m=h;for(let p=0;p<5;p++){const C=4-p,A=Zx[p],w=Xx[p],I=k6[p],v=U6[p],F=Jx[p],S=Wx[p];for(let D=0;D<16;D++){const P=Ql(n+zh(p,i,o,l)+Jl[I[D]]+A,F[D])+h|0;n=h,h=l,l=Ql(o,10)|0,o=i,i=P}for(let D=0;D<16;D++){const P=Ql(a+zh(C,r,f,c)+Jl[v[D]]+w,S[D])+m|0;a=m,m=c,c=Ql(f,10)|0,f=r,r=P}}this.set(this.h1+o+c|0,this.h2+l+m|0,this.h3+h+a|0,this.h4+n+r|0,this.h0+i+f|0)}roundClean(){Jl.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const tw=J1(()=>new Yx);let Up=!1;const Mp=function(s){return tw(s)};let Dp=Mp;function Ea(s){const t=bt(s,"data");return ut(Dp(t))}Ea._=Mp;Ea.lock=function(){Up=!0};Ea.register=function(s){if(Up)throw new TypeError("ripemd160 is locked");Dp=s};Object.freeze(Ea);let zp=!1;const qp=function(s,t,e,n,a){return Nx(s,t,e,n,a)};let Vp=qp;function ys(s,t,e,n,a){const i=bt(s,"password"),r=bt(t,"salt");return ut(Vp(i,r,e,n,a))}ys._=qp;ys.lock=function(){zp=!0};ys.register=function(s){if(zp)throw new Error("pbkdf2 is locked");Vp=s};Object.freeze(ys);let Gp=!1;const Hp=function(s){return new Uint8Array(kx(s))};let jp=Hp;function En(s){return jp(s)}En._=Hp;En.lock=function(){Gp=!0};En.register=function(s){if(Gp)throw new Error("randomBytes is locked");jp=s};Object.freeze(En);const ne=(s,t)=>s<<t|s>>>32-t;function qh(s,t,e,n,a,i){let r=s[t++]^e[n++],o=s[t++]^e[n++],f=s[t++]^e[n++],l=s[t++]^e[n++],c=s[t++]^e[n++],h=s[t++]^e[n++],m=s[t++]^e[n++],p=s[t++]^e[n++],C=s[t++]^e[n++],A=s[t++]^e[n++],w=s[t++]^e[n++],I=s[t++]^e[n++],v=s[t++]^e[n++],F=s[t++]^e[n++],S=s[t++]^e[n++],D=s[t++]^e[n++],P=r,u=o,_=f,G=l,H=c,J=h,U=m,E=p,M=C,N=A,$=w,X=I,K=v,ot=F,tt=S,lt=D;for(let Tt=0;Tt<8;Tt+=2)H^=ne(P+K|0,7),M^=ne(H+P|0,9),K^=ne(M+H|0,13),P^=ne(K+M|0,18),N^=ne(J+u|0,7),ot^=ne(N+J|0,9),u^=ne(ot+N|0,13),J^=ne(u+ot|0,18),tt^=ne($+U|0,7),_^=ne(tt+$|0,9),U^=ne(_+tt|0,13),$^=ne(U+_|0,18),G^=ne(lt+X|0,7),E^=ne(G+lt|0,9),X^=ne(E+G|0,13),lt^=ne(X+E|0,18),u^=ne(P+G|0,7),_^=ne(u+P|0,9),G^=ne(_+u|0,13),P^=ne(G+_|0,18),U^=ne(J+H|0,7),E^=ne(U+J|0,9),H^=ne(E+U|0,13),J^=ne(H+E|0,18),X^=ne($+N|0,7),M^=ne(X+$|0,9),N^=ne(M+X|0,13),$^=ne(N+M|0,18),K^=ne(lt+tt|0,7),ot^=ne(K+lt|0,9),tt^=ne(ot+K|0,13),lt^=ne(tt+ot|0,18);a[i++]=r+P|0,a[i++]=o+u|0,a[i++]=f+_|0,a[i++]=l+G|0,a[i++]=c+H|0,a[i++]=h+J|0,a[i++]=m+U|0,a[i++]=p+E|0,a[i++]=C+M|0,a[i++]=A+N|0,a[i++]=w+$|0,a[i++]=I+X|0,a[i++]=v+K|0,a[i++]=F+ot|0,a[i++]=S+tt|0,a[i++]=D+lt|0}function to(s,t,e,n,a){let i=n+0,r=n+16*a;for(let o=0;o<16;o++)e[r+o]=s[t+(2*a-1)*16+o];for(let o=0;o<a;o++,i+=16,t+=16)qh(e,r,s,t,e,i),o>0&&(r+=16),qh(e,i,s,t+=16,e,r)}function Kp(s,t,e){const n=yp({dkLen:32,asyncTick:10,maxmem:1073742848},e),{N:a,r:i,p:r,dkLen:o,asyncTick:f,maxmem:l,onProgress:c}=n;if(An(a),An(i),An(r),An(o),An(f),An(l),c!==void 0&&typeof c!="function")throw new Error("progressCb should be function");const h=128*i,m=h/4;if(a<=1||a&a-1||a>=2**(h/8)||a>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(r<0||r>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=h*(a+r);if(p>l)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${l} (maxmem)`);const C=O6(kc,s,t,{c:1,dkLen:h*r}),A=xf(C),w=xf(new Uint8Array(h*a)),I=xf(new Uint8Array(h));let v=()=>{};if(c){const F=2*a*r,S=Math.max(Math.floor(F/1e4),1);let D=0;v=()=>{D++,c&&(!(D%S)||D===F)&&c(D/F)}}return{N:a,r:i,p:r,dkLen:o,blockSize32:m,V:w,B32:A,B:C,tmp:I,blockMixCb:v,asyncTick:f}}function $p(s,t,e,n,a){const i=O6(kc,s,e,{c:1,dkLen:t});return e.fill(0),n.fill(0),a.fill(0),i}function ew(s,t,e){const{N:n,r:a,p:i,dkLen:r,blockSize32:o,V:f,B32:l,B:c,tmp:h,blockMixCb:m}=Kp(s,t,e);for(let p=0;p<i;p++){const C=o*p;for(let A=0;A<o;A++)f[A]=l[C+A];for(let A=0,w=0;A<n-1;A++)to(f,w,f,w+=o,a),m();to(f,(n-1)*o,l,C,a),m();for(let A=0;A<n;A++){const w=l[C+o-16]%n;for(let I=0;I<o;I++)h[I]=l[C+I]^f[w*o+I];to(h,0,l,C,a),m()}}return $p(s,r,c,f,h)}async function nw(s,t,e){const{N:n,r:a,p:i,dkLen:r,blockSize32:o,V:f,B32:l,B:c,tmp:h,blockMixCb:m,asyncTick:p}=Kp(s,t,e);for(let C=0;C<i;C++){const A=o*C;for(let I=0;I<o;I++)f[I]=l[A+I];let w=0;await Nh(n-1,p,()=>{to(f,w,f,w+=o,a),m()}),to(f,(n-1)*o,l,A,a),m(),await Nh(n,p,()=>{const I=l[A+o-16]%n;for(let v=0;v<o;v++)h[v]=l[A+v]^f[I*o+v];to(h,0,l,A,a),m()})}return $p(s,r,c,f,h)}let Qp=!1,Jp=!1;const Wp=async function(s,t,e,n,a,i,r){return await nw(s,t,{N:e,r:n,p:a,dkLen:i,onProgress:r})},Zp=function(s,t,e,n,a,i){return ew(s,t,{N:e,r:n,p:a,dkLen:i})};let Xp=Wp,Yp=Zp;async function Ca(s,t,e,n,a,i,r){const o=bt(s,"passwd"),f=bt(t,"salt");return ut(await Xp(o,f,e,n,a,i,r))}Ca._=Wp;Ca.lock=function(){Jp=!0};Ca.register=function(s){if(Jp)throw new Error("scrypt is locked");Xp=s};Object.freeze(Ca);function va(s,t,e,n,a,i){const r=bt(s,"passwd"),o=bt(t,"salt");return ut(Yp(r,o,e,n,a,i))}va._=Zp;va.lock=function(){Qp=!0};va.register=function(s){if(Qp)throw new Error("scryptSync is locked");Yp=s};Object.freeze(va);const tg=function(s){return Cp("sha256").update(s).digest()},eg=function(s){return Cp("sha512").update(s).digest()};let ng=tg,sg=eg,ag=!1,ig=!1;function Ue(s){const t=bt(s,"data");return ut(ng(t))}Ue._=tg;Ue.lock=function(){ag=!0};Ue.register=function(s){if(ag)throw new Error("sha256 is locked");ng=s};Object.freeze(Ue);function Uc(s){const t=bt(s,"data");return ut(sg(t))}Uc._=eg;Uc.lock=function(){ig=!0};Uc.register=function(s){if(ig)throw new Error("sha512 is locked");sg=s};Object.freeze(Ue);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const sw=BigInt(1),aw=BigInt(2),Z1=s=>s instanceof Uint8Array,iw=Array.from({length:256},(s,t)=>t.toString(16).padStart(2,"0"));function fc(s){if(!Z1(s))throw new Error("Uint8Array expected");let t="";for(let e=0;e<s.length;e++)t+=iw[s[e]];return t}function M6(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);return BigInt(s===""?"0":`0x${s}`)}function A0(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);const t=s.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const e=new Uint8Array(t/2);for(let n=0;n<e.length;n++){const a=n*2,i=s.slice(a,a+2),r=Number.parseInt(i,16);if(Number.isNaN(r)||r<0)throw new Error("Invalid byte sequence");e[n]=r}return e}function br(s){return M6(fc(s))}function D6(s){if(!Z1(s))throw new Error("Uint8Array expected");return M6(fc(Uint8Array.from(s).reverse()))}function dc(s,t){return A0(s.toString(16).padStart(t*2,"0"))}function z6(s,t){return dc(s,t).reverse()}function Yn(s,t,e){let n;if(typeof t=="string")try{n=A0(t)}catch(i){throw new Error(`${s} must be valid hex string, got "${t}". Cause: ${i}`)}else if(Z1(t))n=Uint8Array.from(t);else throw new Error(`${s} must be hex string or Uint8Array`);const a=n.length;if(typeof e=="number"&&a!==e)throw new Error(`${s} expected ${e} bytes, got ${a}`);return n}function E0(...s){const t=new Uint8Array(s.reduce((n,a)=>n+a.length,0));let e=0;return s.forEach(n=>{if(!Z1(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}const q6=s=>(aw<<BigInt(s-1))-sw,Hd=s=>new Uint8Array(s),Vh=s=>Uint8Array.from(s);function rg(s,t,e){if(typeof s!="number"||s<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=Hd(s),a=Hd(s),i=0;const r=()=>{n.fill(1),a.fill(0),i=0},o=(...h)=>e(a,n,...h),f=(h=Hd())=>{a=o(Vh([0]),h),n=o(),h.length!==0&&(a=o(Vh([1]),h),n=o())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const m=[];for(;h<t;){n=o();const p=n.slice();m.push(p),h+=n.length}return E0(...m)};return(h,m)=>{r(),f(h);let p;for(;!(p=m(l()));)f();return r(),p}}const rw={bigint:s=>typeof s=="bigint",function:s=>typeof s=="function",boolean:s=>typeof s=="boolean",string:s=>typeof s=="string",stringOrUint8Array:s=>typeof s=="string"||s instanceof Uint8Array,isSafeInteger:s=>Number.isSafeInteger(s),array:s=>Array.isArray(s),field:(s,t)=>t.Fp.isValid(s),hash:s=>typeof s=="function"&&Number.isSafeInteger(s.outputLen)};function gl(s,t,e={}){const n=(a,i,r)=>{const o=rw[i];if(typeof o!="function")throw new Error(`Invalid validator "${i}", expected function`);const f=s[a];if(!(r&&f===void 0)&&!o(f,s))throw new Error(`Invalid param ${String(a)}=${f} (${typeof f}), expected ${i}`)};for(const[a,i]of Object.entries(t))n(a,i,!1);for(const[a,i]of Object.entries(e))n(a,i,!0);return s}const ow=Object.freeze(Object.defineProperty({__proto__:null,bitMask:q6,bytesToHex:fc,bytesToNumberBE:br,bytesToNumberLE:D6,concatBytes:E0,createHmacDrbg:rg,ensureBytes:Yn,hexToBytes:A0,hexToNumber:M6,numberToBytesBE:dc,numberToBytesLE:z6,validateObject:gl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ne=BigInt(0),we=BigInt(1),Si=BigInt(2),cw=BigInt(3),o2=BigInt(4),Gh=BigInt(5),Hh=BigInt(8);BigInt(9);BigInt(16);function cn(s,t){const e=s%t;return e>=Ne?e:t+e}function lw(s,t,e){if(e<=Ne||t<Ne)throw new Error("Expected power/modulo > 0");if(e===we)return Ne;let n=we;for(;t>Ne;)t&we&&(n=n*s%e),s=s*s%e,t>>=we;return n}function In(s,t,e){let n=s;for(;t-- >Ne;)n*=n,n%=e;return n}function c2(s,t){if(s===Ne||t<=Ne)throw new Error(`invert: expected positive integers, got n=${s} mod=${t}`);let e=cn(s,t),n=t,a=Ne,i=we;for(;e!==Ne;){const o=n/e,f=n%e,l=a-i*o;n=e,e=f,a=i,i=l}if(n!==we)throw new Error("invert: does not exist");return cn(a,t)}function fw(s){const t=(s-we)/Si;let e,n,a;for(e=s-we,n=0;e%Si===Ne;e/=Si,n++);for(a=Si;a<s&&lw(a,t,s)!==s-we;a++);if(n===1){const r=(s+we)/o2;return function(f,l){const c=f.pow(l,r);if(!f.eql(f.sqr(c),l))throw new Error("Cannot find square root");return c}}const i=(e+we)/Si;return function(o,f){if(o.pow(f,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,c=o.pow(o.mul(o.ONE,a),e),h=o.pow(f,i),m=o.pow(f,e);for(;!o.eql(m,o.ONE);){if(o.eql(m,o.ZERO))return o.ZERO;let p=1;for(let A=o.sqr(m);p<l&&!o.eql(A,o.ONE);p++)A=o.sqr(A);const C=o.pow(c,we<<BigInt(l-p-1));c=o.sqr(C),h=o.mul(h,C),m=o.mul(m,c),l=p}return h}}function dw(s){if(s%o2===cw){const t=(s+we)/o2;return function(n,a){const i=n.pow(a,t);if(!n.eql(n.sqr(i),a))throw new Error("Cannot find square root");return i}}if(s%Hh===Gh){const t=(s-Gh)/Hh;return function(n,a){const i=n.mul(a,Si),r=n.pow(i,t),o=n.mul(a,r),f=n.mul(n.mul(o,Si),r),l=n.mul(o,n.sub(f,n.ONE));if(!n.eql(n.sqr(l),a))throw new Error("Cannot find square root");return l}}return fw(s)}const uw=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hw(s){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=uw.reduce((n,a)=>(n[a]="function",n),t);return gl(s,e)}function bw(s,t,e){if(e<Ne)throw new Error("Expected power > 0");if(e===Ne)return s.ONE;if(e===we)return t;let n=s.ONE,a=t;for(;e>Ne;)e&we&&(n=s.mul(n,a)),a=s.sqr(a),e>>=we;return n}function pw(s,t){const e=new Array(t.length),n=t.reduce((i,r,o)=>s.is0(r)?i:(e[o]=i,s.mul(i,r)),s.ONE),a=s.inv(n);return t.reduceRight((i,r,o)=>s.is0(r)?i:(e[o]=s.mul(i,e[o]),s.mul(i,r)),a),e}function og(s,t){const e=t!==void 0?t:s.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function gw(s,t,e=!1,n={}){if(s<=Ne)throw new Error(`Expected Field ORDER > 0, got ${s}`);const{nBitLength:a,nByteLength:i}=og(s,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const r=dw(s),o=Object.freeze({ORDER:s,BITS:a,BYTES:i,MASK:q6(a),ZERO:Ne,ONE:we,create:f=>cn(f,s),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return Ne<=f&&f<s},is0:f=>f===Ne,isOdd:f=>(f&we)===we,neg:f=>cn(-f,s),eql:(f,l)=>f===l,sqr:f=>cn(f*f,s),add:(f,l)=>cn(f+l,s),sub:(f,l)=>cn(f-l,s),mul:(f,l)=>cn(f*l,s),pow:(f,l)=>bw(o,f,l),div:(f,l)=>cn(f*c2(l,s),s),sqrN:f=>f*f,addN:(f,l)=>f+l,subN:(f,l)=>f-l,mulN:(f,l)=>f*l,inv:f=>c2(f,s),sqrt:n.sqrt||(f=>r(o,f)),invertBatch:f=>pw(o,f),cmov:(f,l,c)=>c?l:f,toBytes:f=>e?z6(f,i):dc(f,i),fromBytes:f=>{if(f.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${f.length}`);return e?D6(f):br(f)}});return Object.freeze(o)}function cg(s){if(typeof s!="bigint")throw new Error("field order must be bigint");const t=s.toString(2).length;return Math.ceil(t/8)}function lg(s){const t=cg(s);return t+Math.ceil(t/2)}function yw(s,t,e=!1){const n=s.length,a=cg(t),i=lg(t);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const r=e?br(s):D6(s),o=cn(r,t-we)+we;return e?z6(o,a):dc(o,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mw=BigInt(0),jd=BigInt(1);function _w(s,t){const e=(a,i)=>{const r=i.negate();return a?r:i},n=a=>{const i=Math.ceil(t/a)+1,r=2**(a-1);return{windows:i,windowSize:r}};return{constTimeNegate:e,unsafeLadder(a,i){let r=s.ZERO,o=a;for(;i>mw;)i&jd&&(r=r.add(o)),o=o.double(),i>>=jd;return r},precomputeWindow(a,i){const{windows:r,windowSize:o}=n(i),f=[];let l=a,c=l;for(let h=0;h<r;h++){c=l,f.push(c);for(let m=1;m<o;m++)c=c.add(l),f.push(c);l=c.double()}return f},wNAF(a,i,r){const{windows:o,windowSize:f}=n(a);let l=s.ZERO,c=s.BASE;const h=BigInt(2**a-1),m=2**a,p=BigInt(a);for(let C=0;C<o;C++){const A=C*f;let w=Number(r&h);r>>=p,w>f&&(w-=m,r+=jd);const I=A,v=A+Math.abs(w)-1,F=C%2!==0,S=w<0;w===0?c=c.add(e(F,i[I])):l=l.add(e(S,i[v]))}return{p:l,f:c}},wNAFCached(a,i,r,o){const f=a._WINDOW_SIZE||1;let l=i.get(a);return l||(l=this.precomputeWindow(a,f),f!==1&&i.set(a,o(l))),this.wNAF(f,l,r)}}}function fg(s){return hw(s.Fp),gl(s,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...og(s.n,s.nBitLength),...s,p:s.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xw(s){const t=fg(s);gl(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:n,a}=t;if(e){if(!n.eql(a,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:ww,hexToBytes:Lw}=ow,Ui={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(s){const{Err:t}=Ui;if(s.length<2||s[0]!==2)throw new t("Invalid signature integer tag");const e=s[1],n=s.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ww(n),l:s.subarray(e+2)}},toSig(s){const{Err:t}=Ui,e=typeof s=="string"?Lw(s):s;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:a,l:i}=Ui._parseInt(e.subarray(2)),{d:r,l:o}=Ui._parseInt(i);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:r}},hexFromSig(s){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,e=l=>{const c=l.toString(16);return c.length&1?`0${c}`:c},n=t(e(s.s)),a=t(e(s.r)),i=n.length/2,r=a.length/2,o=e(i),f=e(r);return`30${e(r+i+4)}02${f}${a}02${o}${n}`}},ua=BigInt(0),qn=BigInt(1);BigInt(2);const jh=BigInt(3);BigInt(4);function Aw(s){const t=xw(s),{Fp:e}=t,n=t.toBytes||((C,A,w)=>{const I=A.toAffine();return E0(Uint8Array.from([4]),e.toBytes(I.x),e.toBytes(I.y))}),a=t.fromBytes||(C=>{const A=C.subarray(1),w=e.fromBytes(A.subarray(0,e.BYTES)),I=e.fromBytes(A.subarray(e.BYTES,2*e.BYTES));return{x:w,y:I}});function i(C){const{a:A,b:w}=t,I=e.sqr(C),v=e.mul(I,C);return e.add(e.add(v,e.mul(C,A)),w)}if(!e.eql(e.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function r(C){return typeof C=="bigint"&&ua<C&&C<t.n}function o(C){if(!r(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(C){const{allowedPrivateKeyLengths:A,nByteLength:w,wrapPrivateKey:I,n:v}=t;if(A&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=fc(C)),typeof C!="string"||!A.includes(C.length))throw new Error("Invalid key");C=C.padStart(w*2,"0")}let F;try{F=typeof C=="bigint"?C:br(Yn("private key",C,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof C}`)}return I&&(F=cn(F,v)),o(F),F}const l=new Map;function c(C){if(!(C instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(A,w,I){if(this.px=A,this.py=w,this.pz=I,A==null||!e.isValid(A))throw new Error("x required");if(w==null||!e.isValid(w))throw new Error("y required");if(I==null||!e.isValid(I))throw new Error("z required")}static fromAffine(A){const{x:w,y:I}=A||{};if(!A||!e.isValid(w)||!e.isValid(I))throw new Error("invalid affine point");if(A instanceof h)throw new Error("projective point not allowed");const v=F=>e.eql(F,e.ZERO);return v(w)&&v(I)?h.ZERO:new h(w,I,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const w=e.invertBatch(A.map(I=>I.pz));return A.map((I,v)=>I.toAffine(w[v])).map(h.fromAffine)}static fromHex(A){const w=h.fromAffine(a(Yn("pointHex",A)));return w.assertValidity(),w}static fromPrivateKey(A){return h.BASE.multiply(f(A))}_setWindowSize(A){this._WINDOW_SIZE=A,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:w}=this.toAffine();if(!e.isValid(A)||!e.isValid(w))throw new Error("bad point: x or y not FE");const I=e.sqr(w),v=i(A);if(!e.eql(I,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(e.isOdd)return!e.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){c(A);const{px:w,py:I,pz:v}=this,{px:F,py:S,pz:D}=A,P=e.eql(e.mul(w,D),e.mul(F,v)),u=e.eql(e.mul(I,D),e.mul(S,v));return P&&u}negate(){return new h(this.px,e.neg(this.py),this.pz)}double(){const{a:A,b:w}=t,I=e.mul(w,jh),{px:v,py:F,pz:S}=this;let D=e.ZERO,P=e.ZERO,u=e.ZERO,_=e.mul(v,v),G=e.mul(F,F),H=e.mul(S,S),J=e.mul(v,F);return J=e.add(J,J),u=e.mul(v,S),u=e.add(u,u),D=e.mul(A,u),P=e.mul(I,H),P=e.add(D,P),D=e.sub(G,P),P=e.add(G,P),P=e.mul(D,P),D=e.mul(J,D),u=e.mul(I,u),H=e.mul(A,H),J=e.sub(_,H),J=e.mul(A,J),J=e.add(J,u),u=e.add(_,_),_=e.add(u,_),_=e.add(_,H),_=e.mul(_,J),P=e.add(P,_),H=e.mul(F,S),H=e.add(H,H),_=e.mul(H,J),D=e.sub(D,_),u=e.mul(H,G),u=e.add(u,u),u=e.add(u,u),new h(D,P,u)}add(A){c(A);const{px:w,py:I,pz:v}=this,{px:F,py:S,pz:D}=A;let P=e.ZERO,u=e.ZERO,_=e.ZERO;const G=t.a,H=e.mul(t.b,jh);let J=e.mul(w,F),U=e.mul(I,S),E=e.mul(v,D),M=e.add(w,I),N=e.add(F,S);M=e.mul(M,N),N=e.add(J,U),M=e.sub(M,N),N=e.add(w,v);let $=e.add(F,D);return N=e.mul(N,$),$=e.add(J,E),N=e.sub(N,$),$=e.add(I,v),P=e.add(S,D),$=e.mul($,P),P=e.add(U,E),$=e.sub($,P),_=e.mul(G,N),P=e.mul(H,E),_=e.add(P,_),P=e.sub(U,_),_=e.add(U,_),u=e.mul(P,_),U=e.add(J,J),U=e.add(U,J),E=e.mul(G,E),N=e.mul(H,N),U=e.add(U,E),E=e.sub(J,E),E=e.mul(G,E),N=e.add(N,E),J=e.mul(U,N),u=e.add(u,J),J=e.mul($,N),P=e.mul(M,P),P=e.sub(P,J),J=e.mul(M,U),_=e.mul($,_),_=e.add(_,J),new h(P,u,_)}subtract(A){return this.add(A.negate())}is0(){return this.equals(h.ZERO)}wNAF(A){return p.wNAFCached(this,l,A,w=>{const I=e.invertBatch(w.map(v=>v.pz));return w.map((v,F)=>v.toAffine(I[F])).map(h.fromAffine)})}multiplyUnsafe(A){const w=h.ZERO;if(A===ua)return w;if(o(A),A===qn)return this;const{endo:I}=t;if(!I)return p.unsafeLadder(this,A);let{k1neg:v,k1:F,k2neg:S,k2:D}=I.splitScalar(A),P=w,u=w,_=this;for(;F>ua||D>ua;)F&qn&&(P=P.add(_)),D&qn&&(u=u.add(_)),_=_.double(),F>>=qn,D>>=qn;return v&&(P=P.negate()),S&&(u=u.negate()),u=new h(e.mul(u.px,I.beta),u.py,u.pz),P.add(u)}multiply(A){o(A);let w=A,I,v;const{endo:F}=t;if(F){const{k1neg:S,k1:D,k2neg:P,k2:u}=F.splitScalar(w);let{p:_,f:G}=this.wNAF(D),{p:H,f:J}=this.wNAF(u);_=p.constTimeNegate(S,_),H=p.constTimeNegate(P,H),H=new h(e.mul(H.px,F.beta),H.py,H.pz),I=_.add(H),v=G.add(J)}else{const{p:S,f:D}=this.wNAF(w);I=S,v=D}return h.normalizeZ([I,v])[0]}multiplyAndAddUnsafe(A,w,I){const v=h.BASE,F=(D,P)=>P===ua||P===qn||!D.equals(v)?D.multiplyUnsafe(P):D.multiply(P),S=F(this,w).add(F(A,I));return S.is0()?void 0:S}toAffine(A){const{px:w,py:I,pz:v}=this,F=this.is0();A==null&&(A=F?e.ONE:e.inv(v));const S=e.mul(w,A),D=e.mul(I,A),P=e.mul(v,A);if(F)return{x:e.ZERO,y:e.ZERO};if(!e.eql(P,e.ONE))throw new Error("invZ was invalid");return{x:S,y:D}}isTorsionFree(){const{h:A,isTorsionFree:w}=t;if(A===qn)return!0;if(w)return w(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:w}=t;return A===qn?this:w?w(h,this):this.multiplyUnsafe(t.h)}toRawBytes(A=!0){return this.assertValidity(),n(h,this,A)}toHex(A=!0){return fc(this.toRawBytes(A))}}h.BASE=new h(t.Gx,t.Gy,e.ONE),h.ZERO=new h(e.ZERO,e.ONE,e.ZERO);const m=t.nBitLength,p=_w(h,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:r}}function Ew(s){const t=fg(s);return gl(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Cw(s){const t=Ew(s),{Fp:e,n}=t,a=e.BYTES+1,i=2*e.BYTES+1;function r(N){return ua<N&&N<e.ORDER}function o(N){return cn(N,n)}function f(N){return c2(N,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:h,isWithinCurveOrder:m}=Aw({...t,toBytes(N,$,X){const K=$.toAffine(),ot=e.toBytes(K.x),tt=E0;return X?tt(Uint8Array.from([$.hasEvenY()?2:3]),ot):tt(Uint8Array.from([4]),ot,e.toBytes(K.y))},fromBytes(N){const $=N.length,X=N[0],K=N.subarray(1);if($===a&&(X===2||X===3)){const ot=br(K);if(!r(ot))throw new Error("Point is not on curve");const tt=h(ot);let lt=e.sqrt(tt);const Tt=(lt&qn)===qn;return(X&1)===1!==Tt&&(lt=e.neg(lt)),{x:ot,y:lt}}else if($===i&&X===4){const ot=e.fromBytes(K.subarray(0,e.BYTES)),tt=e.fromBytes(K.subarray(e.BYTES,2*e.BYTES));return{x:ot,y:tt}}else throw new Error(`Point of length ${$} was invalid. Expected ${a} compressed bytes or ${i} uncompressed bytes`)}}),p=N=>fc(dc(N,t.nByteLength));function C(N){const $=n>>qn;return N>$}function A(N){return C(N)?o(-N):N}const w=(N,$,X)=>br(N.slice($,X));class I{constructor($,X,K){this.r=$,this.s=X,this.recovery=K,this.assertValidity()}static fromCompact($){const X=t.nByteLength;return $=Yn("compactSignature",$,X*2),new I(w($,0,X),w($,X,2*X))}static fromDER($){const{r:X,s:K}=Ui.toSig(Yn("DER",$));return new I(X,K)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit($){return new I(this.r,this.s,$)}recoverPublicKey($){const{r:X,s:K,recovery:ot}=this,tt=u(Yn("msgHash",$));if(ot==null||![0,1,2,3].includes(ot))throw new Error("recovery id invalid");const lt=ot===2||ot===3?X+t.n:X;if(lt>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const Tt=ot&1?"03":"02",Bt=l.fromHex(Tt+p(lt)),Et=f(lt),R=o(-tt*Et),d=o(K*Et),B=l.BASE.multiplyAndAddUnsafe(Bt,R,d);if(!B)throw new Error("point at infinify");return B.assertValidity(),B}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return A0(this.toDERHex())}toDERHex(){return Ui.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return A0(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(N){try{return c(N),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const N=lg(t.n);return yw(t.randomBytes(N),t.n)},precompute(N=8,$=l.BASE){return $._setWindowSize(N),$.multiply(BigInt(3)),$}};function F(N,$=!0){return l.fromPrivateKey(N).toRawBytes($)}function S(N){const $=N instanceof Uint8Array,X=typeof N=="string",K=($||X)&&N.length;return $?K===a||K===i:X?K===2*a||K===2*i:N instanceof l}function D(N,$,X=!0){if(S(N))throw new Error("first arg must be private key");if(!S($))throw new Error("second arg must be public key");return l.fromHex($).multiply(c(N)).toRawBytes(X)}const P=t.bits2int||function(N){const $=br(N),X=N.length*8-t.nBitLength;return X>0?$>>BigInt(X):$},u=t.bits2int_modN||function(N){return o(P(N))},_=q6(t.nBitLength);function G(N){if(typeof N!="bigint")throw new Error("bigint expected");if(!(ua<=N&&N<_))throw new Error(`bigint expected < 2^${t.nBitLength}`);return dc(N,t.nByteLength)}function H(N,$,X=J){if(["recovered","canonical"].some(Z=>Z in X))throw new Error("sign() legacy options not supported");const{hash:K,randomBytes:ot}=t;let{lowS:tt,prehash:lt,extraEntropy:Tt}=X;tt==null&&(tt=!0),N=Yn("msgHash",N),lt&&(N=Yn("prehashed msgHash",K(N)));const Bt=u(N),Et=c($),R=[G(Et),G(Bt)];if(Tt!=null){const Z=Tt===!0?ot(e.BYTES):Tt;R.push(Yn("extraEntropy",Z))}const d=E0(...R),B=Bt;function b(Z){const k=P(Z);if(!m(k))return;const x=f(k),at=l.BASE.multiply(k).toAffine(),yt=o(at.x);if(yt===ua)return;const gt=o(x*o(B+yt*Et));if(gt===ua)return;let _t=(at.x===yt?0:2)|Number(at.y&qn),Rt=gt;return tt&&C(gt)&&(Rt=A(gt),_t^=1),new I(yt,Rt,_t)}return{seed:d,k2sig:b}}const J={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function E(N,$,X=J){const{seed:K,k2sig:ot}=H(N,$,X),tt=t;return rg(tt.hash.outputLen,tt.nByteLength,tt.hmac)(K,ot)}l.BASE._setWindowSize(8);function M(N,$,X,K=U){var at;const ot=N;if($=Yn("msgHash",$),X=Yn("publicKey",X),"strict"in K)throw new Error("options.strict was renamed to lowS");const{lowS:tt,prehash:lt}=K;let Tt,Bt;try{if(typeof ot=="string"||ot instanceof Uint8Array)try{Tt=I.fromDER(ot)}catch(yt){if(!(yt instanceof Ui.Err))throw yt;Tt=I.fromCompact(ot)}else if(typeof ot=="object"&&typeof ot.r=="bigint"&&typeof ot.s=="bigint"){const{r:yt,s:gt}=ot;Tt=new I(yt,gt)}else throw new Error("PARSE");Bt=l.fromHex(X)}catch(yt){if(yt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(tt&&Tt.hasHighS())return!1;lt&&($=t.hash($));const{r:Et,s:R}=Tt,d=u($),B=f(R),b=o(d*B),Z=o(Et*B),k=(at=l.BASE.multiplyAndAddUnsafe(Bt,b,Z))==null?void 0:at.toAffine();return k?o(k.x)===Et:!1}return{CURVE:t,getPublicKey:F,getSharedSecret:D,sign:E,verify:M,ProjectivePoint:l,Signature:I,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vw(s){return{hash:s,hmac:(t,...e)=>W1(s,t,ax(...e)),randomBytes:rx}}function Pw(s,t){const e=n=>Cw({...s,...vw(n)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dg=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Kh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Iw=BigInt(1),l2=BigInt(2),$h=(s,t)=>(s+t/l2)/t;function Tw(s){const t=dg,e=BigInt(3),n=BigInt(6),a=BigInt(11),i=BigInt(22),r=BigInt(23),o=BigInt(44),f=BigInt(88),l=s*s*s%t,c=l*l*s%t,h=In(c,e,t)*c%t,m=In(h,e,t)*c%t,p=In(m,l2,t)*l%t,C=In(p,a,t)*p%t,A=In(C,i,t)*C%t,w=In(A,o,t)*A%t,I=In(w,f,t)*w%t,v=In(I,o,t)*A%t,F=In(v,e,t)*c%t,S=In(F,r,t)*C%t,D=In(S,n,t)*l%t,P=In(D,l2,t);if(!f2.eql(f2.sqr(P),s))throw new Error("Cannot find square root");return P}const f2=gw(dg,void 0,void 0,{sqrt:Tw}),Na=Pw({a:BigInt(0),b:BigInt(7),Fp:f2,n:Kh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:s=>{const t=Kh,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Iw*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,r=BigInt("0x100000000000000000000000000000000"),o=$h(i*s,t),f=$h(-n*s,t);let l=cn(s-o*e-f*a,t),c=cn(-o*n-f*i,t);const h=l>r,m=c>r;if(h&&(l=t-l),m&&(c=t-c),l>r||c>r)throw new Error("splitScalar: Endomorphism failed, k="+s);return{k1neg:h,k1:l,k2neg:m,k2:c}}}},kc);BigInt(0);Na.ProjectivePoint;const _r="0x0000000000000000000000000000000000000000",Jf="0x0000000000000000000000000000000000000000000000000000000000000000",ug=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),hg=BigInt("1000000000000000000"),bg=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),pg=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),gg=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),yg="",V6=`Ethereum Signed Message:
`,Qh=BigInt(0),Jh=BigInt(1),d2=BigInt(2),Wh=BigInt(27),Zh=BigInt(28),Wl=BigInt(35),mg=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Bw=mg/d2,Sw=Symbol.for("nodejs.util.inspect.custom"),_i={};function Kd(s){return un(pe(s),32)}var bo,Is,po,Va;const Fn=class Fn{constructor(t,e,n,a){j(this,bo);j(this,Is);j(this,po);j(this,Va);Hs(t,_i,"Signature"),T(this,bo,e),T(this,Is,n),T(this,po,a),T(this,Va,null)}get r(){return L(this,bo)}set r(t){O(ba(t)===32,"invalid r","value",t),T(this,bo,ut(t))}get s(){return O(parseInt(L(this,Is).substring(0,3))<8,"non-canonical s; use ._s","s",L(this,Is)),L(this,Is)}set s(t){O(ba(t)===32,"invalid s","value",t),T(this,Is,ut(t))}get _s(){return L(this,Is)}isValid(){return BigInt(L(this,Is))<=Bw}get v(){return L(this,po)}set v(t){const e=St(t,"value");O(e===27||e===28,"invalid v","v",t),T(this,po,e)}get networkV(){return L(this,Va)}get legacyChainId(){const t=this.networkV;return t==null?null:Fn.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=bt(this.s);return this.yParity&&(t[0]|=128),ut(t)}get compactSerialized(){return Wt([this.r,this.yParityAndS])}get serialized(){return Wt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const t=mg-BigInt(this._s),e=55-this.v,n=new Fn(_i,this.r,Kd(t),e);return this.networkV&&T(n,Va,this.networkV),n}clone(){const t=new Fn(_i,this.r,this._s,this.v);return this.networkV&&T(t,Va,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this._s,v:this.v}}[Sw](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(t){const e=wt(t,"v");return e==Wh||e==Zh?Qh:(O(e>=Wl,"invalid EIP-155 v","v",t),(e-Wl)/d2)}static getChainIdV(t,e){return wt(t)*d2+BigInt(35+e-27)}static getNormalizedV(t){const e=wt(t);return e===Qh||e===Wh?27:e===Jh||e===Zh?28:(O(e>=Wl,"invalid v","v",t),e&Jh?27:28)}static from(t){function e(l,c){O(l,c,"signature",t)}if(t==null)return new Fn(_i,Jf,Jf,27);if(typeof t=="string"){const l=bt(t,"signature");if(l.length===64){const c=ut(l.slice(0,32)),h=l.slice(32,64),m=h[0]&128?28:27;return h[0]&=127,new Fn(_i,c,ut(h),m)}if(l.length===65){const c=ut(l.slice(0,32)),h=ut(l.slice(32,64)),m=Fn.getNormalizedV(l[64]);return new Fn(_i,c,h,m)}e(!1,"invalid raw signature length")}if(t instanceof Fn)return t.clone();const n=t.r;e(n!=null,"missing r");const a=Kd(n),i=function(l,c){if(l!=null)return Kd(l);if(c!=null){e(ce(c,32),"invalid yParityAndS");const h=bt(c);return h[0]&=127,ut(h)}e(!1,"missing s")}(t.s,t.yParityAndS),{networkV:r,v:o}=function(l,c,h){if(l!=null){const m=wt(l);return{networkV:m>=Wl?m:void 0,v:Fn.getNormalizedV(m)}}if(c!=null)return e(ce(c,32),"invalid yParityAndS"),{v:bt(c)[0]&128?28:27};if(h!=null){switch(St(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),f=new Fn(_i,a,i,o);return r&&T(f,Va,r),e(t.yParity==null||St(t.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}};bo=new WeakMap,Is=new WeakMap,po=new WeakMap,Va=new WeakMap;let Je=Fn;var sa;const Oi=class Oi{constructor(t){j(this,sa);O(ba(t)===32,"invalid private key","privateKey","[REDACTED]"),T(this,sa,ut(t))}get privateKey(){return L(this,sa)}get publicKey(){return Oi.computePublicKey(L(this,sa))}get compressedPublicKey(){return Oi.computePublicKey(L(this,sa),!0)}sign(t){O(ba(t)===32,"invalid digest length","digest",t);const e=Na.sign(Be(t),Be(L(this,sa)),{lowS:!0});return Je.from({r:hs(e.r,32),s:hs(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=Oi.computePublicKey(t);return ut(Na.getSharedSecret(Be(L(this,sa)),bt(e),!1))}static computePublicKey(t,e){let n=bt(t,"key");if(n.length===32){const i=Na.getPublicKey(n,!!e);return ut(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const a=Na.ProjectivePoint.fromHex(n);return ut(a.toRawBytes(e))}static recoverPublicKey(t,e){O(ba(t)===32,"invalid digest length","digest",t);const n=Je.from(e);let a=Na.Signature.fromCompact(Be(Wt([n.r,n.s])));a=a.addRecoveryBit(n.yParity);const i=a.recoverPublicKey(Be(t));return O(i!=null,"invalid signature for digest","signature",e),"0x"+i.toHex(!1)}static addPoints(t,e,n){const a=Na.ProjectivePoint.fromHex(Oi.computePublicKey(t).substring(2)),i=Na.ProjectivePoint.fromHex(Oi.computePublicKey(e).substring(2));return"0x"+a.add(i).toHex(!!n)}};sa=new WeakMap;let $n=Oi;function _g(){Aa.lock(),oe.lock(),ys.lock(),En.lock(),Ea.lock(),Ca.lock(),va.lock(),Ue.lock(),Uc.lock(),En.lock()}const Ow=BigInt(0),Rw=BigInt(36);function Xh(s){s=s.toLowerCase();const t=s.substring(2).split(""),e=new Uint8Array(40);for(let a=0;a<40;a++)e[a]=t[a].charCodeAt(0);const n=bt(oe(e));for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(n[a>>1]&15)>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}const G6={};for(let s=0;s<10;s++)G6[String(s)]=String(s);for(let s=0;s<26;s++)G6[String.fromCharCode(65+s)]=String(10+s);const Yh=15;function xg(s){s=s.toUpperCase(),s=s.substring(4)+s.substring(0,2)+"00";let t=s.split("").map(n=>G6[n]).join("");for(;t.length>=Yh;){let n=t.substring(0,Yh);t=parseInt(n,10)%97+t.substring(n.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}const Fw=function(){const s={};for(let t=0;t<36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];s[e]=BigInt(t)}return s}();function Nw(s){s=s.toLowerCase();let t=Ow;for(let e=0;e<s.length;e++)t=t*Rw+Fw[s[e]];return t}function jt(s){if(O(typeof s=="string","invalid address","address",s),s.match(/^(0x)?[0-9a-fA-F]{40}$/)){s.startsWith("0x")||(s="0x"+s);const t=Xh(s);return O(!s.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===s,"bad address checksum","address",s),t}if(s.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){O(s.substring(2,4)===xg(s),"bad icap checksum","address",s);let t=Nw(s.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Xh("0x"+t)}O(!1,"invalid address","address",s)}function wg(s){let t=BigInt(jt(s)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+xg("XE00"+t)+t}function X1(s){const t=jt(s.from);let n=wt(s.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,jt(ue(oe(Kn([t,n])),12))}function Lg(s,t,e){const n=jt(s),a=bt(t,"salt"),i=bt(e,"initCodeHash");return O(a.length===32,"salt must be 32 bytes","salt",t),O(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",e),jt(ue(oe(Wt(["0xff",n,a,i])),12))}function Y1(s){return s&&typeof s.getAddress=="function"}function Ag(s){try{return jt(s),!0}catch{}return!1}async function $d(s,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&&(Y(typeof s!="string","unconfigured name","UNCONFIGURED_NAME",{value:s}),O(!1,"invalid AddressLike value; did not resolve to a value address","target",s)),jt(e)}function ve(s,t){if(typeof s=="string")return s.match(/^0x[0-9a-f]{40}$/i)?jt(s):(Y(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),$d(s,t.resolveName(s)));if(Y1(s))return $d(s,s.getAddress());if(s&&typeof s.then=="function")return $d(s,s);O(!1,"unsupported addressable value","target",s)}const Xs={};function At(s,t){let e=!1;return t<0&&(e=!0,t*=-1),new ke(Xs,`${e?"":"u"}int${t}`,s,{signed:e,width:t})}function se(s,t){return new ke(Xs,`bytes${t||""}`,s,{size:t})}const t3=Symbol.for("_ethers_typed");var Wi;const Ys=class Ys{constructor(t,e,n,a){z(this,"type");z(this,"value");j(this,Wi);z(this,"_typedSymbol");a==null&&(a=null),Hs(Xs,t,"Typed"),mt(this,{_typedSymbol:t3,type:e,value:n}),T(this,Wi,a),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return L(this,Wi)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return L(this,Wi)===!0?-1:L(this,Wi)===!1?this.value.length:null}static from(t,e){return new Ys(Xs,t,e)}static uint8(t){return At(t,8)}static uint16(t){return At(t,16)}static uint24(t){return At(t,24)}static uint32(t){return At(t,32)}static uint40(t){return At(t,40)}static uint48(t){return At(t,48)}static uint56(t){return At(t,56)}static uint64(t){return At(t,64)}static uint72(t){return At(t,72)}static uint80(t){return At(t,80)}static uint88(t){return At(t,88)}static uint96(t){return At(t,96)}static uint104(t){return At(t,104)}static uint112(t){return At(t,112)}static uint120(t){return At(t,120)}static uint128(t){return At(t,128)}static uint136(t){return At(t,136)}static uint144(t){return At(t,144)}static uint152(t){return At(t,152)}static uint160(t){return At(t,160)}static uint168(t){return At(t,168)}static uint176(t){return At(t,176)}static uint184(t){return At(t,184)}static uint192(t){return At(t,192)}static uint200(t){return At(t,200)}static uint208(t){return At(t,208)}static uint216(t){return At(t,216)}static uint224(t){return At(t,224)}static uint232(t){return At(t,232)}static uint240(t){return At(t,240)}static uint248(t){return At(t,248)}static uint256(t){return At(t,256)}static uint(t){return At(t,256)}static int8(t){return At(t,-8)}static int16(t){return At(t,-16)}static int24(t){return At(t,-24)}static int32(t){return At(t,-32)}static int40(t){return At(t,-40)}static int48(t){return At(t,-48)}static int56(t){return At(t,-56)}static int64(t){return At(t,-64)}static int72(t){return At(t,-72)}static int80(t){return At(t,-80)}static int88(t){return At(t,-88)}static int96(t){return At(t,-96)}static int104(t){return At(t,-104)}static int112(t){return At(t,-112)}static int120(t){return At(t,-120)}static int128(t){return At(t,-128)}static int136(t){return At(t,-136)}static int144(t){return At(t,-144)}static int152(t){return At(t,-152)}static int160(t){return At(t,-160)}static int168(t){return At(t,-168)}static int176(t){return At(t,-176)}static int184(t){return At(t,-184)}static int192(t){return At(t,-192)}static int200(t){return At(t,-200)}static int208(t){return At(t,-208)}static int216(t){return At(t,-216)}static int224(t){return At(t,-224)}static int232(t){return At(t,-232)}static int240(t){return At(t,-240)}static int248(t){return At(t,-248)}static int256(t){return At(t,-256)}static int(t){return At(t,-256)}static bytes1(t){return se(t,1)}static bytes2(t){return se(t,2)}static bytes3(t){return se(t,3)}static bytes4(t){return se(t,4)}static bytes5(t){return se(t,5)}static bytes6(t){return se(t,6)}static bytes7(t){return se(t,7)}static bytes8(t){return se(t,8)}static bytes9(t){return se(t,9)}static bytes10(t){return se(t,10)}static bytes11(t){return se(t,11)}static bytes12(t){return se(t,12)}static bytes13(t){return se(t,13)}static bytes14(t){return se(t,14)}static bytes15(t){return se(t,15)}static bytes16(t){return se(t,16)}static bytes17(t){return se(t,17)}static bytes18(t){return se(t,18)}static bytes19(t){return se(t,19)}static bytes20(t){return se(t,20)}static bytes21(t){return se(t,21)}static bytes22(t){return se(t,22)}static bytes23(t){return se(t,23)}static bytes24(t){return se(t,24)}static bytes25(t){return se(t,25)}static bytes26(t){return se(t,26)}static bytes27(t){return se(t,27)}static bytes28(t){return se(t,28)}static bytes29(t){return se(t,29)}static bytes30(t){return se(t,30)}static bytes31(t){return se(t,31)}static bytes32(t){return se(t,32)}static address(t){return new Ys(Xs,"address",t)}static bool(t){return new Ys(Xs,"bool",!!t)}static bytes(t){return new Ys(Xs,"bytes",t)}static string(t){return new Ys(Xs,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Ys(Xs,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===t3}static dereference(t,e){if(Ys.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}};Wi=new WeakMap;let ke=Ys;class kw extends La{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let n=ke.dereference(e,"string");try{n=jt(n)}catch(a){return this._throwError(a.message,e)}return t.writeValue(n)}decode(t){return jt(hs(t.readValue(),20))}}class Uw extends La{constructor(e){super(e.name,e.type,"_",e.dynamic);z(this,"coder");this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function Eg(s,t,e){let n=[];if(Array.isArray(e))n=e;else if(e&&typeof e=="object"){let f={};n=t.map(l=>{const c=l.localName;return Y(c,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),Y(!f[c],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),f[c]=!0,e[c]})}else O(!1,"invalid tuple value","tuple",e);O(t.length===n.length,"types/value length mismatch","tuple",e);let a=new s2,i=new s2,r=[];t.forEach((f,l)=>{let c=n[l];if(f.dynamic){let h=i.length;f.encode(i,c);let m=a.writeUpdatableValue();r.push(p=>{m(p+h)})}else f.encode(a,c)}),r.forEach(f=>{f(a.length)});let o=s.appendWriter(a);return o+=s.appendWriter(i),o}function Cg(s,t){let e=[],n=[],a=s.subReader(0);return t.forEach(i=>{let r=null;if(i.dynamic){let o=s.readIndex(),f=a.subReader(o);try{r=i.decode(f)}catch(l){if(me(l,"BUFFER_OVERRUN"))throw l;r=l,r.baseType=i.name,r.name=i.localName,r.type=i.type}}else try{r=i.decode(s)}catch(o){if(me(o,"BUFFER_OVERRUN"))throw o;r=o,r.baseType=i.name,r.name=i.localName,r.type=i.type}if(r==null)throw new Error("investigate");e.push(r),n.push(i.localName||null)}),fi.fromItems(e,n)}class Mw extends La{constructor(e,n,a){const i=e.type+"["+(n>=0?n:"")+"]",r=n===-1||e.dynamic;super("array",i,a,r);z(this,"coder");z(this,"length");mt(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let a=0;a<this.length;a++)n.push(e);return n}encode(e,n){const a=ke.dereference(n,"array");Array.isArray(a)||this._throwError("expected array value",a);let i=this.length;i===-1&&(i=a.length,e.writeValue(a.length)),j1(a.length,i,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let o=0;o<a.length;o++)r.push(this.coder);return Eg(e,r,a)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),Y(n*Ye<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*Ye,length:e.dataLength}));let a=[];for(let i=0;i<n;i++)a.push(new Uw(this.coder));return Cg(e,a)}}class Dw extends La{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const n=ke.dereference(e,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class vg extends La{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Be(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class zw extends vg{constructor(t){super("bytes",t)}decode(t){return ut(super.decode(t))}}class qw extends La{constructor(e,n){let a="bytes"+String(e);super(a,a,n,!1);z(this,"size");mt(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let a=Be(ke.dereference(n,this.type));return a.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(a)}decode(e){return ut(e.readBytes(this.size))}}const Vw=new Uint8Array([]);class Gw extends La{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes(Vw)}decode(t){return t.readBytes(0),null}}const Hw=BigInt(0),jw=BigInt(1),Kw=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class $w extends La{constructor(e,n,a){const i=(n?"int":"uint")+e*8;super(i,i,a,!1);z(this,"size");z(this,"signed");mt(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let a=wt(ke.dereference(n,this.type)),i=ha(Kw,Ye*8);if(this.signed){let r=ha(i,this.size*8-1);(a>r||a<-(r+jw))&&this._throwError("value out-of-bounds",n),a=pl(a,8*Ye)}else(a<Hw||a>ha(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(a)}decode(e){let n=ha(e.readValue(),this.size*8);return this.signed&&(n=rc(n,this.size*8)),n}}class Qw extends vg{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Pe(ke.dereference(e,"string")))}decode(t){return ma(super.decode(t))}}class Zl extends La{constructor(e,n){let a=!1;const i=[];e.forEach(o=>{o.dynamic&&(a=!0),i.push(o.type)});const r="tuple("+i.join(",")+")";super("tuple",r,n,a);z(this,"coders");mt(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(a=>{e.push(a.defaultValue())});const n=this.coders.reduce((a,i)=>{const r=i.localName;return r&&(a[r]||(a[r]=0),a[r]++),a},{});return this.coders.forEach((a,i)=>{let r=a.localName;!r||n[r]!==1||(r==="length"&&(r="_length"),e[r]==null&&(e[r]=e[i]))}),Object.freeze(e)}encode(e,n){const a=ke.dereference(n,"tuple");return Eg(e,this.coders,a)}decode(e){return Cg(e,this.coders)}}function Qd(s,t){return{address:jt(s),storageKeys:t.map((e,n)=>(O(ce(e,32),"invalid slot",`storageKeys[${n}]`,e),e.toLowerCase()))}}function js(s){if(Array.isArray(s))return s.map((e,n)=>Array.isArray(e)?(O(e.length===2,"invalid slot set",`value[${n}]`,e),Qd(e[0],e[1])):(O(e!=null&&typeof e=="object","invalid address-slot set","value",s),Qd(e.address,e.storageKeys)));O(s!=null&&typeof s=="object","invalid access list","value",s);const t=Object.keys(s).map(e=>{const n=s[e].reduce((a,i)=>(a[i]=!0,a),{});return Qd(e,Object.keys(n).sort())});return t.sort((e,n)=>e.address.localeCompare(n.address)),t}function td(s){return{address:jt(s.address),nonce:wt(s.nonce!=null?s.nonce:0),chainId:wt(s.chainId!=null?s.chainId:0),signature:Je.from(s.signature)}}function Or(s){let t;return typeof s=="string"?t=$n.computePublicKey(s,!1):t=s.publicKey,jt(oe("0x"+t.substring(4)).substring(26))}function Mc(s,t){return Or($n.recoverPublicKey(s,t))}const Fe=BigInt(0),Jw=BigInt(2),Ww=BigInt(27),Zw=BigInt(28),Xw=BigInt(35),Yw=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),tL=Symbol.for("nodejs.util.inspect.custom"),Jd=4096*32,Lf=128;function eL(s){return{blobToKzgCommitment:n=>{if("computeBlobProof"in s){if("blobToKzgCommitment"in s&&typeof s.blobToKzgCommitment=="function")return bt(s.blobToKzgCommitment(ut(n)))}else if("blobToKzgCommitment"in s&&typeof s.blobToKzgCommitment=="function")return bt(s.blobToKzgCommitment(n));if("blobToKZGCommitment"in s&&typeof s.blobToKZGCommitment=="function")return bt(s.blobToKZGCommitment(ut(n)));O(!1,"unsupported KZG library","kzg",s)},computeBlobKzgProof:(n,a)=>{if("computeBlobProof"in s&&typeof s.computeBlobProof=="function")return bt(s.computeBlobProof(ut(n),ut(a)));if("computeBlobKzgProof"in s&&typeof s.computeBlobKzgProof=="function")return s.computeBlobKzgProof(n,a);if("computeBlobKZGProof"in s&&typeof s.computeBlobKZGProof=="function")return bt(s.computeBlobKZGProof(ut(n),ut(a)));O(!1,"unsupported KZG library","kzg",s)}}}function e3(s,t){let e=s.toString(16);for(;e.length<2;)e="0"+e;return e+=Ue(t).substring(4),"0x"+e}function Dc(s){return s==="0x"?null:jt(s)}function ed(s,t){try{return js(s)}catch(e){O(!1,e.message,t,s)}}function nL(s,t){try{if(!Array.isArray(s))throw new Error("authorizationList: invalid array");const e=[];for(let n=0;n<s.length;n++){const a=s[n];if(!Array.isArray(a))throw new Error(`authorization[${n}]: invalid array`);if(a.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!a[1])throw new Error(`authorization[${n}]: null address`);e.push({address:Dc(a[1]),nonce:be(a[2],"nonce"),chainId:be(a[0],"chainId"),signature:Je.from({yParity:Rr(a[3],"yParity"),r:un(a[4],32),s:un(a[5],32)})})}return e}catch(e){O(!1,e.message,t,s)}}function Rr(s,t){return s==="0x"?0:St(s,t)}function be(s,t){if(s==="0x")return Fe;const e=wt(s,t);return O(e<=Yw,"value exceeds uint size",t,e),e}function ee(s,t){const e=wt(s,"value"),n=pe(e);return O(n.length<=32,"value too large",`tx.${t}`,e),n}function nd(s){return js(s).map(t=>[t.address,t.storageKeys])}function sL(s){return s.map(t=>[ee(t.chainId,"chainId"),t.address,ee(t.nonce,"nonce"),ee(t.signature.yParity,"yParity"),pe(t.signature.r),pe(t.signature._s)])}function aL(s,t){O(Array.isArray(s),`invalid ${t}`,"value",s);for(let e=0;e<s.length;e++)O(ce(s[e],32),"invalid ${ param } hash",`value[${e}]`,s[e]);return s}function iL(s){const t=Sr(s);O(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",s);const e={type:0,nonce:Rr(t[0],"nonce"),gasPrice:be(t[1],"gasPrice"),gasLimit:be(t[2],"gasLimit"),to:Dc(t[3]),value:be(t[4],"value"),data:ut(t[5]),chainId:Fe};if(t.length===6)return e;const n=be(t[6],"v"),a=be(t[7],"r"),i=be(t[8],"s");if(a===Fe&&i===Fe)e.chainId=n;else{let r=(n-Xw)/Jw;r<Fe&&(r=Fe),e.chainId=r,O(r!==Fe||n===Ww||n===Zw,"non-canonical legacy v","v",t[6]),e.signature=Je.from({r:un(t[7],32),s:un(t[8],32),v:n})}return e}function rL(s,t){const e=[ee(s.nonce,"nonce"),ee(s.gasPrice||0,"gasPrice"),ee(s.gasLimit,"gasLimit"),s.to||"0x",ee(s.value,"value"),s.data];let n=Fe;if(s.chainId!=Fe)n=wt(s.chainId,"tx.chainId"),O(!t||t.networkV==null||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(s.signature){const i=s.signature.legacyChainId;i!=null&&(n=i)}if(!t)return n!==Fe&&(e.push(pe(n)),e.push("0x"),e.push("0x")),Kn(e);let a=BigInt(27+t.yParity);return n!==Fe?a=Je.getChainIdV(n,t.v):BigInt(t.v)!==a&&O(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(pe(a)),e.push(pe(t.r)),e.push(pe(t._s)),Kn(e)}function sd(s,t){let e;try{if(e=Rr(t[0],"yParity"),e!==0&&e!==1)throw new Error("bad yParity")}catch{O(!1,"invalid yParity","yParity",t[0])}const n=un(t[1],32),a=un(t[2],32),i=Je.from({r:n,s:a,yParity:e});s.signature=i}function oL(s){const t=Sr(bt(s).slice(1));O(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",ut(s));const e={type:2,chainId:be(t[0],"chainId"),nonce:Rr(t[1],"nonce"),maxPriorityFeePerGas:be(t[2],"maxPriorityFeePerGas"),maxFeePerGas:be(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:be(t[4],"gasLimit"),to:Dc(t[5]),value:be(t[6],"value"),data:ut(t[7]),accessList:ed(t[8],"accessList")};return t.length===9||sd(e,t.slice(9)),e}function cL(s,t){const e=[ee(s.chainId,"chainId"),ee(s.nonce,"nonce"),ee(s.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ee(s.maxFeePerGas||0,"maxFeePerGas"),ee(s.gasLimit,"gasLimit"),s.to||"0x",ee(s.value,"value"),s.data,nd(s.accessList||[])];return t&&(e.push(ee(t.yParity,"yParity")),e.push(pe(t.r)),e.push(pe(t.s))),Wt(["0x02",Kn(e)])}function lL(s){const t=Sr(bt(s).slice(1));O(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",ut(s));const e={type:1,chainId:be(t[0],"chainId"),nonce:Rr(t[1],"nonce"),gasPrice:be(t[2],"gasPrice"),gasLimit:be(t[3],"gasLimit"),to:Dc(t[4]),value:be(t[5],"value"),data:ut(t[6]),accessList:ed(t[7],"accessList")};return t.length===8||sd(e,t.slice(8)),e}function fL(s,t){const e=[ee(s.chainId,"chainId"),ee(s.nonce,"nonce"),ee(s.gasPrice||0,"gasPrice"),ee(s.gasLimit,"gasLimit"),s.to||"0x",ee(s.value,"value"),s.data,nd(s.accessList||[])];return t&&(e.push(ee(t.yParity,"recoveryParam")),e.push(pe(t.r)),e.push(pe(t.s))),Wt(["0x01",Kn(e)])}function dL(s){let t=Sr(bt(s).slice(1)),e="3",n=null,a=null;if(t.length===4&&Array.isArray(t[0])){e="3 (network format)";const r=t[1],o=t[2],f=t[3];O(Array.isArray(r),"invalid network format: blobs not an array","fields[1]",r),O(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),O(Array.isArray(f),"invalid network format: proofs not an array","fields[3]",f),O(r.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",t),O(r.length===f.length,"invalid network format: blobs/proofs length mismatch","fields",t),a=[];for(let l=0;l<t[1].length;l++)a.push({data:r[l],commitment:o[l],proof:f[l]});t=t[0]}else if(t.length===5&&Array.isArray(t[0])){e="3 (EIP-7594 network format)",n=St(t[1]);const r=t[2],o=t[3],f=t[4];O(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),O(Array.isArray(r),"invalid EIP-7594 network format: blobs not an array","fields[2]",r),O(Array.isArray(o),"invalid EIP-7594 network format: commitments not an array","fields[3]",o),O(Array.isArray(f),"invalid EIP-7594 network format: proofs not an array","fields[4]",f),O(r.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",t),O(r.length*Lf===f.length,"invalid network format: blobs/proofs length mismatch","fields",t),a=[];for(let l=0;l<r.length;l++){const c=[];for(let h=0;h<Lf;h++)c.push(f[l*Lf+h]);a.push({data:r[l],commitment:o[l],proof:Wt(c)})}t=t[0]}O(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${e}`,"data",ut(s));const i={type:3,chainId:be(t[0],"chainId"),nonce:Rr(t[1],"nonce"),maxPriorityFeePerGas:be(t[2],"maxPriorityFeePerGas"),maxFeePerGas:be(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:be(t[4],"gasLimit"),to:Dc(t[5]),value:be(t[6],"value"),data:ut(t[7]),accessList:ed(t[8],"accessList"),maxFeePerBlobGas:be(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10],blobWrapperVersion:n};a&&(i.blobs=a),O(i.to!=null,`invalid address for transaction type: ${e}`,"data",s),O(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",s);for(let r=0;r<i.blobVersionedHashes.length;r++)O(ce(i.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",s);return t.length===11||sd(i,t.slice(11)),i}function uL(s,t,e){const n=[ee(s.chainId,"chainId"),ee(s.nonce,"nonce"),ee(s.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ee(s.maxFeePerGas||0,"maxFeePerGas"),ee(s.gasLimit,"gasLimit"),s.to||_r,ee(s.value,"value"),s.data,nd(s.accessList||[]),ee(s.maxFeePerBlobGas||0,"maxFeePerBlobGas"),aL(s.blobVersionedHashes||[],"blobVersionedHashes")];if(t&&(n.push(ee(t.yParity,"yParity")),n.push(pe(t.r)),n.push(pe(t.s)),e)){if(s.blobWrapperVersion!=null){const a=pe(s.blobWrapperVersion),i=[];for(const{proof:r}of e){const o=bt(r),f=o.length/Lf;for(let l=0;l<o.length;l+=f)i.push(o.subarray(l,l+f))}return Wt(["0x03",Kn([n,a,e.map(r=>r.data),e.map(r=>r.commitment),i])])}return Wt(["0x03",Kn([n,e.map(a=>a.data),e.map(a=>a.commitment),e.map(a=>a.proof)])])}return Wt(["0x03",Kn(n)])}function hL(s){const t=Sr(bt(s).slice(1));O(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",ut(s));const e={type:4,chainId:be(t[0],"chainId"),nonce:Rr(t[1],"nonce"),maxPriorityFeePerGas:be(t[2],"maxPriorityFeePerGas"),maxFeePerGas:be(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:be(t[4],"gasLimit"),to:Dc(t[5]),value:be(t[6],"value"),data:ut(t[7]),accessList:ed(t[8],"accessList"),authorizationList:nL(t[9],"authorizationList")};return t.length===10||sd(e,t.slice(10)),e}function bL(s,t){const e=[ee(s.chainId,"chainId"),ee(s.nonce,"nonce"),ee(s.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ee(s.maxFeePerGas||0,"maxFeePerGas"),ee(s.gasLimit,"gasLimit"),s.to||"0x",ee(s.value,"value"),s.data,nd(s.accessList||[]),sL(s.authorizationList||[])];return t&&(e.push(ee(t.yParity,"yParity")),e.push(pe(t.r)),e.push(pe(t.s))),Wt(["0x04",Kn(e)])}var ss,go,yo,mo,_o,xo,wo,Lo,Ao,Eo,Co,vo,Zi,Ga,Ts,Ha,Po,Io,To,Af;const Es=class Es{constructor(){j(this,To);j(this,ss);j(this,go);j(this,yo);j(this,mo);j(this,_o);j(this,xo);j(this,wo);j(this,Lo);j(this,Ao);j(this,Eo);j(this,Co);j(this,vo);j(this,Zi);j(this,Ga);j(this,Ts);j(this,Ha);j(this,Po);j(this,Io);T(this,ss,null),T(this,go,null),T(this,mo,0),T(this,_o,Fe),T(this,xo,null),T(this,wo,null),T(this,Lo,null),T(this,yo,"0x"),T(this,Ao,Fe),T(this,Eo,Fe),T(this,Co,null),T(this,vo,null),T(this,Zi,null),T(this,Ga,null),T(this,Ts,null),T(this,Ha,null),T(this,Po,null),T(this,Io,null)}get type(){return L(this,ss)}set type(t){switch(t){case null:T(this,ss,null);break;case 0:case"legacy":T(this,ss,0);break;case 1:case"berlin":case"eip-2930":T(this,ss,1);break;case 2:case"london":case"eip-1559":T(this,ss,2);break;case 3:case"cancun":case"eip-4844":T(this,ss,3);break;case 4:case"pectra":case"eip-7702":T(this,ss,4);break;default:O(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const t=L(this,go);return t==null&&this.type===3?_r:t}set to(t){T(this,go,t==null?null:jt(t))}get nonce(){return L(this,mo)}set nonce(t){T(this,mo,St(t,"value"))}get gasLimit(){return L(this,_o)}set gasLimit(t){T(this,_o,wt(t))}get gasPrice(){const t=L(this,xo);return t==null&&(this.type===0||this.type===1)?Fe:t}set gasPrice(t){T(this,xo,t==null?null:wt(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=L(this,wo);return t??(this.type===2||this.type===3?Fe:null)}set maxPriorityFeePerGas(t){T(this,wo,t==null?null:wt(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=L(this,Lo);return t??(this.type===2||this.type===3?Fe:null)}set maxFeePerGas(t){T(this,Lo,t==null?null:wt(t,"maxFeePerGas"))}get data(){return L(this,yo)}set data(t){T(this,yo,ut(t))}get value(){return L(this,Ao)}set value(t){T(this,Ao,wt(t,"value"))}get chainId(){return L(this,Eo)}set chainId(t){T(this,Eo,wt(t))}get signature(){return L(this,Co)||null}set signature(t){T(this,Co,t==null?null:Je.from(t))}isValid(){const t=this.signature;if(t&&!t.isValid())return!1;const e=this.authorizationList;if(e){for(const n of e)if(!n.signature.isValid())return!1}return!0}get accessList(){const t=L(this,vo)||null;return t??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){T(this,vo,t==null?null:js(t))}get authorizationList(){const t=L(this,Po)||null;return t==null&&this.type===4?[]:t}set authorizationList(t){T(this,Po,t==null?null:t.map(e=>td(e)))}get maxFeePerBlobGas(){const t=L(this,Zi);return t==null&&this.type===3?Fe:t}set maxFeePerBlobGas(t){T(this,Zi,t==null?null:wt(t,"maxFeePerBlobGas"))}get blobVersionedHashes(){let t=L(this,Ga);return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){O(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let e=0;e<t.length;e++)O(ce(t[e],32),"invalid blobVersionedHash",`value[${e}]`,t[e])}T(this,Ga,t)}get blobs(){return L(this,Ha)==null?null:L(this,Ha).map(t=>Object.assign({},t))}set blobs(t){if(t==null){T(this,Ha,null);return}const e=[],n=[];for(let a=0;a<t.length;a++){const i=t[a];if(Fc(i)){Y(L(this,Ts),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let r=bt(i);if(O(r.length<=Jd,"blob is too large",`blobs[${a}]`,i),r.length!==Jd){const l=new Uint8Array(Jd);l.set(r),r=l}const o=L(this,Ts).blobToKzgCommitment(r),f=ut(L(this,Ts).computeBlobKzgProof(r,o));e.push({data:ut(r),commitment:ut(o),proof:f}),n.push(e3(1,o))}else{const r=ut(i.data),o=ut(i.commitment),f=ut(i.proof);e.push({data:r,commitment:o,proof:f}),n.push(e3(1,o))}}T(this,Ha,e),T(this,Ga,n)}get kzg(){return L(this,Ts)}set kzg(t){t==null?T(this,Ts,null):T(this,Ts,eL(t))}get blobWrapperVersion(){return L(this,Io)}set blobWrapperVersion(t){T(this,Io,t)}get hash(){return this.signature==null?null:oe(ct(this,To,Af).call(this,!0,!1))}get unsignedHash(){return oe(this.unsignedSerialized)}get from(){return this.signature==null?null:Mc(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:$n.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return ct(this,To,Af).call(this,!0,!0)}get unsignedSerialized(){return ct(this,To,Af).call(this,!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,a=L(this,Zi)!=null||L(this,Ga);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Y(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Y(!e||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Y(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):e?i.push(2):t?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(a&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Es.from(this)}toJSON(){const t=e=>e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[tL](){return this.toString()}toString(){const t=[],e=a=>{let i=this[a];typeof i=="string"&&(i=JSON.stringify(i)),t.push(`${a}: ${i}`)};this.type&&e("type"),e("to"),e("data"),e("nonce"),e("gasLimit"),e("value"),this.chainId!=null&&e("chainId"),this.signature&&(e("from"),t.push(`signature: ${this.signature.toString()}`));const n=this.authorizationList;if(n){const a=[];for(const i of n){const r=[];r.push(`address: ${JSON.stringify(i.address)}`),i.nonce!=null&&r.push(`nonce: ${i.nonce}`),i.chainId!=null&&r.push(`chainId: ${i.chainId}`),i.signature&&r.push(`signature: ${i.signature.toString()}`),a.push(`Authorization { ${r.join(", ")} }`)}t.push(`authorizations: [ ${a.join(", ")} ]`)}return`Transaction { ${t.join(", ")} }`}static from(t){if(t==null)return new Es;if(typeof t=="string"){const n=bt(t);if(n[0]>=127)return Es.from(iL(n));switch(n[0]){case 1:return Es.from(lL(n));case 2:return Es.from(oL(n));case 3:return Es.from(dL(n));case 4:return Es.from(hL(n))}Y(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new Es;return t.type!=null&&(e.type=t.type),t.to!=null&&(e.to=t.to),t.nonce!=null&&(e.nonce=t.nonce),t.gasLimit!=null&&(e.gasLimit=t.gasLimit),t.gasPrice!=null&&(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(e.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(e.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(e.data=t.data),t.value!=null&&(e.value=t.value),t.chainId!=null&&(e.chainId=t.chainId),t.signature!=null&&(e.signature=Je.from(t.signature)),t.accessList!=null&&(e.accessList=t.accessList),t.authorizationList!=null&&(e.authorizationList=t.authorizationList),t.blobVersionedHashes!=null&&(e.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(e.kzg=t.kzg),t.blobWrapperVersion!=null&&(e.blobWrapperVersion=t.blobWrapperVersion),t.blobs!=null&&(e.blobs=t.blobs),t.hash!=null&&(O(e.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),O(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(O(e.isSigned(),"unsigned transaction cannot define '.from'","tx",t),O(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};ss=new WeakMap,go=new WeakMap,yo=new WeakMap,mo=new WeakMap,_o=new WeakMap,xo=new WeakMap,wo=new WeakMap,Lo=new WeakMap,Ao=new WeakMap,Eo=new WeakMap,Co=new WeakMap,vo=new WeakMap,Zi=new WeakMap,Ga=new WeakMap,Ts=new WeakMap,Ha=new WeakMap,Po=new WeakMap,Io=new WeakMap,To=new WeakSet,Af=function(t,e){Y(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=t?this.signature:null;switch(this.inferType()){case 0:return rL(this,n);case 1:return fL(this,n);case 2:return cL(this,n);case 3:return uL(this,n,e?this.blobs:null);case 4:return bL(this,n)}Y(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let di=Es;function ad(s){return O(typeof s.address=="string","invalid address for hashAuthorization","auth.address",s),oe(Wt(["0x05",Kn([s.chainId!=null?pe(s.chainId):"0x",jt(s.address),s.nonce!=null?pe(s.nonce):"0x"])]))}function Pg(s,t){return Mc(ad(s),t)}function bs(s){return oe(Pe(s))}var pL="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const n3=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),s3=4;function gL(s){let t=0;function e(){return s[t++]<<8|s[t++]}let n=e(),a=1,i=[0,1];for(let D=1;D<n;D++)i.push(a+=e());let r=e(),o=t;t+=r;let f=0,l=0;function c(){return f==0&&(l=l<<8|s[t++],f=8),l>>--f&1}const h=31,m=2**h,p=m>>>1,C=p>>1,A=m-1;let w=0;for(let D=0;D<h;D++)w=w<<1|c();let I=[],v=0,F=m;for(;;){let D=Math.floor(((w-v+1)*a-1)/F),P=0,u=n;for(;u-P>1;){let H=P+u>>>1;D<i[H]?u=H:P=H}if(P==0)break;I.push(P);let _=v+Math.floor(F*i[P]/a),G=v+Math.floor(F*i[P+1]/a)-1;for(;!((_^G)&p);)w=w<<1&A|c(),_=_<<1&A,G=G<<1&A|1;for(;_&~G&C;)w=w&p|w<<1&A>>>1|c(),_=_<<1^p,G=(G^p)<<1|p|1;v=_,F=1+G-_}let S=n-4;return I.map(D=>{switch(D-S){case 3:return S+65792+(s[o++]<<16|s[o++]<<8|s[o++]);case 2:return S+256+(s[o++]<<8|s[o++]);case 1:return S+s[o++];default:return D-1}})}function yL(s){let t=0;return()=>s[t++]}function Ig(s){return yL(gL(mL(s)))}function mL(s){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((a,i)=>t[a.charCodeAt(0)]=i);let e=s.length,n=new Uint8Array(6*e>>3);for(let a=0,i=0,r=0,o=0;a<e;a++)o=o<<6|t[s.charCodeAt(a)],r+=6,r>=8&&(n[i++]=o>>(r-=8));return n}function _L(s){return s&1?~s>>1:s>>1}function xL(s,t){let e=Array(s);for(let n=0,a=0;n<s;n++)e[n]=a+=_L(t());return e}function C0(s,t=0){let e=[];for(;;){let n=s(),a=s();if(!a)break;t+=n;for(let i=0;i<a;i++)e.push(t+i);t+=a+1}return e}function Tg(s){return v0(()=>{let t=C0(s);if(t.length)return t})}function Bg(s){let t=[];for(;;){let e=s();if(e==0)break;t.push(wL(e,s))}for(;;){let e=s()-1;if(e<0)break;t.push(LL(e,s))}return t.flat()}function v0(s){let t=[];for(;;){let e=s(t.length);if(!e)break;t.push(e)}return t}function Sg(s,t,e){let n=Array(s).fill().map(()=>[]);for(let a=0;a<t;a++)xL(s,e).forEach((i,r)=>n[r].push(i));return n}function wL(s,t){let e=1+t(),n=t(),a=v0(t);return Sg(a.length,1+s,t).flatMap((r,o)=>{let[f,...l]=r;return Array(a[o]).fill().map((c,h)=>{let m=h*n;return[f+h*e,l.map(p=>p+m)]})})}function LL(s,t){let e=1+t();return Sg(e,1+s,t).map(a=>[a[0],a.slice(1)])}function AL(s){let t=[],e=C0(s);return a(n([]),[]),t;function n(i){let r=s(),o=v0(()=>{let f=C0(s).map(l=>e[l]);if(f.length)return n(f)});return{S:r,B:o,Q:i}}function a({S:i,B:r},o,f){if(!(i&4&&f===o[o.length-1])){i&2&&(f=o[o.length-1]),i&1&&t.push(o);for(let l of r)for(let c of l.Q)a(l,[...o,c],f)}}}function EL(s){return s.toString(16).toUpperCase().padStart(2,"0")}function Og(s){return`{${EL(s)}}`}function CL(s){let t=[];for(let e=0,n=s.length;e<n;){let a=s.codePointAt(e);e+=a<65536?1:2,t.push(a)}return t}function uc(s){let e=s.length;if(e<4096)return String.fromCodePoint(...s);let n=[];for(let a=0;a<e;)n.push(String.fromCodePoint(...s.slice(a,a+=4096)));return n.join("")}function vL(s,t){let e=s.length,n=e-t.length;for(let a=0;n==0&&a<e;a++)n=s[a]-t[a];return n}var PL="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const P0=44032,Wf=4352,Zf=4449,Xf=4519,Rg=19,Fg=21,hc=28,Yf=Fg*hc,IL=Rg*Yf,TL=P0+IL,BL=Wf+Rg,SL=Zf+Fg,OL=Xf+hc;function i0(s){return s>>24&255}function Ng(s){return s&16777215}let u2,a3,h2,Ef;function RL(){let s=Ig(PL);u2=new Map(Tg(s).flatMap((t,e)=>t.map(n=>[n,e+1<<24]))),a3=new Set(C0(s)),h2=new Map,Ef=new Map;for(let[t,e]of Bg(s)){if(!a3.has(t)&&e.length==2){let[n,a]=e,i=Ef.get(n);i||(i=new Map,Ef.set(n,i)),i.set(a,t)}h2.set(t,e.reverse())}}function kg(s){return s>=P0&&s<TL}function FL(s,t){if(s>=Wf&&s<BL&&t>=Zf&&t<SL)return P0+(s-Wf)*Yf+(t-Zf)*hc;if(kg(s)&&t>Xf&&t<OL&&(s-P0)%hc==0)return s+(t-Xf);{let e=Ef.get(s);return e&&(e=e.get(t),e)?e:-1}}function Ug(s){u2||RL();let t=[],e=[],n=!1;function a(i){let r=u2.get(i);r&&(n=!0,i|=r),t.push(i)}for(let i of s)for(;;){if(i<128)t.push(i);else if(kg(i)){let r=i-P0,o=r/Yf|0,f=r%Yf/hc|0,l=r%hc;a(Wf+o),a(Zf+f),l>0&&a(Xf+l)}else{let r=h2.get(i);r?e.push(...r):a(i)}if(!e.length)break;i=e.pop()}if(n&&t.length>1){let i=i0(t[0]);for(let r=1;r<t.length;r++){let o=i0(t[r]);if(o==0||i<=o){i=o;continue}let f=r-1;for(;;){let l=t[f+1];if(t[f+1]=t[f],t[f]=l,!f||(i=i0(t[--f]),i<=o))break}i=i0(t[r])}}return t}function NL(s){let t=[],e=[],n=-1,a=0;for(let i of s){let r=i0(i),o=Ng(i);if(n==-1)r==0?n=o:t.push(o);else if(a>0&&a>=r)r==0?(t.push(n,...e),e.length=0,n=o):e.push(o),a=r;else{let f=FL(n,o);f>=0?n=f:a==0&&r==0?(t.push(n),n=o):(e.push(o),a=r)}}return n>=0&&t.push(n,...e),t}function Mg(s){return Ug(s).map(Ng)}function kL(s){return NL(Ug(s))}const i3=45,Dg=".",zg=65039,qg=1,t1=s=>Array.from(s);function I0(s,t){return s.P.has(t)||s.Q.has(t)}class UL extends Array{get is_emoji(){return!0}}let b2,Vg,Mi,p2,Gg,eo,Wd,Vr,vi,r3,g2;function H6(){if(b2)return;let s=Ig(pL);const t=()=>C0(s),e=()=>new Set(t()),n=(c,h)=>h.forEach(m=>c.add(m));b2=new Map(Bg(s)),Vg=e(),Mi=t(),p2=new Set(t().map(c=>Mi[c])),Mi=new Set(Mi),Gg=e(),e();let a=Tg(s),i=s();const r=()=>{let c=new Set;return t().forEach(h=>n(c,a[h])),n(c,t()),c};eo=v0(c=>{let h=v0(s).map(m=>m+96);if(h.length){let m=c>=i;h[0]-=32,h=uc(h),m&&(h=`Restricted[${h}]`);let p=r(),C=r(),A=!s();return{N:h,P:p,Q:C,M:A,R:m}}}),Wd=e(),Vr=new Map;let o=t().concat(t1(Wd)).sort((c,h)=>c-h);o.forEach((c,h)=>{let m=s(),p=o[h]=m?o[h-m]:{V:[],M:new Map};p.V.push(c),Wd.has(c)||Vr.set(c,p)});for(let{V:c,M:h}of new Set(Vr.values())){let m=[];for(let C of c){let A=eo.filter(I=>I0(I,C)),w=m.find(({G:I})=>A.some(v=>I.has(v)));w||(w={G:new Set,V:[]},m.push(w)),w.V.push(C),n(w.G,A)}let p=m.flatMap(C=>t1(C.G));for(let{G:C,V:A}of m){let w=new Set(p.filter(I=>!C.has(I)));for(let I of A)h.set(I,w)}}vi=new Set;let f=new Set;const l=c=>vi.has(c)?f.add(c):vi.add(c);for(let c of eo){for(let h of c.P)l(h);for(let h of c.Q)l(h)}for(let c of vi)!Vr.has(c)&&!f.has(c)&&Vr.set(c,qg);n(vi,Mg(vi)),r3=AL(s).map(c=>UL.from(c)).sort(vL),g2=new Map;for(let c of r3){let h=[g2];for(let m of c){let p=h.map(C=>{let A=C.get(m);return A||(A=new Map,C.set(m,A)),A});m===zg?h.push(...p):h=p}for(let m of h)m.V=c}}function j6(s){return(Hg(s)?"":`${K6(id([s]))} `)+Og(s)}function K6(s){return`"${s}"`}function ML(s){if(s.length>=4&&s[2]==i3&&s[3]==i3)throw new Error(`invalid label extension: "${uc(s.slice(0,4))}"`)}function DL(s){for(let e=s.lastIndexOf(95);e>0;)if(s[--e]!==95)throw new Error("underscore allowed only at start")}function zL(s){let t=s[0],e=n3.get(t);if(e)throw p0(`leading ${e}`);let n=s.length,a=-1;for(let i=1;i<n;i++){t=s[i];let r=n3.get(t);if(r){if(a==i)throw p0(`${e} + ${r}`);a=i+1,e=r}}if(a==n)throw p0(`trailing ${e}`)}function id(s,t=1/0,e=Og){let n=[];qL(s[0])&&n.push(""),s.length>t&&(t>>=1,s=[...s.slice(0,t),8230,...s.slice(-t)]);let a=0,i=s.length;for(let r=0;r<i;r++){let o=s[r];Hg(o)&&(n.push(uc(s.slice(a,r))),n.push(e(o)),a=r+1)}return n.push(uc(s.slice(a,i))),n.join("")}function qL(s){return H6(),Mi.has(s)}function Hg(s){return H6(),Gg.has(s)}function VL(s){return KL(GL(s,kL,JL))}function GL(s,t,e){if(!s)return[];H6();let n=0;return s.split(Dg).map(a=>{let i=CL(a),r={input:i,offset:n};n+=i.length+1;try{let o=r.tokens=QL(i,t,e),f=o.length,l;if(!f)throw new Error("empty label");let c=r.output=o.flat();if(DL(c),!(r.emoji=f>1||o[0].is_emoji)&&c.every(m=>m<128))ML(c),l="ASCII";else{let m=o.flatMap(p=>p.is_emoji?[]:p);if(!m.length)l="Emoji";else{if(Mi.has(c[0]))throw p0("leading combining mark");for(let A=1;A<f;A++){let w=o[A];if(!w.is_emoji&&Mi.has(w[0]))throw p0(`emoji + combining mark: "${uc(o[A-1])} + ${id([w[0]])}"`)}zL(c);let p=t1(new Set(m)),[C]=jL(p);$L(C,m),HL(C,p),l=C.N}}r.type=l}catch(o){r.error=o}return r})}function HL(s,t){let e,n=[];for(let a of t){let i=Vr.get(a);if(i===qg)return;if(i){let r=i.M.get(a);if(e=e?e.filter(o=>r.has(o)):t1(r),!e.length)return}else n.push(a)}if(e){for(let a of e)if(n.every(i=>I0(a,i)))throw new Error(`whole-script confusable: ${s.N}/${a.N}`)}}function jL(s){let t=eo;for(let e of s){let n=t.filter(a=>I0(a,e));if(!n.length)throw eo.some(a=>I0(a,e))?Kg(t[0],e):jg(e);if(t=n,n.length==1)break}return t}function KL(s){return s.map(({input:t,error:e,output:n})=>{if(e){let a=e.message;throw new Error(s.length==1?a:`Invalid label ${K6(id(t,63))}: ${a}`)}return uc(n)}).join(Dg)}function jg(s){return new Error(`disallowed character: ${j6(s)}`)}function Kg(s,t){let e=j6(t),n=eo.find(a=>a.P.has(t));return n&&(e=`${n.N} ${e}`),new Error(`illegal mixture: ${s.N} + ${e}`)}function p0(s){return new Error(`illegal placement: ${s}`)}function $L(s,t){for(let e of t)if(!I0(s,e))throw Kg(s,e);if(s.M){let e=Mg(t);for(let n=1,a=e.length;n<a;n++)if(p2.has(e[n])){let i=n+1;for(let r;i<a&&p2.has(r=e[i]);i++)for(let o=n;o<i;o++)if(e[o]==r)throw new Error(`duplicate non-spacing marks: ${j6(r)}`);if(i-n>s3)throw new Error(`excessive non-spacing marks: ${K6(id(e.slice(n-1,i)))} (${i-n}/${s3})`);n=i}}}function QL(s,t,e){let n=[],a=[];for(s=s.slice().reverse();s.length;){let i=WL(s);if(i)a.length&&(n.push(t(a)),a=[]),n.push(e(i));else{let r=s.pop();if(vi.has(r))a.push(r);else{let o=b2.get(r);if(o)a.push(...o);else if(!Vg.has(r))throw jg(r)}}}return a.length&&n.push(t(a)),n}function JL(s){return s.filter(t=>t!=zg)}function WL(s,t){let e=g2,n,a=s.length;for(;a&&(e=e.get(s[--a]),!!e);){let{V:i}=e;i&&(n=i,s.length=a)}return n}const $g=new Uint8Array(32);$g.fill(0);function o3(s){return O(s.length!==0,"invalid ENS name; empty component","comp",s),s}function $6(s){const t=Pe(Q6(s)),e=[];if(s.length===0)return e;let n=0;for(let a=0;a<t.length;a++)t[a]===46&&(e.push(o3(t.slice(n,a))),n=a+1);return O(n<t.length,"invalid ENS name; empty component","name",s),e.push(o3(t.slice(n))),e}function Q6(s){try{if(s.length===0)throw new Error("empty label");return VL(s)}catch(t){O(!1,`invalid ENS name (${t.message})`,"name",s)}}function Qg(s){try{return $6(s).length!==0}catch{}return!1}function T0(s){O(typeof s=="string","invalid ENS name; not a string","name",s),O(s.length,"invalid ENS name (empty label)","name",s);let t=$g;const e=$6(s);for(;e.length;)t=oe(Wt([t,oe(e.pop())]));return ut(t)}function J6(s,t){const e=t??63;return O(e<=255,"DNS encoded label cannot exceed 255","length",e),ut(Wt($6(s).map(n=>{O(n.length<=e,`label ${JSON.stringify(s)} exceeds ${e} bytes`,"name",s);const a=new Uint8Array(n.length+1);return a.set(n,1),a[0]=a.length-1,a})))+"00"}function rd(s){return typeof s=="string"&&(s=Pe(s)),oe(Wt([Pe(V6),Pe(String(s.length)),s]))}function Jg(s,t){const e=rd(s);return Mc(e,t)}const ZL=new RegExp("^bytes([0-9]+)$"),XL=new RegExp("^(u?int)([0-9]*)$"),YL=new RegExp("^(.*)\\[([0-9]*)\\]$");function Wg(s,t,e){switch(s){case"address":return bt(e?un(t,32):jt(t));case"string":return Pe(t);case"bytes":return bt(t);case"bool":return t=t?"0x01":"0x00",bt(e?un(t,32):t)}let n=s.match(XL);if(n){let a=n[1]==="int",i=parseInt(n[2]||"256");return O((!n[2]||n[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",s),e&&(i=256),a&&(t=pl(t,i)),bt(un(pe(t),i/8))}if(n=s.match(ZL),n){const a=parseInt(n[1]);return O(String(a)===n[1]&&a!==0&&a<=32,"invalid bytes type","type",s),O(ba(t)===a,`invalid value for ${s}`,"value",t),e?bt(hl(t,32)):t}if(n=s.match(YL),n&&Array.isArray(t)){const a=n[1],i=parseInt(n[2]||String(t.length));O(i===t.length,`invalid array length for ${s}`,"value",t);const r=[];return t.forEach(function(o){r.push(Wg(a,o,!0))}),bt(Wt(r))}O(!1,"invalid type","type",s)}function od(s,t){O(s.length===t.length,"wrong number of values; expected ${ types.length }","values",t);const e=[];return s.forEach(function(n,a){e.push(Wg(n,t[a]))}),ut(Wt(e))}function Zg(s,t){return oe(od(s,t))}function Xg(s,t){return Ue(od(s,t))}const Yg=new Uint8Array(32);Yg.fill(0);const tA=BigInt(-1),t4=BigInt(0),e4=BigInt(1),eA=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function nA(s){const t=bt(s),e=t.length%32;return e?Wt([t,Yg.slice(e)]):ut(t)}const sA=hs(e4,32),aA=hs(t4,32),c3={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Zd=["name","version","chainId","verifyingContract","salt"];function l3(s){return function(t){return O(typeof t=="string",`invalid domain value for ${JSON.stringify(s)}`,`domain.${s}`,t),t}}const iA={name:l3("name"),version:l3("version"),chainId:function(s){const t=wt(s,"domain.chainId");return O(t>=0,"invalid chain ID","domain.chainId",s),Number.isSafeInteger(t)?Number(t):ln(t)},verifyingContract:function(s){try{return jt(s).toLowerCase()}catch{}O(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",s)},salt:function(s){const t=bt(s,"domain.salt");return O(t.length===32,'invalid domain value "salt"',"domain.salt",s),ut(t)}};function Xd(s){{const t=s.match(/^(u?)int(\d+)$/);if(t){const e=t[1]==="",n=parseInt(t[2]);O(n%8===0&&n!==0&&n<=256&&t[2]===String(n),"invalid numeric width","type",s);const a=ha(eA,e?n-1:n),i=e?(a+e4)*tA:t4;return function(r){const o=wt(r,"value");return O(o>=i&&o<=a,`value out-of-bounds for ${s}`,"value",o),hs(e?pl(o,256):o,32)}}}{const t=s.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return O(e!==0&&e<=32&&t[1]===String(e),"invalid bytes width","type",s),function(n){const a=bt(n);return O(a.length===e,`invalid length for ${s}`,"value",n),nA(n)}}}switch(s){case"address":return function(t){return un(jt(t),32)};case"bool":return function(t){return t?sA:aA};case"bytes":return function(t){return oe(t)};case"string":return function(t){return bs(t)}}return null}function f3(s,t){return`${s}(${t.map(({name:e,type:n})=>n+" "+e).join(",")})`}function Xl(s){const t=s.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:s}}var V0,aa,Bo,C1,n4;const Nn=class Nn{constructor(t){j(this,C1);z(this,"primaryType");j(this,V0);j(this,aa);j(this,Bo);T(this,aa,new Map),T(this,Bo,new Map);const e=new Map,n=new Map,a=new Map,i={};Object.keys(t).forEach(f=>{i[f]=t[f].map(({name:l,type:c})=>{let{base:h,index:m}=Xl(c);return h==="int"&&!t.int&&(h="int256"),h==="uint"&&!t.uint&&(h="uint256"),{name:l,type:h+(m||"")}}),e.set(f,new Set),n.set(f,[]),a.set(f,new Set)}),T(this,V0,JSON.stringify(i));for(const f in i){const l=new Set;for(const c of i[f]){O(!l.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(f)}`,"types",t),l.add(c.name);const h=Xl(c.type).base;O(h!==f,`circular type reference to ${JSON.stringify(h)}`,"types",t),!Xd(h)&&(O(n.has(h),`unknown type ${JSON.stringify(h)}`,"types",t),n.get(h).push(f),e.get(f).add(h))}}const r=Array.from(n.keys()).filter(f=>n.get(f).length===0);O(r.length!==0,"missing primary type","types",t),O(r.length===1,`ambiguous primary types or unused types: ${r.map(f=>JSON.stringify(f)).join(", ")}`,"types",t),mt(this,{primaryType:r[0]});function o(f,l){O(!l.has(f),`circular type reference to ${JSON.stringify(f)}`,"types",t),l.add(f);for(const c of e.get(f))if(n.has(c)){o(c,l);for(const h of l)a.get(h).add(c)}l.delete(f)}o(this.primaryType,new Set);for(const[f,l]of a){const c=Array.from(l);c.sort(),L(this,aa).set(f,f3(f,i[f])+c.map(h=>f3(h,i[h])).join(""))}}get types(){return JSON.parse(L(this,V0))}getEncoder(t){let e=L(this,Bo).get(t);return e||(e=ct(this,C1,n4).call(this,t),L(this,Bo).set(t,e)),e}encodeType(t){const e=L(this,aa).get(t);return O(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return oe(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,n){if(Xd(t))return n(t,e);const a=Xl(t).array;if(a)return O(a.count===-1||a.count===e.length,`array length mismatch; expected length ${a.count}`,"value",e),e.map(r=>this._visit(a.prefix,r,n));const i=this.types[t];if(i)return i.reduce((r,{name:o,type:f})=>(r[o]=this._visit(f,e[o],n),r),{});O(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Nn(t)}static getPrimaryType(t){return Nn.from(t).primaryType}static hashStruct(t,e,n){return Nn.from(e).hashStruct(t,n)}static hashDomain(t){const e=[];for(const n in t){if(t[n]==null)continue;const a=c3[n];O(a,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),e.push({name:n,type:a})}return e.sort((n,a)=>Zd.indexOf(n.name)-Zd.indexOf(a.name)),Nn.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,n){return Wt(["0x1901",Nn.hashDomain(t),Nn.from(e).hash(n)])}static hash(t,e,n){return oe(Nn.encode(t,e,n))}static async resolveNames(t,e,n,a){t=Object.assign({},t);for(const o in t)t[o]==null&&delete t[o];const i={};t.verifyingContract&&!ce(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const r=Nn.from(e);r.visit(n,(o,f)=>(o==="address"&&!ce(f,20)&&(i[f]="0x"),f));for(const o in i)i[o]=await a(o);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),n=r.visit(n,(o,f)=>o==="address"&&i[f]?i[f]:f),{domain:t,value:n}}static getPayload(t,e,n){Nn.hashDomain(t);const a={},i=[];Zd.forEach(f=>{const l=t[f];l!=null&&(a[f]=iA[f](l),i.push({name:f,type:c3[f]}))});const r=Nn.from(e);e=r.types;const o=Object.assign({},e);return O(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),o.EIP712Domain=i,r.encode(n),{types:o,domain:a,primaryType:r.primaryType,message:r.visit(n,(f,l)=>{if(f.match(/^bytes(\d*)/))return ut(bt(l));if(f.match(/^u?int/))return wt(l).toString();switch(f){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return O(typeof l=="string","invalid string","value",l),l}O(!1,"unsupported type","type",f)})}}};V0=new WeakMap,aa=new WeakMap,Bo=new WeakMap,C1=new WeakSet,n4=function(t){{const a=Xd(t);if(a)return a}const e=Xl(t).array;if(e){const a=e.prefix,i=this.getEncoder(a);return r=>{O(e.count===-1||e.count===r.length,`array length mismatch; expected length ${e.count}`,"value",r);let o=r.map(i);return L(this,aa).has(a)&&(o=o.map(oe)),oe(Wt(o))}}const n=this.types[t];if(n){const a=bs(L(this,aa).get(t));return i=>{const r=n.map(({name:o,type:f})=>{const l=this.getEncoder(f)(i[o]);return L(this,aa).has(f)?oe(l):l});return r.unshift(a),Wt(r)}}O(!1,`unknown type: ${t}`,"type",t)};let _a=Nn;function s4(s,t,e,n){return Mc(_a.hash(s,t,e),n)}function tn(s){const t=new Set;return s.forEach(e=>t.add(e)),Object.freeze(t)}const rA="external public payable override",oA=tn(rA.split(" ")),a4="constant external internal payable private public pure view override",cA=tn(a4.split(" ")),i4="constructor error event fallback function receive struct",r4=tn(i4.split(" ")),o4="calldata memory storage payable indexed",lA=tn(o4.split(" ")),fA="tuple returns",dA=[i4,o4,fA,a4].join(" "),uA=tn(dA.split(" ")),hA={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},bA=new RegExp("^(\\s*)"),pA=new RegExp("^([0-9]+)"),gA=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),c4=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),l4=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var qe,as,G0,y2;const v1=class v1{constructor(t){j(this,G0);j(this,qe);j(this,as);T(this,qe,0),T(this,as,t.slice())}get offset(){return L(this,qe)}get length(){return L(this,as).length-L(this,qe)}clone(){return new v1(L(this,as))}reset(){T(this,qe,0)}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=ct(this,G0,y2).call(this,L(this,qe)+1,t.match+1);return T(this,qe,t.match+1),e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;L(this,qe)<t.match-1;){const n=this.peek().linkNext;e.push(ct(this,G0,y2).call(this,L(this,qe)+1,n)),T(this,qe,n)}return T(this,qe,t.match+1),e}peek(){if(L(this,qe)>=L(this,as).length)throw new Error("out-of-bounds");return L(this,as)[L(this,qe)]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&&t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return kr(this,qe)._++,t}toString(){const t=[];for(let e=L(this,qe);e<L(this,as).length;e++){const n=L(this,as)[e];t.push(`${n.type}:${n.text}`)}return`<TokenString ${t.join(" ")}>`}};qe=new WeakMap,as=new WeakMap,G0=new WeakSet,y2=function(t=0,e=0){return new v1(L(this,as).slice(t,e).map(n=>Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))};let ps=v1;function gi(s){const t=[],e=r=>{const o=i<s.length?JSON.stringify(s[i]):"$EOI";throw new Error(`invalid token ${o} at ${i}: ${r}`)};let n=[],a=[],i=0;for(;i<s.length;){let r=s.substring(i),o=r.match(bA);o&&(i+=o[1].length,r=s.substring(i));const f={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(f);let l=hA[r[0]]||"";if(l){if(f.type=l,f.text=r[0],i++,l==="OPEN_PAREN")n.push(t.length-1),a.push(t.length-1);else if(l=="CLOSE_PAREN")n.length===0&&e("no matching open bracket"),f.match=n.pop(),t[f.match].match=t.length-1,f.depth--,f.linkBack=a.pop(),t[f.linkBack].linkNext=t.length-1;else if(l==="COMMA")f.linkBack=a.pop(),t[f.linkBack].linkNext=t.length-1,a.push(t.length-1);else if(l==="OPEN_BRACKET")f.type="BRACKET";else if(l==="CLOSE_BRACKET"){let c=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const h=t.pop().text;c=h+c,t[t.length-1].value=St(h)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=c}continue}if(o=r.match(gA),o){if(f.text=o[1],i+=f.text.length,uA.has(f.text)){f.type="KEYWORD";continue}if(f.text.match(l4)){f.type="TYPE";continue}f.type="ID";continue}if(o=r.match(pA),o){f.text=o[1],f.type="NUMBER",i+=f.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(r[0])} at position ${i}`)}return new ps(t.map(r=>Object.freeze(r)))}function d3(s,t){let e=[];for(const n in t.keys())s.has(n)&&e.push(n);if(e.length>1)throw new Error(`conflicting types: ${e.join(", ")}`)}function cd(s,t){if(t.peekKeyword(r4)){const e=t.pop().text;if(e!==s)throw new Error(`expected ${s}, got ${e}`)}return t.popType("ID")}function xa(s,t){const e=new Set;for(;;){const n=s.peekType("KEYWORD");if(n==null||t&&!t.has(n))break;if(s.pop(),e.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);e.add(n)}return Object.freeze(e)}function f4(s){let t=xa(s,cA);return d3(t,tn("constant payable nonpayable".split(" "))),d3(t,tn("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function pa(s,t){return s.popParams().map(e=>Se.from(e,t))}function d4(s){if(s.peekType("AT")){if(s.pop(),s.peekType("NUMBER"))return wt(s.pop().text);throw new Error("invalid gas")}return null}function xr(s){if(s.length)throw new Error(`unexpected tokens at offset ${s.offset}: ${s.toString()}`)}const yA=new RegExp(/^(.*)\[([0-9]*)\]$/);function u3(s){const t=s.match(l4);if(O(t,"invalid type","type",s),s==="uint")return"uint256";if(s==="int")return"int256";if(t[2]){const e=parseInt(t[2]);O(e!==0&&e<=32,"invalid bytes length","type",s)}else if(t[3]){const e=parseInt(t[3]);O(e!==0&&e<=256&&e%8===0,"invalid numeric width","type",s)}return s}const ge={},hn=Symbol.for("_ethers_internal"),h3="_ParamTypeInternal",b3="_ErrorInternal",p3="_EventInternal",g3="_ConstructorInternal",y3="_FallbackInternal",m3="_FunctionInternal",_3="_StructInternal";var So,Cf;const kn=class kn{constructor(t,e,n,a,i,r,o,f){j(this,So);z(this,"name");z(this,"type");z(this,"baseType");z(this,"indexed");z(this,"components");z(this,"arrayLength");z(this,"arrayChildren");if(Hs(t,ge,"ParamType"),Object.defineProperty(this,hn,{value:h3}),r&&(r=Object.freeze(r.slice())),a==="array"){if(o==null||f==null)throw new Error("")}else if(o!=null||f!=null)throw new Error("");if(a==="tuple"){if(r==null)throw new Error("")}else if(r!=null)throw new Error("");mt(this,{name:e,type:n,baseType:a,indexed:i,components:r,arrayLength:o,arrayChildren:f})}format(t){if(t==null&&(t="sighash"),t==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const a={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(a.indexed=this.indexed),this.isTuple()&&(a.components=this.components.map(i=>JSON.parse(i.format(t)))),JSON.stringify(a)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map(n=>n.format(t)).join(t==="full"?", ":",")+")":e+=this.type,t!=="sighash"&&(this.indexed===!0&&(e+=" indexed"),t==="full"&&this.name&&(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(a=>n.arrayChildren.walk(a,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((a,i)=>n.components[i].walk(a,e))}return e(this.type,t)}async walkAsync(t,e){const n=[],a=[t];return ct(this,So,Cf).call(this,n,t,e,i=>{a[0]=i}),n.length&&await Promise.all(n),a[0]}static from(t,e){if(kn.isParamType(t))return t;if(typeof t=="string")try{return kn.from(gi(t),e)}catch{O(!1,"invalid param type","obj",t)}else if(t instanceof ps){let o="",f="",l=null;xa(t,tn(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(f="tuple",l=t.popParams().map(A=>kn.from(A)),o=`tuple(${l.map(A=>A.format()).join(",")})`):(o=u3(t.popType("TYPE")),f=o);let c=null,h=null;for(;t.length&&t.peekType("BRACKET");){const A=t.pop();c=new kn(ge,"",o,f,null,l,h,c),h=A.value,o+=A.text,f="array",l=null}let m=null;if(xa(t,lA).has("indexed")){if(!e)throw new Error("");m=!0}const C=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new kn(ge,C,o,f,m,l,h,c)}const n=t.name;O(!n||typeof n=="string"&&n.match(c4),"invalid name","obj.name",n);let a=t.indexed;a!=null&&(O(e,"parameter cannot be indexed","obj.indexed",t.indexed),a=!!a);let i=t.type,r=i.match(yA);if(r){const o=parseInt(r[2]||"-1"),f=kn.from({type:r[1],components:t.components});return new kn(ge,n||"",i,"array",a,null,o,f)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const o=t.components!=null?t.components.map(l=>kn.from(l)):null;return new kn(ge,n||"",i,"tuple",a,o,null,null)}return i=u3(t.type),new kn(ge,n||"",i,i,a,null,null,null)}static isParamType(t){return t&&t[hn]===h3}};So=new WeakSet,Cf=function(t,e,n,a){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this.arrayChildren,o=e.slice();o.forEach((f,l)=>{var c;ct(c=r,So,Cf).call(c,t,f,n,h=>{o[l]=h})}),a(o);return}if(this.isTuple()){const r=this.components;let o;if(Array.isArray(e))o=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");o=r.map(f=>{if(!f.name)throw new Error("cannot use object value with unnamed components");if(!(f.name in e))throw new Error(`missing value for component ${f.name}`);return e[f.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((f,l)=>{var c;ct(c=r[l],So,Cf).call(c,t,f,n,h=>{o[l]=h})}),a(o);return}const i=n(this.type,e);i.then?t.push(async function(){a(await i)}()):a(i)};let Se=kn;class wa{constructor(t,e,n){z(this,"type");z(this,"inputs");Hs(t,ge,"Fragment"),n=Object.freeze(n.slice()),mt(this,{type:e,inputs:n})}static from(t){if(typeof t=="string"){try{wa.from(JSON.parse(t))}catch{}return wa.from(gi(t))}if(t instanceof ps)switch(t.peekKeyword(r4)){case"constructor":return ds.from(t);case"error":return $e.from(t);case"event":return Hn.from(t);case"fallback":case"receive":return cs.from(t);case"function":return jn.from(t);case"struct":return ga.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return ds.from(t);case"error":return $e.from(t);case"event":return Hn.from(t);case"fallback":case"receive":return cs.from(t);case"function":return jn.from(t);case"struct":return ga.from(t)}Y(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}O(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return ds.isFragment(t)}static isError(t){return $e.isFragment(t)}static isEvent(t){return Hn.isFragment(t)}static isFunction(t){return jn.isFragment(t)}static isStruct(t){return ga.isFragment(t)}}class zc extends wa{constructor(e,n,a,i){super(e,n,i);z(this,"name");O(typeof a=="string"&&a.match(c4),"invalid identifier","name",a),i=Object.freeze(i.slice()),mt(this,{name:a})}}function B0(s,t){return"("+t.map(e=>e.format(s)).join(s==="full"?", ":",")+")"}class $e extends zc{constructor(t,e,n){super(t,"error",e,n),Object.defineProperty(this,hn,{value:b3})}get selector(){return bs(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const e=[];return t!=="sighash"&&e.push("error"),e.push(this.name+B0(t,this.inputs)),e.join(" ")}static from(t){if($e.isFragment(t))return t;if(typeof t=="string")return $e.from(gi(t));if(t instanceof ps){const e=cd("error",t),n=pa(t);return xr(t),new $e(ge,e,n)}return new $e(ge,t.name,t.inputs?t.inputs.map(Se.from):[])}static isFragment(t){return t&&t[hn]===b3}}class Hn extends zc{constructor(e,n,a,i){super(e,"event",n,a);z(this,"anonymous");Object.defineProperty(this,hn,{value:p3}),mt(this,{anonymous:i})}get topicHash(){return bs(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+B0(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>Se.from(i)),new Hn(ge,e,n,!1).topicHash}static from(e){if(Hn.isFragment(e))return e;if(typeof e=="string")try{return Hn.from(gi(e))}catch{O(!1,"invalid event fragment","obj",e)}else if(e instanceof ps){const n=cd("event",e),a=pa(e,!0),i=!!xa(e,tn(["anonymous"])).has("anonymous");return xr(e),new Hn(ge,n,a,i)}return new Hn(ge,e.name,e.inputs?e.inputs.map(n=>Se.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[hn]===p3}}class ds extends wa{constructor(e,n,a,i,r){super(e,n,a);z(this,"payable");z(this,"gas");Object.defineProperty(this,hn,{value:g3}),mt(this,{payable:i,gas:r})}format(e){if(Y(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});const n=[`constructor${B0(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(ds.isFragment(e))return e;if(typeof e=="string")try{return ds.from(gi(e))}catch{O(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof ps){xa(e,tn(["constructor"]));const n=pa(e),a=!!xa(e,oA).has("payable"),i=d4(e);return xr(e),new ds(ge,"constructor",n,a,i)}return new ds(ge,"constructor",e.inputs?e.inputs.map(Se.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[hn]===g3}}class cs extends wa{constructor(e,n,a){super(e,"fallback",n);z(this,"payable");Object.defineProperty(this,hn,{value:y3}),mt(this,{payable:a})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const a=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:a})}return`${n}()${this.payable?" payable":""}`}static from(e){if(cs.isFragment(e))return e;if(typeof e=="string")try{return cs.from(gi(e))}catch{O(!1,"invalid fallback fragment","obj",e)}else if(e instanceof ps){const n=e.toString(),a=e.peekKeyword(tn(["fallback","receive"]));if(O(a,"type must be fallback or receive","obj",n),e.popKeyword(tn(["fallback","receive"]))==="receive"){const f=pa(e);return O(f.length===0,"receive cannot have arguments","obj.inputs",f),xa(e,tn(["payable"])),xr(e),new cs(ge,[],!0)}let r=pa(e);r.length?O(r.length===1&&r[0].type==="bytes","invalid fallback inputs","obj.inputs",r.map(f=>f.format("minimal")).join(", ")):r=[Se.from("bytes")];const o=f4(e);if(O(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),xa(e,tn(["returns"])).has("returns")){const f=pa(e);O(f.length===1&&f[0].type==="bytes","invalid fallback outputs","obj.outputs",f.map(l=>l.format("minimal")).join(", "))}return xr(e),new cs(ge,r,o==="payable")}if(e.type==="receive")return new cs(ge,[],!0);if(e.type==="fallback"){const n=[Se.from("bytes")],a=e.stateMutability==="payable";return new cs(ge,n,a)}O(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[hn]===y3}}class jn extends zc{constructor(e,n,a,i,r,o){super(e,"function",n,i);z(this,"constant");z(this,"outputs");z(this,"stateMutability");z(this,"payable");z(this,"gas");Object.defineProperty(this,hn,{value:m3}),r=Object.freeze(r.slice()),mt(this,{constant:a==="view"||a==="pure",gas:o,outputs:r,payable:a==="payable",stateMutability:a})}get selector(){return bs(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(e))),outputs:this.outputs.map(a=>JSON.parse(a.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+B0(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(B0(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>Se.from(i)),new jn(ge,e,"view",n,[],null).selector}static from(e){if(jn.isFragment(e))return e;if(typeof e=="string")try{return jn.from(gi(e))}catch{O(!1,"invalid function fragment","obj",e)}else if(e instanceof ps){const a=cd("function",e),i=pa(e),r=f4(e);let o=[];xa(e,tn(["returns"])).has("returns")&&(o=pa(e));const f=d4(e);return xr(e),new jn(ge,a,r,i,o,f)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new jn(ge,e.name,n,e.inputs?e.inputs.map(Se.from):[],e.outputs?e.outputs.map(Se.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[hn]===m3}}class ga extends zc{constructor(t,e,n){super(t,"struct",e,n),Object.defineProperty(this,hn,{value:_3})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return ga.from(gi(t))}catch{O(!1,"invalid struct fragment","obj",t)}else if(t instanceof ps){const e=cd("struct",t),n=pa(t);return xr(t),new ga(ge,e,n)}return new ga(ge,t.name,t.inputs?t.inputs.map(Se.from):[])}static isFragment(t){return t&&t[hn]===_3}}const ms=new Map;ms.set(0,"GENERIC_PANIC");ms.set(1,"ASSERT_FALSE");ms.set(17,"OVERFLOW");ms.set(18,"DIVIDE_BY_ZERO");ms.set(33,"ENUM_RANGE_ERROR");ms.set(34,"BAD_STORAGE_DATA");ms.set(49,"STACK_UNDERFLOW");ms.set(50,"ARRAY_RANGE_ERROR");ms.set(65,"OUT_OF_MEMORY");ms.set(81,"UNINITIALIZED_FUNCTION_CALL");const mA=new RegExp(/^bytes([0-9]*)$/),_A=new RegExp(/^(u?int)([0-9]*)$/);let Yd=null,x3=1024;function xA(s,t,e,n){let a="missing revert data",i=null;const r=null;let o=null;if(e){a="execution reverted";const l=bt(e);if(e=ut(e),l.length===0)a+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)a+=" (could not decode reason; invalid data length)";else if(ut(l.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],l.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},a+=`: ${JSON.stringify(i)}`}catch{a+=" (could not decode reason; invalid string data)"}else if(ut(l.slice(0,4))==="0x4e487b71")try{const c=Number(n.decode(["uint256"],l.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[c]},i=`Panic due to ${ms.get(c)||"UNKNOWN"}(${c})`,a+=`: ${i}`}catch{a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}const f={to:t.to?jt(t.to):null,data:t.data||"0x"};return t.from&&(f.from=jt(t.from)),de(a,"CALL_EXCEPTION",{action:s,data:e,reason:i,transaction:f,invocation:r,revert:o})}var ja,Gr;const P1=class P1{constructor(){j(this,ja)}getDefaultValue(t){const e=t.map(a=>ct(this,ja,Gr).call(this,Se.from(a)));return new Zl(e,"_").defaultValue()}encode(t,e){j1(e.length,t.length,"types/values length mismatch");const n=t.map(r=>ct(this,ja,Gr).call(this,Se.from(r))),a=new Zl(n,"_"),i=new s2;return a.encode(i,e),i.data}decode(t,e,n){const a=t.map(r=>ct(this,ja,Gr).call(this,Se.from(r)));return new Zl(a,"_").decode(new a2(e,n,x3))}static _setDefaultMaxInflation(t){O(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),x3=t}static defaultAbiCoder(){return Yd==null&&(Yd=new P1),Yd}static getBuiltinCallException(t,e,n){return xA(t,e,n,P1.defaultAbiCoder())}};ja=new WeakSet,Gr=function(t){if(t.isArray())return new Mw(ct(this,ja,Gr).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new Zl(t.components.map(n=>ct(this,ja,Gr).call(this,n)),t.name);switch(t.baseType){case"address":return new kw(t.name);case"bool":return new Dw(t.name);case"string":return new Qw(t.name);case"bytes":return new zw(t.name);case"":return new Gw(t.name)}let e=t.type.match(_A);if(e){let n=parseInt(e[2]||"256");return O(n!==0&&n<=256&&n%8===0,"invalid "+e[1]+" bit length","param",t),new $w(n/8,e[1]==="int",t.name)}if(e=t.type.match(mA),e){let n=parseInt(e[1]);return O(n!==0&&n<=32,"invalid bytes length","param",t),new qw(n,t.name)}O(!1,"invalid type","type",t.type)};let ui=P1;function u4(s){const t=Pe(s);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hl(t,32)}function h4(s){const t=bt(s,"bytes");if(t.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(t[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let e=31;for(;t[e-1]===0;)e--;return ma(t.slice(0,e))}class W6{constructor(t,e,n){z(this,"fragment");z(this,"name");z(this,"signature");z(this,"topic");z(this,"args");const a=t.name,i=t.format();mt(this,{fragment:t,name:a,signature:i,topic:e,args:n})}}class Z6{constructor(t,e,n,a){z(this,"fragment");z(this,"name");z(this,"args");z(this,"signature");z(this,"selector");z(this,"value");const i=t.name,r=t.format();mt(this,{fragment:t,name:i,args:n,signature:r,selector:e,value:a})}}class X6{constructor(t,e,n){z(this,"fragment");z(this,"name");z(this,"args");z(this,"signature");z(this,"selector");const a=t.name,i=t.format();mt(this,{fragment:t,name:a,args:n,signature:i,selector:e})}}class e1{constructor(t){z(this,"hash");z(this,"_isIndexed");mt(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&&t._isIndexed)}}const w3={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},L3={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:s=>`reverted with reason string ${JSON.stringify(s)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:s=>{let t="unknown panic code";return s>=0&&s<=255&&w3[s.toString()]&&(t=w3[s.toString()]),`reverted with panic code 0x${s.toString(16)} (${t})`}}};var Bs,Ss,Os,He,zs,vf,Pf;const Ri=class Ri{constructor(t){j(this,zs);z(this,"fragments");z(this,"deploy");z(this,"fallback");z(this,"receive");j(this,Bs);j(this,Ss);j(this,Os);j(this,He);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,T(this,Os,new Map),T(this,Bs,new Map),T(this,Ss,new Map);const n=[];for(const r of e)try{n.push(wa.from(r))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(r)}:`,o.message)}mt(this,{fragments:Object.freeze(n)});let a=null,i=!1;T(this,He,this.getAbiCoder()),this.fragments.forEach((r,o)=>{let f;switch(r.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}mt(this,{deploy:r});return;case"fallback":r.inputs.length===0?i=!0:(O(!a||r.payable!==a.payable,"conflicting fallback fragments",`fragments[${o}]`,r),a=r,i=a.payable);return;case"function":f=L(this,Os);break;case"event":f=L(this,Ss);break;case"error":f=L(this,Bs);break;default:return}const l=r.format();f.has(l)||f.set(l,r)}),this.deploy||mt(this,{deploy:ds.from("constructor()")}),mt(this,{fallback:a,receive:i})}format(t){const e=t?"minimal":"full";return this.fragments.map(a=>a.format(e))}formatJson(){const t=this.fragments.map(e=>e.format("json"));return JSON.stringify(t.map(e=>JSON.parse(e)))}getAbiCoder(){return ui.defaultAbiCoder()}getFunctionName(t){const e=ct(this,zs,vf).call(this,t,null,!1);return O(e,"no matching function","key",t),e.name}hasFunction(t){return!!ct(this,zs,vf).call(this,t,null,!1)}getFunction(t,e){return ct(this,zs,vf).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(L(this,Os).keys());e.sort((n,a)=>n.localeCompare(a));for(let n=0;n<e.length;n++){const a=e[n];t(L(this,Os).get(a),n)}}getEventName(t){const e=ct(this,zs,Pf).call(this,t,null,!1);return O(e,"no matching event","key",t),e.name}hasEvent(t){return!!ct(this,zs,Pf).call(this,t,null,!1)}getEvent(t,e){return ct(this,zs,Pf).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(L(this,Ss).keys());e.sort((n,a)=>n.localeCompare(a));for(let n=0;n<e.length;n++){const a=e[n];t(L(this,Ss).get(a),n)}}getError(t,e){if(ce(t)){const a=t.toLowerCase();if(L3[a])return $e.from(L3[a].signature);for(const i of L(this,Bs).values())if(a===i.selector)return i;return null}if(t.indexOf("(")===-1){const a=[];for(const[i,r]of L(this,Bs))i.split("(")[0]===t&&a.push(r);if(a.length===0)return t==="Error"?$e.from("error Error(string)"):t==="Panic"?$e.from("error Panic(uint256)"):null;if(a.length>1){const i=a.map(r=>JSON.stringify(r.format())).join(", ");O(!1,`ambiguous error description (i.e. ${i})`,"name",t)}return a[0]}if(t=$e.from(t).format(),t==="Error(string)")return $e.from("error Error(string)");if(t==="Panic(uint256)")return $e.from("error Panic(uint256)");const n=L(this,Bs).get(t);return n||null}forEachError(t){const e=Array.from(L(this,Bs).keys());e.sort((n,a)=>n.localeCompare(a));for(let n=0;n<e.length;n++){const a=e[n];t(L(this,Bs).get(a),n)}}_decodeParams(t,e){return L(this,He).decode(t,e)}_encodeParams(t,e){return L(this,He).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);O(n,"unknown error","fragment",t),t=n}return O(ue(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,ue(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const n=this.getError(t);O(n,"unknown error","fragment",t),t=n}return Wt([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);O(n,"unknown function","fragment",t),t=n}return O(ue(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,ue(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const n=this.getFunction(t);O(n,"unknown function","fragment",t),t=n}return Wt([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const i=this.getFunction(t);O(i,"unknown function","fragment",t),t=i}let n="invalid length for result data";const a=Be(e);if(a.length%32===0)try{return L(this,He).decode(t.outputs,a)}catch{n="could not decode result data"}Y(!1,n,"BAD_DATA",{value:ut(a),info:{method:t.name,signature:t.format()}})}makeError(t,e){const n=bt(t,"data"),a=ui.getBuiltinCallException("call",e,n);if(a.message.startsWith("execution reverted (unknown custom error)")){const o=ut(n.slice(0,4)),f=this.getError(o);if(f)try{const l=L(this,He).decode(f.inputs,n.slice(4));a.revert={name:f.name,signature:f.format(),args:l},a.reason=a.revert.signature,a.message=`execution reverted: ${a.reason}`}catch{a.message="execution reverted (coult not decode custom error)"}}const r=this.parseTransaction(e);return r&&(a.invocation={method:r.name,signature:r.signature,args:r.args}),a}encodeFunctionResult(t,e){if(typeof t=="string"){const n=this.getFunction(t);O(n,"unknown function","fragment",t),t=n}return ut(L(this,He).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const i=this.getEvent(t);O(i,"unknown event","eventFragment",t),t=i}Y(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const a=(i,r)=>i.type==="string"?bs(r):i.type==="bytes"?oe(ut(r)):(i.type==="bool"&&typeof r=="boolean"?r=r?"0x01":"0x00":i.type.match(/^u?int/)?r=hs(r):i.type.match(/^bytes/)?r=hl(r,32):i.type==="address"&&L(this,He).encode(["address"],[r]),un(ut(r),32));for(e.forEach((i,r)=>{const o=t.inputs[r];if(!o.indexed){O(i==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?O(!1,"filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?n.push(i.map(f=>a(o,f))):n.push(a(o,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,e){if(typeof t=="string"){const r=this.getEvent(t);O(r,"unknown event","eventFragment",t),t=r}const n=[],a=[],i=[];return t.anonymous||n.push(t.topicHash),O(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((r,o)=>{const f=e[o];if(r.indexed)if(r.type==="string")n.push(bs(f));else if(r.type==="bytes")n.push(oe(f));else{if(r.baseType==="tuple"||r.baseType==="array")throw new Error("not implemented");n.push(L(this,He).encode([r.type],[f]))}else a.push(r),i.push(f)}),{data:L(this,He).encode(a,i),topics:n}}decodeEventLog(t,e,n){if(typeof t=="string"){const p=this.getEvent(t);O(p,"unknown event","eventFragment",t),t=p}if(n!=null&&!t.anonymous){const p=t.topicHash;O(ce(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const a=[],i=[],r=[];t.inputs.forEach((p,C)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(a.push(Se.from({type:"bytes32",name:p.name})),r.push(!0)):(a.push(p),r.push(!1)):(i.push(p),r.push(!1))});const o=n!=null?L(this,He).decode(a,Wt(n)):null,f=L(this,He).decode(i,e,!0),l=[],c=[];let h=0,m=0;return t.inputs.forEach((p,C)=>{let A=null;if(p.indexed)if(o==null)A=new e1(null);else if(r[C])A=new e1(o[m++]);else try{A=o[m++]}catch(w){A=w}else try{A=f[h++]}catch(w){A=w}l.push(A),c.push(p.name||null)}),fi.fromItems(l,c)}parseTransaction(t){const e=bt(t.data,"tx.data"),n=wt(t.value!=null?t.value:0,"tx.value"),a=this.getFunction(ut(e.slice(0,4)));if(!a)return null;const i=L(this,He).decode(a.inputs,e.slice(4));return new Z6(a,a.selector,i,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new W6(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=ut(t),n=this.getError(ue(e,0,4));if(!n)return null;const a=L(this,He).decode(n.inputs,ue(e,4));return new X6(n,n.selector,a)}static from(t){return t instanceof Ri?t:typeof t=="string"?new Ri(JSON.parse(t)):typeof t.formatJson=="function"?new Ri(t.formatJson()):typeof t.format=="function"?new Ri(t.format("json")):new Ri(t)}};Bs=new WeakMap,Ss=new WeakMap,Os=new WeakMap,He=new WeakMap,zs=new WeakSet,vf=function(t,e,n){if(ce(t)){const i=t.toLowerCase();for(const r of L(this,Os).values())if(i===r.selector)return r;return null}if(t.indexOf("(")===-1){const i=[];for(const[r,o]of L(this,Os))r.split("(")[0]===t&&i.push(o);if(e){const r=e.length>0?e[e.length-1]:null;let o=e.length,f=!0;ke.isTyped(r)&&r.type==="overrides"&&(f=!1,o--);for(let l=i.length-1;l>=0;l--){const c=i[l].inputs.length;c!==o&&(!f||c!==o-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const c=i[l].inputs;for(let h=0;h<e.length;h++)if(ke.isTyped(e[h])){if(h>=c.length){if(e[h].type==="overrides")continue;i.splice(l,1);break}if(e[h].type!==c[h].baseType){i.splice(l,1);break}}}}if(i.length===1&&e&&e.length!==i[0].inputs.length){const r=e[e.length-1];(r==null||Array.isArray(r)||typeof r!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const r=i.map(o=>JSON.stringify(o.format())).join(", ");O(!1,`ambiguous function description (i.e. matches ${r})`,"key",t)}return i[0]}const a=L(this,Os).get(jn.from(t).format());return a||null},Pf=function(t,e,n){if(ce(t)){const i=t.toLowerCase();for(const r of L(this,Ss).values())if(i===r.topicHash)return r;return null}if(t.indexOf("(")===-1){const i=[];for(const[r,o]of L(this,Ss))r.split("(")[0]===t&&i.push(o);if(e){for(let r=i.length-1;r>=0;r--)i[r].inputs.length<e.length&&i.splice(r,1);for(let r=i.length-1;r>=0;r--){const o=i[r].inputs;for(let f=0;f<e.length;f++)if(ke.isTyped(e[f])&&e[f].type!==o[f].baseType){i.splice(r,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const r=i.map(o=>JSON.stringify(o.format())).join(", ");O(!1,`ambiguous event description (i.e. matches ${r})`,"key",t)}return i[0]}const a=L(this,Ss).get(Hn.from(t).format());return a||null};let bc=Ri;const b4=BigInt(0);function no(s){return s??null}function xe(s){return s==null?null:s.toString()}class n1{constructor(t,e,n){z(this,"gasPrice");z(this,"maxFeePerGas");z(this,"maxPriorityFeePerGas");mt(this,{gasPrice:no(t),maxFeePerGas:no(e),maxPriorityFeePerGas:no(n)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:xe(t),maxFeePerGas:xe(e),maxPriorityFeePerGas:xe(n)}}}function wr(s){const t={};s.to&&(t.to=s.to),s.from&&(t.from=s.from),s.data&&(t.data=ut(s.data));const e="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const a of e)!(a in s)||s[a]==null||(t[a]=wt(s[a],`request.${a}`));const n="type,nonce".split(/,/);for(const a of n)!(a in s)||s[a]==null||(t[a]=St(s[a],`request.${a}`));return s.accessList&&(t.accessList=js(s.accessList)),s.authorizationList&&(t.authorizationList=s.authorizationList.slice()),"blockTag"in s&&(t.blockTag=s.blockTag),"enableCcipRead"in s&&(t.enableCcipRead=!!s.enableCcipRead),"customData"in s&&(t.customData=s.customData),"blobVersionedHashes"in s&&s.blobVersionedHashes&&(t.blobVersionedHashes=s.blobVersionedHashes.slice()),"kzg"in s&&(t.kzg=s.kzg),"blobWrapperVersion"in s&&(t.blobWrapperVersion=s.blobWrapperVersion),"blobs"in s&&s.blobs&&(t.blobs=s.blobs.map(a=>Fc(a)?ut(a):Object.assign({},a))),t}var ia;class Y6{constructor(t,e){z(this,"provider");z(this,"number");z(this,"hash");z(this,"timestamp");z(this,"parentHash");z(this,"parentBeaconBlockRoot");z(this,"nonce");z(this,"difficulty");z(this,"gasLimit");z(this,"gasUsed");z(this,"stateRoot");z(this,"receiptsRoot");z(this,"blobGasUsed");z(this,"excessBlobGas");z(this,"miner");z(this,"prevRandao");z(this,"extraData");z(this,"baseFeePerGas");j(this,ia);T(this,ia,t.transactions.map(n=>typeof n!="string"?new Lr(n,e):n)),mt(this,{provider:e,hash:no(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:no(t.prevRandao),extraData:t.extraData,baseFeePerGas:no(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return L(this,ia).map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=L(this,ia).slice();return t.length===0?[]:(Y(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:n,gasLimit:a,gasUsed:i,hash:r,miner:o,prevRandao:f,nonce:l,number:c,parentHash:h,parentBeaconBlockRoot:m,stateRoot:p,receiptsRoot:C,timestamp:A,transactions:w}=this;return{_type:"Block",baseFeePerGas:xe(t),difficulty:xe(e),extraData:n,gasLimit:xe(a),gasUsed:xe(i),blobGasUsed:xe(this.blobGasUsed),excessBlobGas:xe(this.excessBlobGas),hash:r,miner:o,prevRandao:f,nonce:l,number:c,parentHash:h,timestamp:A,parentBeaconBlockRoot:m,stateRoot:p,receiptsRoot:C,transactions:w}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return L(this,ia).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=L(this,ia)[t];else{const n=t.toLowerCase();for(const a of L(this,ia))if(typeof a=="string"){if(a!==n)continue;e=a;break}else{if(a.hash!==n)continue;e=a;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const n of e)if(n.hash===t)return n;O(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return wA(this)}}ia=new WeakMap;class Fr{constructor(t,e){z(this,"provider");z(this,"transactionHash");z(this,"blockHash");z(this,"blockNumber");z(this,"removed");z(this,"address");z(this,"data");z(this,"topics");z(this,"index");z(this,"transactionIndex");this.provider=e;const n=Object.freeze(t.topics.slice());mt(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:n,data:a,index:i,removed:r,topics:o,transactionHash:f,transactionIndex:l}=this;return{_type:"log",address:t,blockHash:e,blockNumber:n,data:a,index:i,removed:r,topics:o,transactionHash:f,transactionIndex:l}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return Y(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return Y(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return Y(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return LA(this)}}var H0;class ld{constructor(t,e){z(this,"provider");z(this,"to");z(this,"from");z(this,"contractAddress");z(this,"hash");z(this,"index");z(this,"blockHash");z(this,"blockNumber");z(this,"logsBloom");z(this,"gasUsed");z(this,"blobGasUsed");z(this,"cumulativeGasUsed");z(this,"gasPrice");z(this,"blobGasPrice");z(this,"type");z(this,"status");z(this,"root");j(this,H0);T(this,H0,Object.freeze(t.logs.map(a=>new Fr(a,e))));let n=b4;t.effectiveGasPrice!=null?n=t.effectiveGasPrice:t.gasPrice!=null&&(n=t.gasPrice),mt(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:n,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return L(this,H0)}toJSON(){const{to:t,from:e,contractAddress:n,hash:a,index:i,blockHash:r,blockNumber:o,logsBloom:f,logs:l,status:c,root:h}=this;return{_type:"TransactionReceipt",blockHash:r,blockNumber:o,contractAddress:n,cumulativeGasUsed:xe(this.cumulativeGasUsed),from:e,gasPrice:xe(this.gasPrice),blobGasUsed:xe(this.blobGasUsed),blobGasPrice:xe(this.blobGasPrice),gasUsed:xe(this.gasUsed),hash:a,index:i,logs:l,logsBloom:f,root:h,status:c,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return g4(this)}reorderedEvent(t){return Y(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),p4(this,t)}}H0=new WeakMap;var Ka;const Q5=class Q5{constructor(t,e){z(this,"provider");z(this,"blockNumber");z(this,"blockHash");z(this,"index");z(this,"hash");z(this,"type");z(this,"to");z(this,"from");z(this,"nonce");z(this,"gasLimit");z(this,"gasPrice");z(this,"maxPriorityFeePerGas");z(this,"maxFeePerGas");z(this,"maxFeePerBlobGas");z(this,"data");z(this,"value");z(this,"chainId");z(this,"signature");z(this,"accessList");z(this,"blobVersionedHashes");z(this,"authorizationList");j(this,Ka);this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.authorizationList=t.authorizationList!=null?t.authorizationList:null,T(this,Ka,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:n,hash:a,type:i,to:r,from:o,nonce:f,data:l,signature:c,accessList:h,blobVersionedHashes:m}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:t,blockHash:e,blobVersionedHashes:m,chainId:xe(this.chainId),data:l,from:o,gasLimit:xe(this.gasLimit),gasPrice:xe(this.gasPrice),hash:a,maxFeePerGas:xe(this.maxFeePerGas),maxPriorityFeePerGas:xe(this.maxPriorityFeePerGas),maxFeePerBlobGas:xe(this.maxFeePerBlobGas),nonce:f,signature:c,to:r,index:n,type:i,value:xe(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const n=await this.getTransaction();n&&(t=n.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:n}=await Te({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:n-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const n=t??1,a=e??0;let i=L(this,Ka),r=-1,o=i===-1;const f=async()=>{if(o)return null;const{blockNumber:m,nonce:p}=await Te({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=m;return}if(o)return null;const C=await this.getTransaction();if(!(C&&C.blockNumber!=null))for(r===-1&&(r=i-3,r<L(this,Ka)&&(r=L(this,Ka)));r<=m;){if(o)return null;const A=await this.provider.getBlock(r,!0);if(A==null)return;for(const w of A)if(w===this.hash)return;for(let w=0;w<A.length;w++){const I=await A.getTransaction(w);if(I.from===this.from&&I.nonce===this.nonce){if(o)return null;const v=await this.provider.getTransactionReceipt(I.hash);if(v==null||m-v.blockNumber+1<n)return;let F="replaced";I.data===this.data&&I.to===this.to&&I.value===this.value?F="repriced":I.data==="0x"&&I.from===I.to&&I.value===b4&&(F="cancelled"),Y(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:F==="replaced"||F==="cancelled",reason:F,replacement:I.replaceableTransaction(i),hash:I.hash,receipt:v})}}r++}},l=m=>{if(m==null||m.status!==0)return m;Y(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:m.to,from:m.from,data:""},receipt:m})},c=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(c);if(c){if(n===1||await c.confirmations()>=n)return l(c)}else if(await f(),n===0)return null;return await new Promise((m,p)=>{const C=[],A=()=>{C.forEach(I=>I())};if(C.push(()=>{o=!0}),a>0){const I=setTimeout(()=>{A(),p(de("wait for transaction timeout","TIMEOUT"))},a);C.push(()=>{clearTimeout(I)})}const w=async I=>{if(await I.confirmations()>=n){A();try{m(l(I))}catch(v){p(v)}}};if(C.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),i>=0){const I=async()=>{try{await f()}catch(v){if(me(v,"TRANSACTION_REPLACED")){A(),p(v);return}}o||this.provider.once("block",I)};C.push(()=>{this.provider.off("block",I)}),this.provider.once("block",I)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Y(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),g4(this)}reorderedEvent(t){return Y(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Y(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),p4(this,t)}replaceableTransaction(t){O(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new Q5(this,this.provider);return T(e,Ka,t),e}};Ka=new WeakMap;let Lr=Q5;function wA(s){return{orphan:"drop-block",hash:s.hash,number:s.number}}function p4(s,t){return{orphan:"reorder-transaction",tx:s,other:t}}function g4(s){return{orphan:"drop-transaction",tx:s}}function LA(s){return{orphan:"drop-log",log:{transactionHash:s.transactionHash,blockHash:s.blockHash,blockNumber:s.blockNumber,address:s.address,data:s.data,topics:Object.freeze(s.topics.slice()),index:s.index}}}class yl extends Fr{constructor(e,n,a){super(e,e.provider);z(this,"interface");z(this,"fragment");z(this,"args");const i=n.decodeEventLog(a,e.data,e.topics);mt(this,{args:i,fragment:a,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class fd extends Fr{constructor(e,n){super(e,e.provider);z(this,"error");mt(this,{error:n})}}var Oo;class t5 extends ld{constructor(e,n,a){super(a,n);j(this,Oo);T(this,Oo,e)}get logs(){return super.logs.map(e=>{const n=e.topics.length?L(this,Oo).getEvent(e.topics[0]):null;if(n)try{return new yl(e,L(this,Oo),n)}catch(a){return new fd(e,a)}return e})}}Oo=new WeakMap;var j0;class ml extends Lr{constructor(e,n,a){super(a,n);j(this,j0);T(this,j0,e)}async wait(e,n){const a=await super.wait(e,n);return a==null?null:new t5(L(this,j0),this.provider,a)}}j0=new WeakMap;class dd extends Q1{constructor(e,n,a,i){super(e,n,a);z(this,"log");mt(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class e5 extends dd{constructor(t,e,n,a,i){super(t,e,n,new yl(i,t.interface,a));const r=t.interface.decodeEventLog(a,this.log.data,this.log.topics);mt(this,{args:r,fragment:a})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const A3=BigInt(0);function y4(s){return s&&typeof s.call=="function"}function m4(s){return s&&typeof s.estimateGas=="function"}function ud(s){return s&&typeof s.resolveName=="function"}function _4(s){return s&&typeof s.sendTransaction=="function"}function x4(s){if(s!=null){if(ud(s))return s;if(s.provider)return s.provider}}var K0;class AA{constructor(t,e,n){j(this,K0);z(this,"fragment");if(mt(this,{fragment:e}),e.inputs.length<n.length)throw new Error("too many arguments");const a=Ar(t.runner,"resolveName"),i=ud(a)?a:null;T(this,K0,async function(){const r=await Promise.all(e.inputs.map((o,f)=>n[f]==null?null:o.walkAsync(n[f],(c,h)=>c==="address"?Array.isArray(h)?Promise.all(h.map(m=>ve(m,i))):ve(h,i):h)));return t.interface.encodeFilterTopics(e,r)}())}getTopicFilter(){return L(this,K0)}}K0=new WeakMap;function Ar(s,t){return s==null?null:typeof s[t]=="function"?s:s.provider&&typeof s.provider[t]=="function"?s.provider:null}function Di(s){return s==null?null:s.provider||null}async function n5(s,t){const e=ke.dereference(s,"overrides");O(typeof e=="object","invalid overrides parameter","overrides",s);const n=wr(e);return O(n.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),O(n.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function w4(s,t,e){const n=Ar(s,"resolveName"),a=ud(n)?n:null;return await Promise.all(t.map((i,r)=>i.walkAsync(e[r],(o,f)=>(f=ke.dereference(f,o),o==="address"?ve(f,a):f))))}function EA(s){const t=async function(r){const o=await n5(r,["data"]);o.to=await s.getAddress(),o.from&&(o.from=await ve(o.from,x4(s.runner)));const f=s.interface,l=wt(o.value||A3,"overrides.value")===A3,c=(o.data||"0x")==="0x";f.fallback&&!f.fallback.payable&&f.receive&&!c&&!l&&O(!1,"cannot send data to receive or send value to non-payable fallback","overrides",r),O(f.fallback||c,"cannot send data to receive-only contract","overrides.data",o.data);const h=f.receive||f.fallback&&f.fallback.payable;return O(h||l,"cannot send value to non-payable fallback","overrides.value",o.value),O(f.fallback||c,"cannot send data to receive-only contract","overrides.data",o.data),o},e=async function(r){const o=Ar(s.runner,"call");Y(y4(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await t(r);try{return await o.call(f)}catch(l){throw ul(l)&&l.data?s.interface.makeError(l.data,f):l}},n=async function(r){const o=s.runner;Y(_4(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await o.sendTransaction(await t(r)),l=Di(s.runner);return new ml(s.interface,l,f)},a=async function(r){const o=Ar(s.runner,"estimateGas");return Y(m4(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await t(r))},i=async r=>await n(r);return mt(i,{_contract:s,estimateGas:a,populateTransaction:t,send:n,staticCall:e}),i}function CA(s,t){const e=function(...l){const c=s.interface.getFunction(t,l);return Y(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:l}}),c},n=async function(...l){const c=e(...l);let h={};if(c.inputs.length+1===l.length&&(h=await n5(l.pop()),h.from&&(h.from=await ve(h.from,x4(s.runner)))),c.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const m=await w4(s.runner,c.inputs,l);return Object.assign({},h,await Te({to:s.getAddress(),data:s.interface.encodeFunctionData(c,m)}))},a=async function(...l){const c=await o(...l);return c.length===1?c[0]:c},i=async function(...l){const c=s.runner;Y(_4(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await c.sendTransaction(await n(...l)),m=Di(s.runner);return new ml(s.interface,m,h)},r=async function(...l){const c=Ar(s.runner,"estimateGas");return Y(m4(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await n(...l))},o=async function(...l){const c=Ar(s.runner,"call");Y(y4(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await n(...l);let m="0x";try{m=await c.call(h)}catch(C){throw ul(C)&&C.data?s.interface.makeError(C.data,h):C}const p=e(...l);return s.interface.decodeFunctionResult(p,m)},f=async(...l)=>e(...l).constant?await a(...l):await i(...l);return mt(f,{name:s.interface.getFunctionName(t),_contract:s,_key:t,getFragment:e,estimateGas:r,populateTransaction:n,send:i,staticCall:a,staticCallResult:o}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=s.interface.getFunction(t);return Y(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),l}}),f}function vA(s,t){const e=function(...a){const i=s.interface.getEvent(t,a);return Y(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:a}}),i},n=function(...a){return new AA(s,e(...a),a)};return mt(n,{name:s.interface.getEventName(t),_contract:s,_key:t,getFragment:e}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const a=s.interface.getEvent(t);return Y(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),a}}),n}const s1=Symbol.for("_ethersInternal_contract"),L4=new WeakMap;function PA(s,t){L4.set(s[s1],t)}function mn(s){return L4.get(s[s1])}function IA(s){return s&&typeof s=="object"&&"getTopicFilter"in s&&typeof s.getTopicFilter=="function"&&s.fragment}async function s5(s,t){let e,n=null;if(Array.isArray(t)){const i=function(r){if(ce(r,32))return r;const o=s.interface.getEvent(r);return O(o,"unknown fragment","name",r),o.topicHash};e=t.map(r=>r==null?null:Array.isArray(r)?r.map(i):i(r))}else t==="*"?e=[null]:typeof t=="string"?ce(t,32)?e=[t]:(n=s.interface.getEvent(t),O(n,"unknown fragment","event",t),e=[n.topicHash]):IA(t)?e=await t.getTopicFilter():"fragment"in t?(n=t.fragment,e=[n.topicHash]):O(!1,"unknown event name","event",t);e=e.map(i=>{if(i==null)return null;if(Array.isArray(i)){const r=Array.from(new Set(i.map(o=>o.toLowerCase())).values());return r.length===1?r[0]:(r.sort(),r)}return i.toLowerCase()});const a=e.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:a,topics:e}}async function r0(s,t){const{subs:e}=mn(s);return e.get((await s5(s,t)).tag)||null}async function E3(s,t,e){const n=Di(s.runner);Y(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:a,tag:i,topics:r}=await s5(s,e),{addr:o,subs:f}=mn(s);let l=f.get(i);if(!l){const h={address:o||s,topics:r},m=w=>{let I=a;if(I==null)try{I=s.interface.getEvent(w.topics[0])}catch{}if(I){const v=I,F=a?s.interface.decodeEventLog(a,w.data,w.topics):[];_2(s,e,F,S=>new e5(s,S,e,v,w))}else _2(s,e,[],v=>new dd(s,v,e,w))};let p=[];l={tag:i,listeners:[],start:()=>{p.length||p.push(n.on(h,m))},stop:async()=>{if(p.length==0)return;let w=p;p=[],await Promise.all(w),n.off(h,m)}},f.set(i,l)}return l}let m2=Promise.resolve();async function TA(s,t,e,n){await m2;const a=await r0(s,t);if(!a)return!1;const i=a.listeners.length;return a.listeners=a.listeners.filter(({listener:r,once:o})=>{const f=Array.from(e);n&&f.push(n(o?null:r));try{r.call(s,...f)}catch{}return!o}),a.listeners.length===0&&(a.stop(),mn(s).subs.delete(a.tag)),i>0}async function _2(s,t,e,n){try{await m2}catch{}const a=TA(s,t,e,n);return m2=a,await a}const Yl=["then"];var W8;W8=s1;const w0=class w0{constructor(t,e,n,a){z(this,"target");z(this,"interface");z(this,"runner");z(this,"filters");z(this,W8);z(this,"fallback");O(typeof t=="string"||Y1(t),"invalid value for Contract target","target",t),n==null&&(n=null);const i=bc.from(e);mt(this,{target:t,runner:n,interface:i}),Object.defineProperty(this,s1,{value:{}});let r,o=null,f=null;if(a){const h=Di(n);f=new ml(this.interface,h,a)}let l=new Map;if(typeof t=="string")if(ce(t))o=t,r=Promise.resolve(t);else{const h=Ar(n,"resolveName");if(!ud(h))throw de("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});r=h.resolveName(t).then(m=>{if(m==null)throw de("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return mn(this).addr=m,m})}else r=t.getAddress().then(h=>{if(h==null)throw new Error("TODO");return mn(this).addr=h,h});PA(this,{addrPromise:r,addr:o,deployTx:f,subs:l});const c=new Proxy({},{get:(h,m,p)=>{if(typeof m=="symbol"||Yl.indexOf(m)>=0)return Reflect.get(h,m,p);try{return this.getEvent(m)}catch(C){if(!me(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(h,m)=>Yl.indexOf(m)>=0?Reflect.has(h,m):Reflect.has(h,m)||this.interface.hasEvent(String(m))});return mt(this,{filters:c}),mt(this,{fallback:i.receive||i.fallback?EA(this):null}),new Proxy(this,{get:(h,m,p)=>{if(typeof m=="symbol"||m in h||Yl.indexOf(m)>=0)return Reflect.get(h,m,p);try{return h.getFunction(m)}catch(C){if(!me(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(h,m)=>typeof m=="symbol"||m in h||Yl.indexOf(m)>=0?Reflect.has(h,m):h.interface.hasFunction(m)})}connect(t){return new w0(this.target,this.interface,t)}attach(t){return new w0(t,this.interface,this.runner)}async getAddress(){return await mn(this).addrPromise}async getDeployedCode(){const t=Di(this.runner);Y(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Di(this.runner);return Y(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((a,i)=>{const r=async()=>{try{if(await this.getDeployedCode()!=null)return a(this);n.once("block",r)}catch(o){i(o)}};r()})}deploymentTransaction(){return mn(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),CA(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),vA(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,n){e==null&&(e=0),n==null&&(n="latest");const{addr:a,addrPromise:i}=mn(this),r=a||await i,{fragment:o,topics:f}=await s5(this,t),l={address:r,topics:f,fromBlock:e,toBlock:n},c=Di(this.runner);return Y(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map(h=>{let m=o;if(m==null)try{m=this.interface.getEvent(h.topics[0])}catch{}if(m)try{return new yl(h,this.interface,m)}catch(p){return new fd(h,p)}return new Fr(h,c)})}async on(t,e){const n=await E3(this,"on",t);return n.listeners.push({listener:e,once:!1}),n.start(),this}async once(t,e){const n=await E3(this,"once",t);return n.listeners.push({listener:e,once:!0}),n.start(),this}async emit(t,...e){return await _2(this,t,e,null)}async listenerCount(t){if(t){const a=await r0(this,t);return a?a.listeners.length:0}const{subs:e}=mn(this);let n=0;for(const{listeners:a}of e.values())n+=a.length;return n}async listeners(t){if(t){const a=await r0(this,t);return a?a.listeners.map(({listener:i})=>i):[]}const{subs:e}=mn(this);let n=[];for(const{listeners:a}of e.values())n=n.concat(a.map(({listener:i})=>i));return n}async off(t,e){const n=await r0(this,t);if(!n)return this;if(e){const a=n.listeners.map(({listener:i})=>i).indexOf(e);a>=0&&n.listeners.splice(a,1)}return(e==null||n.listeners.length===0)&&(n.stop(),mn(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const e=await r0(this,t);if(!e)return this;e.stop(),mn(this).subs.delete(e.tag)}else{const{subs:e}=mn(this);for(const{tag:n,stop:a}of e.values())a(),e.delete(n)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends w0{constructor(a,i=null){super(a,t,i)}}return e}static from(t,e,n){return n==null&&(n=null),new this(t,e,n)}};let Er=w0;function BA(){return Er}class li extends BA(){}class hd{constructor(t,e,n){z(this,"interface");z(this,"bytecode");z(this,"runner");const a=bc.from(t);e instanceof Uint8Array||(typeof e=="object"&&(e=e.object),e.startsWith("0x")||(e="0x"+e)),e=ut(bt(e)),mt(this,{bytecode:e,interface:a,runner:n||null})}attach(t){return new Er(t,this.interface,this.runner)}async getDeployTransaction(...t){let e={};const n=this.interface.deploy;if(n.inputs.length+1===t.length&&(e=await n5(t.pop())),n.inputs.length!==t.length)throw new Error("incorrect number of arguments to constructor");const a=await w4(this.runner,n.inputs,t),i=Wt([this.bytecode,this.interface.encodeDeploy(a)]);return Object.assign({},e,{data:i})}async deploy(...t){const e=await this.getDeployTransaction(...t);Y(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await this.runner.sendTransaction(e),a=X1(n);return new Er(a,this.interface,this.runner,n)}connect(t){return new hd(this.interface,this.bytecode,t)}static fromSolidity(t,e){O(t!=null,"bad compiler output","output",t),typeof t=="string"&&(t=JSON.parse(t));const n=t.abi;let a="";return t.bytecode?a=t.bytecode:t.evm&&t.evm.bytecode&&(a=t.evm.bytecode),new this(n,a,e)}}function tu(s){return s.match(/^ipfs:\/\/ipfs\//i)?s=s.substring(12):s.match(/^ipfs:\/\//i)?s=s.substring(7):O(!1,"unsupported IPFS format","link",s),`https://gateway.ipfs.io/ipfs/${s}`}class a5{constructor(t){z(this,"name");mt(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const A4=new RegExp("^(ipfs)://(.*)$","i"),C3=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),A4,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var $a,Xi,Qa,Hr,I1,E4;const Zr=class Zr{constructor(t,e,n){j(this,Qa);z(this,"provider");z(this,"address");z(this,"name");j(this,$a);j(this,Xi);mt(this,{provider:t,address:e,name:n}),T(this,$a,null),T(this,Xi,new li(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return L(this,$a)==null&&T(this,$a,(async()=>{try{return await L(this,Xi).supportsInterface("0x9061b923")}catch(t){if(me(t,"CALL_EXCEPTION"))return!1;throw T(this,$a,null),t}})()),await L(this,$a)}async getAddress(t){if(t==null&&(t=60),t===60)try{const i=await ct(this,Qa,Hr).call(this,"addr(bytes32)");return i==null||i===_r?null:i}catch(i){if(me(i,"CALL_EXCEPTION"))return null;throw i}if(t>=0&&t<2147483648){let i=t+2147483648;const r=await ct(this,Qa,Hr).call(this,"addr(bytes32,uint)",[i]);if(ce(r,20))return jt(r)}let e=null;for(const i of this.provider.plugins)if(i instanceof a5&&i.supportsCoinType(t)){e=i;break}if(e==null)return null;const n=await ct(this,Qa,Hr).call(this,"addr(bytes32,uint)",[t]);if(n==null||n==="0x")return null;const a=await e.decodeAddress(t,n);if(a!=null)return a;Y(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:n}})}async getText(t){const e=await ct(this,Qa,Hr).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await ct(this,Qa,Hr).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const a=e[1]==="e3010170"?"ipfs":"ipns",i=parseInt(e[4],16);if(e[5].length===i*2)return`${a}://${$1("0x"+e[2])}`}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;Y(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let n=0;n<C3.length;n++){const a=e.match(C3[n]);if(a==null)continue;const i=a[1].toLowerCase();switch(i){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const r=tu(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:r}),{linkage:t,url:r}}case"erc721":case"erc1155":{const r=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:i,value:e});const o=await this.getAddress();if(o==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const f=(a[2]||"").split("/");if(f.length!==2)return t.push({type:`!${i}caip`,value:a[2]||""}),{url:null,linkage:t};const l=f[1],c=new li(f[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const A=await c.ownerOf(l);if(o!==A)return t.push({type:"!owner",value:A}),{url:null,linkage:t};t.push({type:"owner",value:A})}else if(i==="erc1155"){const A=await c.balanceOf(o,l);if(!A)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:A.toString()})}let h=await c[r](l);if(h==null||h==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:h}),i==="erc1155"&&(h=h.replace("{id}",hs(l,32).substring(2)),t.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=tu(h)),t.push({type:"metadata-url",value:h});let m={};const p=await new Oe(h).send();p.assertOk();try{m=p.bodyJson}catch{try{t.push({type:"!metadata",value:p.bodyText})}catch{const I=p.body;return I&&t.push({type:"!metadata",value:ut(I)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!m)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(m)});let C=m.image;if(typeof C!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!C.match(/^(https:\/\/|data:)/i)){if(C.match(A4)==null)return t.push({type:"!imageUrl-ipfs",value:C}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:C}),C=tu(C)}return t.push({type:"url",value:C}),{linkage:t,url:C}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),n=e.getPlugin("org.ethers.plugins.network.Ens");return Y(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),n.address}static async fromName(t,e){var a;let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const i=await ct(a=Zr,I1,E4).call(a,t,n);if(i!=null){const r=new Zr(t,i,e);return n!==e&&!await r.supportsWildcard()?null:r}n=n.split(".").slice(1).join(".")}}};$a=new WeakMap,Xi=new WeakMap,Qa=new WeakSet,Hr=async function(t,e){e=(e||[]).slice();const n=L(this,Xi).interface;e.unshift(T0(this.name));let a=null;await this.supportsWildcard()&&(a=n.getFunction(t),Y(a,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[J6(this.name,255),n.encodeFunctionData(a,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const i=await L(this,Xi)[t](...e);return a?n.decodeFunctionResult(a,i)[0]:i}catch(i){if(!me(i,"CALL_EXCEPTION"))throw i}return null},I1=new WeakSet,E4=async function(t,e){const n=await Zr.getEnsAddress(t);try{const i=await new li(n,["function resolver(bytes32) view returns (address)"],t).resolver(T0(e),{enableCcipRead:!0});return i===_r?null:i}catch(a){throw a}return null},j(Zr,I1);let pc=Zr;const v3=BigInt(0);function te(s,t){return function(e){return e==null?t:s(e)}}function S0(s,t){return e=>{if(t&&e==null)return null;if(!Array.isArray(e))throw new Error("not an array");return e.map(n=>s(n))}}function _l(s,t){return e=>{const n={};for(const a in s){let i=a;if(t&&a in t&&!(i in e)){for(const r of t[a])if(r in e){i=r;break}}try{const r=s[a](e[i]);r!==void 0&&(n[a]=r)}catch(r){const o=r instanceof Error?r.message:"not-an-error";Y(!1,`invalid value for value.${a} (${o})`,"BAD_DATA",{value:e})}}return n}}function SA(s){switch(s){case!0:case"true":return!0;case!1:case"false":return!1}O(!1,`invalid boolean; ${JSON.stringify(s)}`,"value",s)}function gc(s){return O(ce(s,!0),"invalid data","value",s),s}function Ge(s){return O(ce(s,32),"invalid hash","value",s),s}const OA=_l({address:jt,blockHash:Ge,blockNumber:St,data:gc,index:St,removed:te(SA,!1),topics:S0(Ge),transactionHash:Ge,transactionIndex:St},{index:["logIndex"]});function RA(s){return OA(s)}const FA=_l({hash:te(Ge),parentHash:Ge,parentBeaconBlockRoot:te(Ge,null),number:St,timestamp:St,nonce:te(gc),difficulty:wt,gasLimit:wt,gasUsed:wt,stateRoot:te(Ge,null),receiptsRoot:te(Ge,null),blobGasUsed:te(wt,null),excessBlobGas:te(wt,null),miner:te(jt),prevRandao:te(Ge,null),extraData:gc,baseFeePerGas:te(wt)},{prevRandao:["mixHash"]});function NA(s){const t=FA(s);return t.transactions=s.transactions.map(e=>typeof e=="string"?e:C4(e)),t}const kA=_l({transactionIndex:St,blockNumber:St,transactionHash:Ge,address:jt,topics:S0(Ge),data:gc,index:St,blockHash:Ge},{index:["logIndex"]});function UA(s){return kA(s)}const MA=_l({to:te(jt,null),from:te(jt,null),contractAddress:te(jt,null),index:St,root:te(ut),gasUsed:wt,blobGasUsed:te(wt,null),logsBloom:te(gc),blockHash:Ge,hash:Ge,logs:S0(UA),blockNumber:St,cumulativeGasUsed:wt,effectiveGasPrice:te(wt),blobGasPrice:te(wt,null),status:te(St),type:te(St,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function DA(s){return MA(s)}function C4(s){s.to&&wt(s.to)===v3&&(s.to="0x0000000000000000000000000000000000000000");const t=_l({hash:Ge,index:te(St,void 0),type:e=>e==="0x"||e==null?0:St(e),accessList:te(js,null),blobVersionedHashes:te(S0(Ge,!0),null),authorizationList:te(S0(e=>{let n;if(e.signature)n=e.signature;else{let a=e.yParity;a==="0x1b"?a=0:a==="0x1c"&&(a=1),n=Object.assign({},e,{yParity:a})}return{address:jt(e.address),chainId:wt(e.chainId),nonce:wt(e.nonce),signature:Je.from(n)}},!1),null),blockHash:te(Ge,null),blockNumber:te(St,null),transactionIndex:te(St,null),from:jt,gasPrice:te(wt),maxPriorityFeePerGas:te(wt),maxFeePerGas:te(wt),maxFeePerBlobGas:te(wt,null),gasLimit:wt,to:te(jt,null),value:wt,nonce:St,data:gc,creates:te(jt,null),chainId:te(wt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(s);if(t.to==null&&t.creates==null&&(t.creates=X1(t)),(s.type===1||s.type===2)&&s.accessList==null&&(t.accessList=[]),s.signature?t.signature=Je.from(s.signature):t.signature=Je.from(s),t.chainId==null){const e=t.signature.legacyChainId;e!=null&&(t.chainId=e)}return t.blockHash&&wt(t.blockHash)===v3&&(t.blockHash=null),t}const zA="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Pa{constructor(t){z(this,"name");mt(this,{name:t})}clone(){return new Pa(this.name)}}class qc extends Pa{constructor(e,n){e==null&&(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);z(this,"effectiveBlock");z(this,"txBase");z(this,"txCreate");z(this,"txDataZero");z(this,"txDataNonzero");z(this,"txAccessListStorageKey");z(this,"txAccessListAddress");const a={effectiveBlock:e};function i(r,o){let f=(n||{})[r];f==null&&(f=o),O(typeof f=="number",`invalud value for ${r}`,"costs",n),a[r]=f}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),mt(this,a)}clone(){return new qc(this.effectiveBlock,this)}}class Vc extends Pa{constructor(e,n){super("org.ethers.plugins.network.Ens");z(this,"address");z(this,"targetNetwork");mt(this,{address:e||zA,targetNetwork:n??1})}clone(){return new Vc(this.address,this.targetNetwork)}}var Yi;const J5=class J5 extends Pa{constructor(e){super("org.ethers.plugins.network.FeeData");j(this,Yi);T(this,Yi,e)}get feeDataFunc(){return L(this,Yi)}async getFeeData(e){return await L(this,Yi).call(this,e)}clone(){return new J5(L(this,Yi))}};Yi=new WeakMap;let a1=J5;var $0,Q0;class i5 extends Pa{constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");j(this,$0);j(this,Q0);T(this,$0,e),T(this,Q0,n)}get url(){return L(this,$0)}get processFunc(){return L(this,Q0)}clone(){return this}}$0=new WeakMap,Q0=new WeakMap;const eu=new Map;var Ro,Fo,Ja;const Xr=class Xr{constructor(t,e){j(this,Ro);j(this,Fo);j(this,Ja);T(this,Ro,t),T(this,Fo,wt(e)),T(this,Ja,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return L(this,Ro)}set name(t){T(this,Ro,t)}get chainId(){return L(this,Fo)}set chainId(t){T(this,Fo,wt(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===wt(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===wt(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===wt(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(L(this,Ja).values())}attachPlugin(t){if(L(this,Ja).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return L(this,Ja).set(t.name,t.clone()),this}getPlugin(t){return L(this,Ja).get(t)||null}getPlugins(t){return this.plugins.filter(e=>e.name.split("#")[0]===t)}clone(){const t=new Xr(this.name,this.chainId);return this.plugins.forEach(e=>{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new qc;let n=e.txBase;if(t.to==null&&(n+=e.txCreate),t.data)for(let a=2;a<t.data.length;a+=2)t.data.substring(a,a+2)==="00"?n+=e.txDataZero:n+=e.txDataNonzero;if(t.accessList){const a=js(t.accessList);for(const i in a)n+=e.txAccessListAddress+e.txAccessListStorageKey*a[i].storageKeys.length}return n}static from(t){if(qA(),t==null)return Xr.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=eu.get(t);if(e)return e();if(typeof t=="bigint")return new Xr("unknown",t);O(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){O(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new Xr(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&e.attachPlugin(new Vc(t.ensAddress,t.ensNetwork)),e}O(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&&(t=BigInt(t));const n=eu.get(t);n&&O(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",t),eu.set(t,e)}};Ro=new WeakMap,Fo=new WeakMap,Ja=new WeakMap;let ye=Xr;function P3(s,t){const e=String(s);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${s}`);const n=e.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${s}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let a=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||a++,n[1]=a.toString()}return BigInt(n[0]+n[1])}function I3(s){return new i5(s,async(t,e,n)=>{n.setHeader("User-Agent","ethers");let a;try{const[i,r]=await Promise.all([n.send(),t()]);a=i;const o=a.bodyJson.standard;return{gasPrice:r.gasPrice,maxFeePerGas:P3(o.maxFee,9),maxPriorityFeePerGas:P3(o.maxPriorityFee,9)}}catch(i){Y(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:a,error:i})}})}let T3=!1;function qA(){if(T3)return;T3=!0;function s(t,e,n){const a=function(){const i=new ye(t,e);return n.ensNetwork!=null&&i.attachPlugin(new Vc(null,n.ensNetwork)),i.attachPlugin(new qc),(n.plugins||[]).forEach(r=>{i.attachPlugin(r)}),i};ye.register(t,a),ye.register(e,a),n.altNames&&n.altNames.forEach(i=>{ye.register(i,a)})}s("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),s("ropsten",3,{ensNetwork:3}),s("rinkeby",4,{ensNetwork:4}),s("goerli",5,{ensNetwork:5}),s("kovan",42,{ensNetwork:42}),s("sepolia",11155111,{ensNetwork:11155111}),s("holesky",17e3,{ensNetwork:17e3}),s("classic",61,{}),s("classicKotti",6,{}),s("arbitrum",42161,{ensNetwork:1}),s("arbitrum-goerli",421613,{}),s("arbitrum-sepolia",421614,{}),s("base",8453,{ensNetwork:1}),s("base-goerli",84531,{}),s("base-sepolia",84532,{}),s("bnb",56,{ensNetwork:1}),s("bnbt",97,{}),s("filecoin",314,{}),s("filecoin-calibration",314159,{}),s("linea",59144,{ensNetwork:1}),s("linea-goerli",59140,{}),s("linea-sepolia",59141,{}),s("matic",137,{ensNetwork:1,plugins:[I3("https://gasstation.polygon.technology/v2")]}),s("matic-amoy",80002,{}),s("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[I3("https://gasstation-testnet.polygon.technology/v2")]}),s("optimism",10,{ensNetwork:1,plugins:[]}),s("optimism-goerli",420,{}),s("optimism-sepolia",11155420,{}),s("xdai",100,{ensNetwork:1})}function x2(s){return JSON.parse(JSON.stringify(s))}var ra,Un,Wa,Rs,No,If;class VA{constructor(t){j(this,No);j(this,ra);j(this,Un);j(this,Wa);j(this,Rs);T(this,ra,t),T(this,Un,null),T(this,Wa,4e3),T(this,Rs,-2)}get pollingInterval(){return L(this,Wa)}set pollingInterval(t){T(this,Wa,t)}start(){L(this,Un)||(T(this,Un,L(this,ra)._setTimeout(ct(this,No,If).bind(this),L(this,Wa))),ct(this,No,If).call(this))}stop(){L(this,Un)&&(L(this,ra)._clearTimeout(L(this,Un)),T(this,Un,null))}pause(t){this.stop(),t&&T(this,Rs,-2)}resume(){this.start()}}ra=new WeakMap,Un=new WeakMap,Wa=new WeakMap,Rs=new WeakMap,No=new WeakSet,If=async function(){try{const t=await L(this,ra).getBlockNumber();if(L(this,Rs)===-2){T(this,Rs,t);return}if(t!==L(this,Rs)){for(let e=L(this,Rs)+1;e<=t;e++){if(L(this,Un)==null)return;await L(this,ra).emit("block",e)}T(this,Rs,t)}}catch{}L(this,Un)!=null&&T(this,Un,L(this,ra)._setTimeout(ct(this,No,If).bind(this),L(this,Wa)))};var tr,er,Za;class r5{constructor(t){j(this,tr);j(this,er);j(this,Za);T(this,tr,t),T(this,Za,!1),T(this,er,e=>{this._poll(e,L(this,tr))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){L(this,Za)||(T(this,Za,!0),L(this,er).call(this,-2),L(this,tr).on("block",L(this,er)))}stop(){L(this,Za)&&(T(this,Za,!1),L(this,tr).off("block",L(this,er)))}pause(t){this.stop()}resume(){this.start()}}tr=new WeakMap,er=new WeakMap,Za=new WeakMap;var ko,oa;class GA extends r5{constructor(e,n){super(e);j(this,ko);j(this,oa);T(this,ko,n),T(this,oa,-2)}pause(e){e&&T(this,oa,-2),super.pause(e)}async _poll(e,n){const a=await n.getBlock(L(this,ko));a!=null&&(L(this,oa)===-2?T(this,oa,a.number):a.number>L(this,oa)&&(n.emit(L(this,ko),a.number),T(this,oa,a.number)))}}ko=new WeakMap,oa=new WeakMap;var T1;class HA extends r5{constructor(e,n){super(e);j(this,T1);T(this,T1,x2(n))}async _poll(e,n){throw new Error("@TODO")}}T1=new WeakMap;var Uo;class jA extends r5{constructor(e,n){super(e);j(this,Uo);T(this,Uo,n)}async _poll(e,n){const a=await n.getTransactionReceipt(L(this,Uo));a&&n.emit(L(this,Uo),a)}}Uo=new WeakMap;var ca,Mo,Do,Xa,Mn,B1,v4;class o5{constructor(t,e){j(this,B1);j(this,ca);j(this,Mo);j(this,Do);j(this,Xa);j(this,Mn);T(this,ca,t),T(this,Mo,x2(e)),T(this,Do,ct(this,B1,v4).bind(this)),T(this,Xa,!1),T(this,Mn,-2)}start(){L(this,Xa)||(T(this,Xa,!0),L(this,Mn)===-2&&L(this,ca).getBlockNumber().then(t=>{T(this,Mn,t)}),L(this,ca).on("block",L(this,Do)))}stop(){L(this,Xa)&&(T(this,Xa,!1),L(this,ca).off("block",L(this,Do)))}pause(t){this.stop(),t&&T(this,Mn,-2)}resume(){this.start()}}ca=new WeakMap,Mo=new WeakMap,Do=new WeakMap,Xa=new WeakMap,Mn=new WeakMap,B1=new WeakSet,v4=async function(t){if(L(this,Mn)===-2)return;const e=x2(L(this,Mo));e.fromBlock=L(this,Mn)+1,e.toBlock=t;const n=await L(this,ca).getLogs(e);if(n.length===0){L(this,Mn)<t-60&&T(this,Mn,t-60);return}for(const a of n)L(this,ca).emit(L(this,Mo),a),T(this,Mn,a.blockNumber)};const KA=BigInt(2),$A=10;function tf(s){return s&&typeof s.then=="function"}function Tf(s,t){return s+":"+JSON.stringify(t,(e,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const a=Object.keys(n);return a.sort(),a.reduce((i,r)=>(i[r]=n[r],i),{})}return n})}class yc{constructor(t){z(this,"name");mt(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function QA(s){return JSON.parse(JSON.stringify(s))}function w2(s){return s=Array.from(new Set(s).values()),s.sort(),s}async function nu(s,t){if(s==null)throw new Error("invalid event");if(Array.isArray(s)&&(s={topics:s}),typeof s=="string")switch(s){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:s,tag:s}}if(ce(s,32)){const e=s.toLowerCase();return{type:"transaction",tag:Tf("tx",{hash:e}),hash:e}}if(s.orphan){const e=s;return{type:"orphan",tag:Tf("orphan",e),filter:QA(e)}}if(s.address||s.topics){const e=s,n={topics:(e.topics||[]).map(a=>a==null?null:Array.isArray(a)?w2(a.map(i=>i.toLowerCase())):a.toLowerCase())};if(e.address){const a=[],i=[],r=o=>{ce(o)?a.push(o):i.push((async()=>{a.push(await ve(o,t))})())};Array.isArray(e.address)?e.address.forEach(r):r(e.address),i.length&&await Promise.all(i),n.address=w2(a.map(o=>o.toLowerCase()))}return{filter:n,tag:Tf("event",n),type:"event"}}O(!1,"unknown ProviderEvent","event",s)}function su(){return new Date().getTime()}const JA={cacheTimeout:250,pollingInterval:4e3};var je,Ya,Ke,zo,Ln,nr,ti,la,J0,Dn,qo,Vo,Jt,yn,L2,A2,o0,E2,c0,Bf;class mc{constructor(t,e){j(this,Jt);j(this,je);j(this,Ya);j(this,Ke);j(this,zo);j(this,Ln);j(this,nr);j(this,ti);j(this,la);j(this,J0);j(this,Dn);j(this,qo);j(this,Vo);if(T(this,Vo,Object.assign({},JA,e||{})),t==="any")T(this,nr,!0),T(this,Ln,null);else if(t){const n=ye.from(t);T(this,nr,!1),T(this,Ln,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else T(this,nr,!1),T(this,Ln,null);T(this,la,-1),T(this,ti,new Map),T(this,je,new Map),T(this,Ya,new Map),T(this,Ke,null),T(this,zo,!1),T(this,J0,1),T(this,Dn,new Map),T(this,qo,!1)}get pollingInterval(){return L(this,Vo).pollingInterval}get provider(){return this}get plugins(){return Array.from(L(this,Ya).values())}attachPlugin(t){if(L(this,Ya).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return L(this,Ya).set(t.name,t.connect(this)),this}getPlugin(t){return L(this,Ya).get(t)||null}get disableCcipRead(){return L(this,qo)}set disableCcipRead(t){T(this,qo,!!t)}async ccipReadFetch(t,e,n){if(this.disableCcipRead||n.length===0||t.to==null)return null;const a=t.to.toLowerCase(),i=e.toLowerCase(),r=[];for(let o=0;o<n.length;o++){const f=n[o],l=f.replace("{sender}",a).replace("{data}",i),c=new Oe(l);f.indexOf("{data}")===-1&&(c.body={data:i,sender:a}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:o,urls:n});let h="unknown error",m;try{m=await c.send()}catch(p){r.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:{error:p}});continue}try{const p=m.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:p}),p.data;p.message&&(h=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:p})}catch{}Y(m.statusCode<400||m.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:f,errorMessage:h}}),r.push(h)}Y(!1,`error encountered during CCIP fetch: ${r.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:n,errorMessages:r}})}_wrapBlock(t,e){return new Y6(NA(t),this)}_wrapLog(t,e){return new Fr(RA(t),this)}_wrapTransactionReceipt(t,e){return new ld(DA(t),this)}_wrapTransactionResponse(t,e){return new Lr(C4(t),this)}_detectNetwork(){Y(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){Y(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=St(await ct(this,Jt,yn).call(this,{method:"getBlockNumber"}),"%response");return L(this,la)>=0&&T(this,la,t),t}_getAddress(t){return ve(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}if(ce(t))return ce(t,32)?t:ln(t);if(typeof t=="bigint"&&(t=St(t,"blockTag")),typeof t=="number")return t>=0?ln(t):L(this,la)>=0?ln(L(this,la)+t):this.getBlockNumber().then(e=>ln(e+t));O(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(f=>f==null?null:Array.isArray(f)?w2(f.map(l=>l.toLowerCase())):f.toLowerCase()),n="blockHash"in t?t.blockHash:void 0,a=(f,l,c)=>{let h;switch(f.length){case 0:break;case 1:h=f[0];break;default:f.sort(),h=f}if(n&&(l!=null||c!=null))throw new Error("invalid filter");const m={};return h&&(m.address=h),e.length&&(m.topics=e),l&&(m.fromBlock=l),c&&(m.toBlock=c),n&&(m.blockHash=n),m};let i=[];if(t.address)if(Array.isArray(t.address))for(const f of t.address)i.push(this._getAddress(f));else i.push(this._getAddress(t.address));let r;"fromBlock"in t&&(r=this._getBlockTag(t.fromBlock));let o;return"toBlock"in t&&(o=this._getBlockTag(t.toBlock)),i.filter(f=>typeof f!="string").length||r!=null&&typeof r!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(i),r,o]).then(f=>a(f[0],f[1],f[2])):a(i,r,o)}_getTransactionRequest(t){const e=wr(t),n=[];if(["to","from"].forEach(a=>{if(e[a]==null)return;const i=ve(e[a],this);tf(i)?n.push(async function(){e[a]=await i}()):e[a]=i}),e.blockTag!=null){const a=this._getBlockTag(e.blockTag);tf(a)?n.push(async function(){e.blockTag=await a}()):e.blockTag=a}return n.length?async function(){return await Promise.all(n),e}():e}async getNetwork(){if(L(this,Ln)==null){const a=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw L(this,Ln)===a&&T(this,Ln,null),i}})();return T(this,Ln,a),(await a).clone()}const t=L(this,Ln),[e,n]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==n.chainId&&(L(this,nr)?(this.emit("network",n,e),L(this,Ln)===t&&T(this,Ln,Promise.resolve(n))):Y(!1,`network changed: ${e.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:a,gasPrice:i,priorityFee:r}=await Te({_block:ct(this,Jt,E2).call(this,"latest",!1),gasPrice:(async()=>{try{const c=await ct(this,Jt,yn).call(this,{method:"getGasPrice"});return wt(c,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const c=await ct(this,Jt,yn).call(this,{method:"getPriorityFee"});return wt(c,"%response")}catch{}return null})()});let o=null,f=null;const l=this._wrapBlock(a,t);return l&&l.baseFeePerGas&&(f=r??BigInt("1000000000"),o=l.baseFeePerGas*KA+f),new n1(i,o,f)},n=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const a=new Oe(n.url),i=await n.processFunc(e,this,a);return new n1(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return tf(e)&&(e=await e),wt(await ct(this,Jt,yn).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:n}=await Te({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await ct(this,Jt,A2).call(this,ct(this,Jt,L2).call(this,e,n,t.enableCcipRead?0:-1))}async getBalance(t,e){return wt(await ct(this,Jt,o0).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return St(await ct(this,Jt,o0).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return ut(await ct(this,Jt,o0).call(this,{method:"getCode"},t,e))}async getStorage(t,e,n){const a=wt(e,"position");return ut(await ct(this,Jt,o0).call(this,{method:"getStorage",position:a},t,n))}async broadcastTransaction(t){const{blockNumber:e,hash:n,network:a}=await Te({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=di.from(t);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,a).replaceableTransaction(e)}async getBlock(t,e){const{network:n,params:a}=await Te({network:this.getNetwork(),params:ct(this,Jt,E2).call(this,t,!!e)});return a==null?null:this._wrapBlock(a,n)}async getTransaction(t){const{network:e,params:n}=await Te({network:this.getNetwork(),params:ct(this,Jt,yn).call(this,{method:"getTransaction",hash:t})});return n==null?null:this._wrapTransactionResponse(n,e)}async getTransactionReceipt(t){const{network:e,params:n}=await Te({network:this.getNetwork(),params:ct(this,Jt,yn).call(this,{method:"getTransactionReceipt",hash:t})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const a=await ct(this,Jt,yn).call(this,{method:"getTransaction",hash:t});if(a==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=a.gasPrice}return this._wrapTransactionReceipt(n,e)}async getTransactionResult(t){const{result:e}=await Te({network:this.getNetwork(),result:ct(this,Jt,yn).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:ut(e)}async getLogs(t){let e=this._getFilter(t);tf(e)&&(e=await e);const{network:n,params:a}=await Te({network:this.getNetwork(),params:ct(this,Jt,yn).call(this,{method:"getLogs",filter:e})});return a.map(i=>this._wrapLog(i,n))}_getProvider(t){Y(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await pc.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=jt(t);const e=T0(t.substring(2).toLowerCase()+".addr.reverse");try{const n=await pc.getEnsAddress(this),i=await new li(n,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(i==null||i===_r)return null;const o=await new li(i,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(o)!==t?null:o}catch(n){if(me(n,"BAD_DATA")&&n.value==="0x"||me(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(t,e,n){const a=e??1;return a===0?this.getTransactionReceipt(t):new Promise(async(i,r)=>{let o=null;const f=async l=>{try{const c=await this.getTransactionReceipt(t);if(c!=null&&l-c.blockNumber+1>=a){i(c),o&&(clearTimeout(o),o=null);return}}catch(c){console.log("EEE",c)}this.once("block",f)};n!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",f),r(de("timeout","TIMEOUT",{reason:"timeout"})))},n)),f(await this.getBlockNumber())})}async waitForBlock(t){Y(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=L(this,Dn).get(t);e&&(e.timer&&clearTimeout(e.timer),L(this,Dn).delete(t))}_setTimeout(t,e){e==null&&(e=0);const n=kr(this,J0)._++,a=()=>{L(this,Dn).delete(n),t()};if(this.paused)L(this,Dn).set(n,{timer:null,func:a,time:e});else{const i=setTimeout(a,e);L(this,Dn).set(n,{timer:i,func:a,time:su()})}return n}_forEachSubscriber(t){for(const e of L(this,je).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new yc(t.type);case"block":{const e=new VA(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new GA(this,t.type);case"event":return new o5(this,t.filter);case"transaction":return new jA(this,t.hash);case"orphan":return new HA(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const n of L(this,je).values())if(n.subscriber===t){n.started&&n.subscriber.stop(),n.subscriber=e,n.started&&e.start(),L(this,Ke)!=null&&e.pause(L(this,Ke));break}}async on(t,e){const n=await ct(this,Jt,Bf).call(this,t);return n.listeners.push({listener:e,once:!1}),n.started||(n.subscriber.start(),n.started=!0,L(this,Ke)!=null&&n.subscriber.pause(L(this,Ke))),this}async once(t,e){const n=await ct(this,Jt,Bf).call(this,t);return n.listeners.push({listener:e,once:!0}),n.started||(n.subscriber.start(),n.started=!0,L(this,Ke)!=null&&n.subscriber.pause(L(this,Ke))),this}async emit(t,...e){const n=await ct(this,Jt,c0).call(this,t,e);if(!n||n.listeners.length===0)return!1;const a=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:r})=>{const o=new Q1(this,r?null:i,t);try{i.call(this,...e,o)}catch{}return!r}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),L(this,je).delete(n.tag)),a>0}async listenerCount(t){if(t){const n=await ct(this,Jt,c0).call(this,t);return n?n.listeners.length:0}let e=0;for(const{listeners:n}of L(this,je).values())e+=n.length;return e}async listeners(t){if(t){const n=await ct(this,Jt,c0).call(this,t);return n?n.listeners.map(({listener:a})=>a):[]}let e=[];for(const{listeners:n}of L(this,je).values())e=e.concat(n.map(({listener:a})=>a));return e}async off(t,e){const n=await ct(this,Jt,c0).call(this,t);if(!n)return this;if(e){const a=n.listeners.map(({listener:i})=>i).indexOf(e);a>=0&&n.listeners.splice(a,1)}return(!e||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),L(this,je).delete(n.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:n,subscriber:a}=await ct(this,Jt,Bf).call(this,t);n&&a.stop(),L(this,je).delete(e)}else for(const[e,{started:n,subscriber:a}]of L(this,je))n&&a.stop(),L(this,je).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return L(this,zo)}destroy(){this.removeAllListeners();for(const t of L(this,Dn).keys())this._clearTimeout(t);T(this,zo,!0)}get paused(){return L(this,Ke)!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(T(this,la,-1),L(this,Ke)!=null){if(L(this,Ke)==!!t)return;Y(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=>e.pause(t)),T(this,Ke,!!t);for(const e of L(this,Dn).values())e.timer&&clearTimeout(e.timer),e.time=su()-e.time}resume(){if(L(this,Ke)!=null){this._forEachSubscriber(t=>t.resume()),T(this,Ke,null);for(const t of L(this,Dn).values()){let e=t.time;e<0&&(e=0),t.time=su(),setTimeout(t.func,e)}}}}je=new WeakMap,Ya=new WeakMap,Ke=new WeakMap,zo=new WeakMap,Ln=new WeakMap,nr=new WeakMap,ti=new WeakMap,la=new WeakMap,J0=new WeakMap,Dn=new WeakMap,qo=new WeakMap,Vo=new WeakMap,Jt=new WeakSet,yn=async function(t){const e=L(this,Vo).cacheTimeout;if(e<0)return await this._perform(t);const n=Tf(t.method,t);let a=L(this,ti).get(n);return a||(a=this._perform(t),L(this,ti).set(n,a),setTimeout(()=>{L(this,ti).get(n)===a&&L(this,ti).delete(n)},e)),await a},L2=async function(t,e,n){Y(n<$A,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const a=wr(t);try{return ut(await this._perform({method:"call",transaction:a,blockTag:e}))}catch(i){if(!this.disableCcipRead&&ul(i)&&i.data&&n>=0&&e==="latest"&&a.to!=null&&ue(i.data,0,4)==="0x556f1830"){const r=i.data,o=await ve(a.to,this);let f;try{f=tE(ue(i.data,4))}catch(h){Y(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:a,info:{data:r}})}Y(f.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:r,reason:"OffchainLookup",transaction:a,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:f.errorArgs}});const l=await this.ccipReadFetch(a,f.calldata,f.urls);Y(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:a,info:{data:i.data,errorArgs:f.errorArgs}});const c={to:o,data:Wt([f.selector,YA([l,f.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const h=await ct(this,Jt,L2).call(this,c,e,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:h}),h}}throw i}},A2=async function(t){const{value:e}=await Te({network:this.getNetwork(),value:t});return e},o0=async function(t,e,n){let a=this._getAddress(e),i=this._getBlockTag(n);return(typeof a!="string"||typeof i!="string")&&([a,i]=await Promise.all([a,i])),await ct(this,Jt,A2).call(this,ct(this,Jt,yn).call(this,Object.assign(t,{address:a,blockTag:i})))},E2=async function(t,e){if(ce(t,32))return await ct(this,Jt,yn).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let n=this._getBlockTag(t);return typeof n!="string"&&(n=await n),await ct(this,Jt,yn).call(this,{method:"getBlock",blockTag:n,includeTransactions:e})},c0=async function(t,e){let n=await nu(t,this);return n.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(n=await nu({orphan:"drop-log",log:e[0]},this)),L(this,je).get(n.tag)||null},Bf=async function(t){const e=await nu(t,this),n=e.tag;let a=L(this,je).get(n);return a||(a={subscriber:this._getSubscriber(e),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},L(this,je).set(n,a)),a};function WA(s,t){try{const e=C2(s,t);if(e)return ma(e)}catch{}return null}function C2(s,t){if(s==="0x")return null;try{const e=St(ue(s,t,t+32)),n=St(ue(s,e,e+32));return ue(s,e+32,e+32+n)}catch{}return null}function B3(s){const t=pe(s);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function ZA(s){if(s.length%32===0)return s;const t=new Uint8Array(Math.ceil(s.length/32)*32);return t.set(s),t}const XA=new Uint8Array([]);function YA(s){const t=[];let e=0;for(let n=0;n<s.length;n++)t.push(XA),e+=32;for(let n=0;n<s.length;n++){const a=bt(s[n]);t[n]=B3(e),t.push(B3(a.length)),t.push(ZA(a)),e+=32+Math.ceil(a.length/32)*32}return Wt(t)}const S3="0x0000000000000000000000000000000000000000000000000000000000000000";function tE(s){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Y(ba(s)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=ue(s,0,32);Y(ue(e,0,12)===ue(S3,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=ue(e,12);try{const n=[],a=St(ue(s,32,64)),i=St(ue(s,a,a+32)),r=ue(s,a+32);for(let o=0;o<i;o++){const f=WA(r,o*32);if(f==null)throw new Error("abort");n.push(f)}t.urls=n}catch{Y(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=C2(s,64);if(n==null)throw new Error("abort");t.calldata=n}catch{Y(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Y(ue(s,100,128)===ue(S3,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=ue(s,96,100);try{const n=C2(s,128);if(n==null)throw new Error("abort");t.extraData=n}catch{Y(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>t[n]),t}function xi(s,t){if(s.provider)return s.provider;Y(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function O3(s,t){let e=wr(t);if(e.to!=null&&(e.to=ve(e.to,s)),e.from!=null){const n=e.from;e.from=Promise.all([s.getAddress(),ve(n,s)]).then(([a,i])=>(O(a.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),a))}else e.from=s.getAddress();return await Te(e)}class Gc{constructor(t){z(this,"provider");mt(this,{provider:t||null})}async getNonce(t){return xi(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await O3(this,t)}async populateTransaction(t){const e=xi(this,"populateTransaction"),n=await O3(this,t);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const a=await this.provider.getNetwork();if(n.chainId!=null){const r=wt(n.chainId);O(r===a.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else n.chainId=a.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?O(!1,"eip-1559 transaction do not support gasPrice","tx",t):(n.type===0||n.type===1)&&i&&O(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const r=await e.getFeeData();Y(r.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=r.gasPrice)}else{const r=await e.getFeeData();if(n.type==null)if(r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const o=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=o,n.maxPriorityFeePerGas=o}else n.maxFeePerGas==null&&(n.maxFeePerGas=r.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=r.maxPriorityFeePerGas);else r.gasPrice!=null?(Y(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=r.gasPrice),n.type=0):Y(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=r.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=r.maxPriorityFeePerGas))}return await Te(n)}async populateAuthorization(t){const e=Object.assign({},t);return e.chainId==null&&(e.chainId=(await xi(this,"getNetwork").getNetwork()).chainId),e.nonce==null&&(e.nonce=await this.getNonce()),e}async estimateGas(t){return xi(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return xi(this,"call").call(await this.populateCall(t))}async resolveName(t){return await xi(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=xi(this,"sendTransaction"),n=await this.populateTransaction(t);delete n.from;const a=di.from(n);return await e.broadcastTransaction(await this.signTransaction(a))}authorize(t){Y(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Go,Sf;const W5=class W5 extends Gc{constructor(e,n){super(n);j(this,Go);z(this,"address");mt(this,{address:e})}async getAddress(){return this.address}connect(e){return new W5(this.address,e)}async signTransaction(e){ct(this,Go,Sf).call(this,"transactions","signTransaction")}async signMessage(e){ct(this,Go,Sf).call(this,"messages","signMessage")}async signTypedData(e,n,a){ct(this,Go,Sf).call(this,"typed-data","signTypedData")}};Go=new WeakSet,Sf=function(e,n){Y(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:n})};let O0=W5;const R3=new Set;function Ia(s){R3.has(s)||(R3.add(s),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${s} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function eE(s){return JSON.parse(JSON.stringify(s))}var Xe,Fs,sr,ei,ar,Ho,bi,v2,P2;class P4{constructor(t){j(this,bi);j(this,Xe);j(this,Fs);j(this,sr);j(this,ei);j(this,ar);j(this,Ho);T(this,Xe,t),T(this,Fs,null),T(this,sr,ct(this,bi,v2).bind(this)),T(this,ei,!1),T(this,ar,null),T(this,Ho,!1)}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}start(){L(this,ei)||(T(this,ei,!0),ct(this,bi,v2).call(this,-2))}stop(){L(this,ei)&&(T(this,ei,!1),T(this,Ho,!0),ct(this,bi,P2).call(this),L(this,Xe).off("block",L(this,sr)))}pause(t){t&&ct(this,bi,P2).call(this),L(this,Xe).off("block",L(this,sr))}resume(){this.start()}}Xe=new WeakMap,Fs=new WeakMap,sr=new WeakMap,ei=new WeakMap,ar=new WeakMap,Ho=new WeakMap,bi=new WeakSet,v2=async function(t){try{L(this,Fs)==null&&T(this,Fs,this._subscribe(L(this,Xe)));let e=null;try{e=await L(this,Fs)}catch(i){if(!me(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(e==null){T(this,Fs,null),L(this,Xe)._recoverSubscriber(this,this._recover(L(this,Xe)));return}const n=await L(this,Xe).getNetwork();if(L(this,ar)||T(this,ar,n),L(this,ar).chainId!==n.chainId)throw new Error("chaid changed");if(L(this,Ho))return;const a=await L(this,Xe).send("eth_getFilterChanges",[e]);await this._emitResults(L(this,Xe),a)}catch(e){console.log("@TODO",e)}L(this,Xe).once("block",L(this,sr))},P2=function(){const t=L(this,Fs);t&&(T(this,Fs,null),t.then(e=>{L(this,Xe).destroyed||L(this,Xe).send("eth_uninstallFilter",[e])}))};var ir;class nE extends P4{constructor(e,n){super(e);j(this,ir);T(this,ir,eE(n))}_recover(e){return new o5(e,L(this,ir))}async _subscribe(e){return await e.send("eth_newFilter",[L(this,ir)])}async _emitResults(e,n){for(const a of n)e.emit(L(this,ir),e._wrapLog(a,e._network))}}ir=new WeakMap;class sE extends P4{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const n of e)t.emit("pending",n)}}const aE="bigint,boolean,function,number,string,symbol".split(/,/g);function Of(s){if(s==null||aE.indexOf(typeof s)>=0||typeof s.getAddress=="function")return s;if(Array.isArray(s))return s.map(Of);if(typeof s=="object")return Object.keys(s).reduce((t,e)=>(t[e]=s[e],t),{});throw new Error(`should not happen: ${s} (${typeof s})`)}function iE(s){return new Promise(t=>{setTimeout(t,s)})}function Mr(s){return s&&s.toLowerCase()}function F3(s){return s&&typeof s.pollingInterval=="number"}const I4={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class g0 extends Gc{constructor(e,n){super(e);z(this,"address");n=jt(n),mt(this,{address:n})}connect(e){Y(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=Of(e),a=[];if(n.from){const r=n.from;a.push((async()=>{const o=await ve(r,this.provider);O(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&a.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const r=n.to;a.push((async()=>{n.to=await ve(r,this.provider)})())}a.length&&await Promise.all(a);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),a=await this.sendUncheckedTransaction(e);return await new Promise((i,r)=>{const o=[1e3,100];let f=0;const l=async()=>{try{const c=await this.provider.getTransaction(a);if(c!=null){i(c.replaceableTransaction(n));return}}catch(c){if(me(c,"CANCELLED")||me(c,"BAD_DATA")||me(c,"NETWORK_ERROR")||me(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=a,r(c);return}if(me(c,"INVALID_ARGUMENT")&&(f++,c.info==null&&(c.info={}),c.info.sendTransactionHash=a,f>10)){r(c);return}this.provider.emit("error",de("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{l()},o.pop()||4e3)};l()})}async signTransaction(e){const n=Of(e);if(n.from){const i=await ve(n.from,this.provider);O(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const a=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[a])}async signMessage(e){const n=typeof e=="string"?Pe(e):e;return await this.provider.send("personal_sign",[ut(n),this.address.toLowerCase()])}async signTypedData(e,n,a){const i=Of(a),r=await _a.resolveNames(e,n,i,async o=>{const f=await ve(o);return O(f!=null,"TypedData does not support null address","value",o),f});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(_a.getPayload(r.domain,n,r.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?Pe(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ut(n)])}}var rr,jo,fa,Ns,is,zn,an,W0,I2;class bd extends mc{constructor(e,n){super(e,n);j(this,W0);j(this,rr);j(this,jo);j(this,fa);j(this,Ns);j(this,is);j(this,zn);j(this,an);T(this,jo,1),T(this,rr,Object.assign({},I4,n||{})),T(this,fa,[]),T(this,Ns,null),T(this,zn,null),T(this,an,null);{let i=null;const r=new Promise(o=>{i=o});T(this,is,{promise:r,resolve:i})}const a=this._getOption("staticNetwork");typeof a=="boolean"?(O(!a||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),a&&e!=null&&T(this,zn,ye.from(e))):a&&(O(e==null||a.matches(e),"staticNetwork MUST match network object","options",n),T(this,zn,a))}_getOption(e){return L(this,rr)[e]}get _network(){return Y(L(this,zn),"network is not available yet","NETWORK_ERROR"),L(this,zn)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let a=e.transaction;if(a&&a.type!=null&&wt(a.type)&&a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},a,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(L(this,zn))return L(this,zn)}else return e;return L(this,an)?await L(this,an):this.ready?(T(this,an,(async()=>{try{const n=ye.from(wt(await this.send("eth_chainId",[])));return T(this,an,null),n}catch(n){throw T(this,an,null),n}})()),await L(this,an)):(T(this,an,(async()=>{const n={id:kr(this,jo)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let a;try{a=(await this._send(n))[0],T(this,an,null)}catch(i){throw T(this,an,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:a}),"result"in a)return ye.from(wt(a.result));throw this.getRpcError(n,a)})()),await L(this,an))}_start(){L(this,is)==null||L(this,is).resolve==null||(L(this,is).resolve(),T(this,is,null),(async()=>{for(;L(this,zn)==null&&!this.destroyed;)try{T(this,zn,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",de("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await iE(1e3)}ct(this,W0,I2).call(this)})())}async _waitUntilReady(){if(L(this,is)!=null)return await L(this,is).promise}_getSubscriber(e){return e.type==="pending"?new sE(this):e.type==="event"?this._getOption("polling")?new o5(this,e.filter):new nE(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new yc("orphan"):super._getSubscriber(e)}get ready(){return L(this,is)==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(a=>{if(e[a]==null)return;let i=a;a==="gasLimit"&&(i="gas"),n[i]=ln(wt(e[a],`tx.${a}`))}),["from","to","data"].forEach(a=>{e[a]!=null&&(n[a]=ut(e[a]))}),e.accessList&&(n.accessList=js(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(a=>a.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(a=>{const i=td(a);return{address:i.address,nonce:ln(i.nonce),chainId:ln(i.chainId),yParity:ln(i.signature.yParity),r:ln(i.signature.r),s:ln(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Mr(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Mr(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Mr(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Mr(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Mr):e.filter.address=Mr(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:a}=e,{error:i}=n;if(a==="eth_estimateGas"&&i.message){const f=i.message;if(!f.match(/revert/i)&&f.match(/insufficient funds/i))return de("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(f.match(/nonce/i)&&f.match(/too low/i))return de("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(a==="eth_call"||a==="eth_estimateGas"){const f=T2(i),l=ui.getBuiltinCallException(a==="eth_call"?"call":"estimateGas",e.params[0],f?f.data:null);return l.info={error:i,payload:e},l}const r=JSON.stringify(rE(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return de("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[a]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(a==="eth_sendRawTransaction"||a==="eth_sendTransaction"){const f=e.params[0];if(r.match(/insufficient funds|base fee exceeds gas limit/i))return de("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:f,info:{error:i}});if(r.match(/nonce/i)&&r.match(/too low/i))return de("nonce has already been used","NONCE_EXPIRED",{transaction:f,info:{error:i}});if(r.match(/replacement transaction/i)&&r.match(/underpriced/i))return de("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:f,info:{error:i}});if(r.match(/only replay-protected/i))return de("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:a,info:{transaction:f,info:{error:i}}})}let o=!!r.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?de("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):de("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(de("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const a=kr(this,jo)._++,i=new Promise((r,o)=>{L(this,fa).push({resolve:r,reject:o,payload:{method:e,params:n,id:a,jsonrpc:"2.0"}})});return ct(this,W0,I2).call(this),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new g0(this,i[e])}const{accounts:a}=await Te({network:this.getNetwork(),accounts:n});e=jt(e);for(const i of a)if(jt(i)===e)return new g0(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new g0(this,n))}destroy(){L(this,Ns)&&(clearTimeout(L(this,Ns)),T(this,Ns,null));for(const{payload:e,reject:n}of L(this,fa))n(de("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));T(this,fa,[]),super.destroy()}}rr=new WeakMap,jo=new WeakMap,fa=new WeakMap,Ns=new WeakMap,is=new WeakMap,zn=new WeakMap,an=new WeakMap,W0=new WeakSet,I2=function(){if(L(this,Ns))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");T(this,Ns,setTimeout(()=>{T(this,Ns,null);const n=L(this,fa);for(T(this,fa,[]);n.length;){const a=[n.shift()];for(;n.length&&a.length!==L(this,rr).batchMaxCount;)if(a.push(n.shift()),JSON.stringify(a.map(r=>r.payload)).length>L(this,rr).batchMaxSize){n.unshift(a.pop());break}(async()=>{const i=a.length===1?a[0].payload:a.map(r=>r.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const r=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:o,reject:f,payload:l}of a){if(this.destroyed){f(de("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const c=r.filter(h=>h.id===l.id)[0];if(c==null){const h=de("missing response for request","BAD_DATA",{value:r,info:{payload:l}});this.emit("error",h),f(h);continue}if("error"in c){f(this.getRpcError(l,c));continue}o(c.result)}}catch(r){this.emit("debug",{action:"receiveRpcError",error:r});for(const{reject:o}of a)o(r)}})()}},e))};var ni;class T4 extends bd{constructor(e,n){super(e,n);j(this,ni);let a=this._getOption("pollingInterval");a==null&&(a=I4.pollingInterval),T(this,ni,a)}_getSubscriber(e){const n=super._getSubscriber(e);return F3(n)&&(n.pollingInterval=L(this,ni)),n}get pollingInterval(){return L(this,ni)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");T(this,ni,e),this._forEachSubscriber(n=>{F3(n)&&(n.pollingInterval=L(this,ni))})}}ni=new WeakMap;var Ko;class Cn extends T4{constructor(e,n,a){e==null&&(e="http://localhost:8545");super(n,a);j(this,Ko);typeof e=="string"?T(this,Ko,new Oe(e)):T(this,Ko,e.clone())}_getConnection(){return L(this,Ko).clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){const n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");const a=await n.send();a.assertOk();let i=a.bodyJson;return Array.isArray(i)||(i=[i]),i}}Ko=new WeakMap;function T2(s){if(s==null)return null;if(typeof s.message=="string"&&s.message.match(/revert/i)&&ce(s.data))return{message:s.message,data:s.data};if(typeof s=="object"){for(const t in s){const e=T2(s[t]);if(e)return e}return null}if(typeof s=="string")try{return T2(JSON.parse(s))}catch{}return null}function B2(s,t){if(s!=null){if(typeof s.message=="string"&&t.push(s.message),typeof s=="object")for(const e in s)B2(s[e],t);if(typeof s=="string")try{return B2(JSON.parse(s),t)}catch{}}}function rE(s){const t=[];return B2(s,t),t}const ef="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function oE(s){switch(s){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}O(!1,"unsupported network","network",s)}class _c extends Cn{constructor(e,n){e==null&&(e="mainnet");const a=ye.from(e);n==null&&(n=ef);const i={polling:!0,staticNetwork:a},r=_c.getRequest(a,n);super(r,a,i);z(this,"apiKey");mt(this,{apiKey:n})}_getProvider(e){try{return new _c(e,this.apiKey)}catch{}return super._getProvider(e)}static getRequest(e,n){n==null&&(n=ef);const a=new Oe(`https://${oE(e.name)}/${n}`);return a.allowGzip=!0,n===ef&&(a.retryFunc=async(i,r,o)=>(Ia("AnkrProvider"),!0)),a}getRpcError(e,n){return e.method==="eth_sendRawTransaction"&&n&&n.error&&n.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(n.error.message="replacement transaction underpriced"),super.getRpcError(e,n)}isCommunityResource(){return this.apiKey===ef}}const nf="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function cE(s){switch(s){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}O(!1,"unsupported network","network",s)}class xc extends Cn{constructor(e,n){e==null&&(e="mainnet");const a=ye.from(e);n==null&&(n=nf);const i=xc.getRequest(a,n);super(i,a,{staticNetwork:a});z(this,"apiKey");mt(this,{apiKey:n})}_getProvider(e){try{return new xc(e,this.apiKey)}catch{}return super._getProvider(e)}async _perform(e){if(e.method==="getTransactionResult"){const{trace:n,tx:a}=await Te({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(n==null||a==null)return null;let i,r=!1;try{i=n[0].result.output,r=n[0].error==="Reverted"}catch{}if(i)return Y(!r,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:a,invocation:null,revert:null}),i;Y(!1,"could not parse trace result","BAD_DATA",{value:n})}return await super._perform(e)}isCommunityResource(){return this.apiKey===nf}static getRequest(e,n){n==null&&(n=nf);const a=new Oe(`https://${cE(e.name)}/v2/${n}`);return a.allowGzip=!0,n===nf&&(a.retryFunc=async(i,r,o)=>(Ia("alchemy"),!0)),a}}function sf(s){switch(s){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}O(!1,"unsupported network","network",s)}function lE(s){switch(s){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}O(!1,"unsupported network","network",s)}class wc extends Cn{constructor(e,n){e==null&&(e="mainnet");const a=ye.from(e);n==null&&(n=sf(a.name));const i=wc.getRequest(a,n);super(i,a,{staticNetwork:a});z(this,"apiKey");mt(this,{apiKey:n})}_getProvider(e){try{return new wc(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===sf(this._network.name)}static getRequest(e,n){n==null&&(n=sf(e.name));const a=new Oe(`https://${lE(e.name)}/${n}`);return a.allowGzip=!0,n===sf(e.name)&&(a.retryFunc=async(i,r,o)=>(Ia("ChainstackProvider"),!0)),a}}class c5 extends Cn{constructor(t){t==null&&(t="mainnet");const e=ye.from(t);O(e.name==="mainnet","unsupported network","network",t),super("https://cloudflare-eth.com/",e,{staticNetwork:e})}}const fE="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),N3=2e3;function dE(s){return s&&typeof s.then=="function"}const B4="org.ethers.plugins.provider.Etherscan";class pd extends Pa{constructor(e){super(B4);z(this,"baseUrl");mt(this,{baseUrl:e})}clone(){return new pd(this.baseUrl)}}const uE=["enableCcipRead"];let hE=1;var $o;class l5 extends mc{constructor(e,n){const a=n??null;super();z(this,"network");z(this,"apiKey");j(this,$o);const i=ye.from(e);O(fE.indexOf(`${i.chainId}`)>=0,"unsupported network","network",i),T(this,$o,i.getPlugin(B4)),mt(this,{apiKey:a,network:i})}getBaseUrl(){if(L(this,$o))return L(this,$o).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}O(!1,"unsupported network","network",this.network)}getUrl(e,n){let a=Object.keys(n).reduce((i,r)=>{const o=n[r];return o!=null&&(i+=`&${r}=${o}`),i},"");return this.apiKey&&(a+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${a}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,n){return n.module=e,n.apikey=this.apiKey,n.chainid=this.network.chainId,n}async detectNetwork(){return this.network}async fetch(e,n,a){const i=hE++,r=a?this.getPostUrl():this.getUrl(e,n),o=a?this.getPostData(e,n):null;this.emit("debug",{action:"sendRequest",id:i,url:r,payload:o});const f=new Oe(r);f.setThrottleParams({slotInterval:1e3}),f.retryFunc=(h,m,p)=>(this.isCommunityResource()&&Ia("Etherscan"),Promise.resolve(!0)),f.processFunc=async(h,m)=>{const p=m.hasBody()?JSON.parse(ma(m.body)):{},C=(typeof p.result=="string"?p.result:"").toLowerCase().indexOf("rate limit")>=0;return e==="proxy"?p&&p.status==0&&p.message=="NOTOK"&&C&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:p}),m.throwThrottleError(p.result,N3)):C&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:p.result}),m.throwThrottleError(p.result,N3)),m},o&&(f.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),f.body=Object.keys(o).map(h=>`${h}=${o[h]}`).join("&"));const l=await f.send();try{l.assertOk()}catch(h){this.emit("debug",{action:"receiveError",id:i,error:h,reason:"assertOk"}),Y(!1,"response error","SERVER_ERROR",{request:f,response:l})}l.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),Y(!1,"missing response","SERVER_ERROR",{request:f,response:l}));const c=JSON.parse(ma(l.body));return e==="proxy"?(c.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:c,reason:"invalid JSON-RPC"}),Y(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:f,response:l,info:{result:c}})),c.error&&(this.emit("debug",{action:"receiveError",id:i,result:c,reason:"JSON-RPC error"}),Y(!1,"error response","SERVER_ERROR",{request:f,response:l,info:{result:c}})),this.emit("debug",{action:"receiveRequest",id:i,result:c}),c.result):c.status==0&&(c.message==="No records found"||c.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:c}),c.result):((c.status!=1||typeof c.message=="string"&&!c.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:c}),Y(!1,"error response","SERVER_ERROR",{request:f,response:l,info:{result:c}})),this.emit("debug",{action:"receiveRequest",id:i,result:c}),c.result)}_getTransactionPostData(e){const n={};for(let a in e){if(uE.indexOf(a)>=0||e[a]==null)continue;let i=e[a];if(!(a==="type"&&i===0)&&!(a==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[a])i=ln(i);else if(a==="accessList")i="["+js(i).map(r=>`{address:"${r.address}",storageKeys:["${r.storageKeys.join('","')}"]}`).join(",")+"]";else if(a==="blobVersionedHashes"){if(i.length===0)continue;Y(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else i=ut(i);n[a]=i}}return n}_checkError(e,n,a){let i="";if(me(n,"SERVER_ERROR")){try{i=n.info.result.error.message}catch{}if(!i)try{i=n.info.message}catch{}}if(e.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&Y(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),(e.method==="call"||e.method==="estimateGas")&&i.match(/execution reverted/i)){let r="";try{r=n.info.result.error.data}catch{}const o=ui.getBuiltinCallException(e.method,e.transaction,r);throw o.info={request:e,error:n},o}if(i&&e.method==="broadcastTransaction"){const r=di.from(e.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&Y(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:r}),i.match(/insufficient funds/)&&Y(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:r}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Y(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:r})}throw n}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(n=>this._checkError(e,n,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});Y(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const n=this._getTransactionPostData(e.transaction);n.module="proxy",n.action="eth_call";try{return await this.fetch("proxy",n,!0)}catch(a){return this._checkError(e,a,e.transaction)}}case"estimateGas":{const n=this._getTransactionPostData(e.transaction);n.module="proxy",n.action="eth_estimateGas";try{return await this.fetch("proxy",n,!0)}catch(a){return this._checkError(e,a,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let n=this._getAddress(e);dE(n)&&(n=await n);try{const a=await this.fetch("contract",{action:"getabi",address:n}),i=JSON.parse(a);return new li(n,i,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}}$o=new WeakMap;function bE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const pE=bE().WebSocket;var ks,Z0,si,or,ai;class xl{constructor(t,e){j(this,ks);j(this,Z0);j(this,si);j(this,or);j(this,ai);T(this,ks,t),T(this,Z0,JSON.stringify(e)),T(this,si,null),T(this,or,null),T(this,ai,null)}get filter(){return JSON.parse(L(this,Z0))}start(){T(this,si,L(this,ks).send("eth_subscribe",this.filter).then(t=>(L(this,ks)._register(t,this),t)))}stop(){L(this,si).then(t=>{L(this,ks).destroyed||L(this,ks).send("eth_unsubscribe",[t])}),T(this,si,null)}pause(t){Y(t,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),T(this,or,!!t)}resume(){T(this,or,null)}_handleMessage(t){if(L(this,si)!=null&&L(this,or)===null){let e=L(this,ai);e==null?e=this._emit(L(this,ks),t):e=e.then(async()=>{await this._emit(L(this,ks),t)}),T(this,ai,e.then(()=>{L(this,ai)===e&&T(this,ai,null)}))}}async _emit(t,e){throw new Error("sub-classes must implemente this; _emit")}}ks=new WeakMap,Z0=new WeakMap,si=new WeakMap,or=new WeakMap,ai=new WeakMap;class f5 extends xl{constructor(t){super(t,["newHeads"])}async _emit(t,e){t.emit("block",parseInt(e.number))}}class d5 extends xl{constructor(t){super(t,["newPendingTransactions"])}async _emit(t,e){t.emit("pending",e)}}var X0;class u5 extends xl{constructor(e,n){super(e,["logs",n]);j(this,X0);T(this,X0,JSON.stringify(n))}get logFilter(){return JSON.parse(L(this,X0))}async _emit(e,n){e.emit(this.logFilter,e._wrapLog(n,e._network))}}X0=new WeakMap;var cr,Qo,ii;class h5 extends bd{constructor(e,n){const a=Object.assign({},n??{});O(a.batchMaxCount==null||a.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",n),a.batchMaxCount=1,a.staticNetwork==null&&(a.staticNetwork=!0);super(e,a);j(this,cr);j(this,Qo);j(this,ii);T(this,cr,new Map),T(this,Qo,new Map),T(this,ii,new Map)}_getSubscriber(e){switch(e.type){case"close":return new yc("close");case"block":return new f5(this);case"pending":return new d5(this);case"event":return new u5(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new yc("drop-log")}return super._getSubscriber(e)}_register(e,n){L(this,Qo).set(e,n);const a=L(this,ii).get(e);if(a){for(const i of a)n._handleMessage(i);L(this,ii).delete(e)}}async _send(e){O(!Array.isArray(e),"WebSocket does not support batch send","payload",e);const n=new Promise((a,i)=>{L(this,cr).set(e.id,{payload:e,resolve:a,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await n]}async _processMessage(e){const n=JSON.parse(e);if(n&&typeof n=="object"&&"id"in n){const a=L(this,cr).get(n.id);if(a==null){this.emit("error",de("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:n}));return}L(this,cr).delete(n.id),a.resolve(n)}else if(n&&n.method==="eth_subscription"){const a=n.params.subscription,i=L(this,Qo).get(a);if(i)i._handleMessage(n.params.result);else{let r=L(this,ii).get(a);r==null&&(r=[],L(this,ii).set(a,r)),r.push(n.params.result)}}else{this.emit("error",de("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:n}));return}}async _write(e){throw new Error("sub-classes must override this")}}cr=new WeakMap,Qo=new WeakMap,ii=new WeakMap;var lr,rs;class gd extends h5{constructor(e,n,a){super(n,a);j(this,lr);j(this,rs);typeof e=="string"?(T(this,lr,()=>new pE(e)),T(this,rs,L(this,lr).call(this))):typeof e=="function"?(T(this,lr,e),T(this,rs,e())):(T(this,lr,null),T(this,rs,e)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}get websocket(){if(L(this,rs)==null)throw new Error("websocket closed");return L(this,rs)}async _write(e){this.websocket.send(e)}async destroy(){L(this,rs)!=null&&(L(this,rs).close(),T(this,rs,null)),super.destroy()}}lr=new WeakMap,rs=new WeakMap;const l0="84842078b09946638c03157f83405213";function gE(s){switch(s){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}O(!1,"unsupported network","network",s)}class b5 extends gd{constructor(e,n){const a=new Cr(e,n),i=a._getConnection();Y(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const r=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(r,a._network);z(this,"projectId");z(this,"projectSecret");mt(this,{projectId:a.projectId,projectSecret:a.projectSecret})}isCommunityResource(){return this.projectId===l0}}class Cr extends Cn{constructor(e,n,a){e==null&&(e="mainnet");const i=ye.from(e);n==null&&(n=l0),a==null&&(a=null);const r=Cr.getRequest(i,n,a);super(r,i,{staticNetwork:i});z(this,"projectId");z(this,"projectSecret");mt(this,{projectId:n,projectSecret:a})}_getProvider(e){try{return new Cr(e,this.projectId,this.projectSecret)}catch{}return super._getProvider(e)}isCommunityResource(){return this.projectId===l0}static getWebSocketProvider(e,n){return new b5(e,n)}static getRequest(e,n,a){n==null&&(n=l0),a==null&&(a=null);const i=new Oe(`https://${gE(e.name)}/v3/${n}`);return i.allowGzip=!0,a&&i.setCredentials("",a),n===l0&&(i.retryFunc=async(r,o,f)=>(Ia("InfuraProvider"),!0)),i}}const af="919b412a057b5e9c9b6dce193c5a60242d6efadb";function yE(s){switch(s){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}O(!1,"unsupported network","network",s)}class Lc extends Cn{constructor(e,n){e==null&&(e="mainnet");const a=ye.from(e);n==null&&(n=af);const i=Lc.getRequest(a,n);super(i,a,{staticNetwork:a});z(this,"token");mt(this,{token:n})}_getProvider(e){try{return new Lc(e,this.token)}catch{}return super._getProvider(e)}isCommunityResource(){return this.token===af}static getRequest(e,n){n==null&&(n=af);const a=new Oe(`https://${yE(e.name)}/${n}`);return a.allowGzip=!0,n===af&&(a.retryFunc=async(i,r,o)=>(Ia("QuickNodeProvider"),!0)),a}}const mE=BigInt("1"),_E=BigInt("2");function xE(s){for(let t=s.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1)),n=s[t];s[t]=s[e],s[e]=n}}function wE(s){return new Promise(t=>{setTimeout(t,s)})}function S2(){return new Date().getTime()}function au(s){return JSON.stringify(s,(t,e)=>typeof e=="bigint"?{type:"bigint",value:e.toString()}:e)}const k3={stallTimeout:400,priority:1,weight:1},U3={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function LE(s,t){for(;(s.blockNumber<0||s.blockNumber<t)&&(s._updateNumber||(s._updateNumber=(async()=>{try{const e=await s.provider.getBlockNumber();e>s.blockNumber&&(s.blockNumber=e)}catch(e){s.blockNumber=-2,s._lastFatalError=e,s._lastFatalErrorTimestamp=S2()}s._updateNumber=null})()),await s._updateNumber,s.outOfSync++,!s._lastFatalError););}function so(s){if(s==null)return"null";if(Array.isArray(s))return"["+s.map(so).join(",")+"]";if(typeof s=="object"&&typeof s.toJSON=="function")return so(s.toJSON());switch(typeof s){case"boolean":case"symbol":return s.toString();case"bigint":case"number":return BigInt(s).toString();case"string":return JSON.stringify(s);case"object":{const t=Object.keys(s);return t.sort(),"{"+t.map(e=>`${JSON.stringify(e)}:${so(s[e])}`).join(",")+"}"}}throw console.log("Could not serialize",s),new Error("Hmm...")}function iu(s,t){if("error"in t){const n=t.error;let a;return me(n,"CALL_EXCEPTION")?a=so(Object.assign({},n,{shortMessage:void 0,reason:void 0,info:void 0})):a=so(n),{tag:a,value:n}}const e=t.result;return{tag:so(e),value:e}}function Rf(s,t){const e=new Map;for(const{value:a,tag:i,weight:r}of t){const o=e.get(i)||{value:a,weight:0};o.weight+=r,e.set(i,o)}let n=null;for(const a of e.values())a.weight>=s&&(!n||a.weight>n.weight)&&(n=a);if(n)return n.value}function O2(s,t){let e=0;const n=new Map;let a=null;const i=[];for(const{value:o,tag:f,weight:l}of t)if(o instanceof Error){const c=n.get(f)||{value:o,weight:0};c.weight+=l,n.set(f,c),(a==null||c.weight>a.weight)&&(a=c)}else i.push(BigInt(o)),e+=l;if(e<s)return a&&a.weight>=s?a.value:void 0;i.sort((o,f)=>o<f?-1:f>o?1:0);const r=Math.floor(i.length/2);return i.length%2?i[r]:(i[r-1]+i[r]+mE)/_E}function ru(s,t){const e=Rf(s,t);if(e!==void 0)return e;for(const n of t)if(n.value)return n.value}function AE(s,t){if(s===1)return St(O2(s,t),"%internal");const e=new Map,n=(r,o)=>{const f=e.get(r)||{result:r,weight:0};f.weight+=o,e.set(r,f)};for(const{weight:r,value:o}of t){const f=St(o);n(f-1,r),n(f,r),n(f+1,r)}let a=0,i;for(const{weight:r,result:o}of e.values())r>=s&&(r>a||i!=null&&r===a&&o>i)&&(a=r,i=o);return i}var rn,da,Jo,bn,S4,R2,O4,R4,F2;class p5 extends mc{constructor(e,n,a){super(n,a);j(this,bn);z(this,"quorum");z(this,"eventQuorum");z(this,"eventWorkers");j(this,rn);j(this,da);j(this,Jo);T(this,rn,e.map(i=>i instanceof mc?Object.assign({provider:i},k3,U3):Object.assign({},k3,i,U3))),T(this,da,-2),T(this,Jo,null),a&&a.quorum!=null?this.quorum=a.quorum:this.quorum=Math.ceil(L(this,rn).reduce((i,r)=>(i+=r.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,O(this.quorum<=L(this,rn).reduce((i,r)=>i+r.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return L(this,rn).map(e=>{const n=Object.assign({},e);for(const a in n)a[0]==="_"&&delete n[a];return n})}async _detectNetwork(){return ye.from(wt(await this._perform({method:"chainId"})))}async _translatePerform(e,n){switch(n.method){case"broadcastTransaction":return await e.broadcastTransaction(n.signedTransaction);case"call":return await e.call(Object.assign({},n.transaction,{blockTag:n.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(n.transaction);case"getBalance":return await e.getBalance(n.address,n.blockTag);case"getBlock":{const a="blockHash"in n?n.blockHash:n.blockTag;return await e.getBlock(a,n.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(n.address,n.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(n.filter);case"getStorage":return await e.getStorage(n.address,n.position,n.blockTag);case"getTransaction":return await e.getTransaction(n.hash);case"getTransactionCount":return await e.getTransactionCount(n.address,n.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(n.hash);case"getTransactionResult":return await e.getTransactionResult(n.hash)}}async _perform(e){if(e.method==="broadcastTransaction"){const r=L(this,rn).map(l=>null),o=L(this,rn).map(async({provider:l,weight:c},h)=>{try{const m=await l._perform(e);r[h]=Object.assign(iu(e.method,{result:m}),{weight:c})}catch(m){r[h]=Object.assign(iu(e.method,{error:m}),{weight:c})}});for(;;){const l=r.filter(m=>m!=null);for(const{value:m}of l)if(!(m instanceof Error))return m;const c=Rf(this.quorum,r.filter(m=>m!=null));if(me(c,"INSUFFICIENT_FUNDS"))throw c;const h=o.filter((m,p)=>r[p]==null);if(h.length===0)break;await Promise.race(h)}const f=ru(this.quorum,r);if(Y(f!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:r.map(au)}}),f instanceof Error)throw f;return f}await ct(this,bn,O4).call(this);const n=new Set;let a=0;for(;;){const r=ct(this,bn,R2).call(this,n,e);if(r==null||(a+=r.config.weight,a>=this.quorum))break}const i=await ct(this,bn,F2).call(this,n,e);for(const r of n)r.perform&&r.result==null&&r.config.lateResponses++;return i}async destroy(){for(const{provider:e}of L(this,rn))e.destroy();super.destroy()}}rn=new WeakMap,da=new WeakMap,Jo=new WeakMap,bn=new WeakSet,S4=function(e){const n=Array.from(e).map(i=>i.config),a=L(this,rn).slice();xE(a),a.sort((i,r)=>i.priority-r.priority);for(const i of a)if(!i._lastFatalError&&n.indexOf(i)===-1)return i;return null},R2=function(e,n){const a=ct(this,bn,S4).call(this,e);if(a==null)return null;const i={config:a,result:null,didBump:!1,perform:null,staller:null},r=S2();return i.perform=(async()=>{try{a.requests++;const f=await this._translatePerform(a.provider,n);i.result={result:f}}catch(f){a.errorResponses++,i.result={error:f}}const o=S2()-r;a._totalTime+=o,a.rollingDuration=.95*a.rollingDuration+.05*o,i.perform=null})(),i.staller=(async()=>{await wE(a.stallTimeout),i.staller=null})(),e.add(i),i},O4=async function(){let e=L(this,Jo);if(!e){const n=[];L(this,rn).forEach(a=>{n.push((async()=>{await LE(a,0),a._lastFatalError||(a._network=await a.provider.getNetwork())})())}),T(this,Jo,e=(async()=>{await Promise.all(n);let a=null;for(const i of L(this,rn)){if(i._lastFatalError)continue;const r=i._network;a==null?a=r.chainId:r.chainId!==a&&Y(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await e},R4=async function(e,n){const a=[];for(const i of e)if(i.result!=null){const{tag:r,value:o}=iu(n.method,i.result);a.push({tag:r,value:o,weight:i.config.weight})}if(!(a.reduce((i,r)=>i+r.weight,0)<this.quorum)){switch(n.method){case"getBlockNumber":{L(this,da)===-2&&T(this,da,Math.ceil(St(O2(this.quorum,L(this,rn).filter(r=>!r._lastFatalError).map(r=>({value:r.blockNumber,tag:St(r.blockNumber).toString(),weight:r.weight}))))));const i=AE(this.quorum,a);return i===void 0?void 0:(i>L(this,da)&&T(this,da,i),L(this,da))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return O2(this.quorum,a);case"getBlock":return"blockTag"in n&&n.blockTag==="pending"?ru(this.quorum,a):Rf(this.quorum,a);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return Rf(this.quorum,a);case"broadcastTransaction":return ru(this.quorum,a)}Y(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${au(n.method)})`})}},F2=async function(e,n){if(e.size===0)throw new Error("no runners?!");const a=[];let i=0;for(const o of e){if(o.perform&&a.push(o.perform),o.staller){a.push(o.staller);continue}o.didBump||(o.didBump=!0,i++)}const r=await ct(this,bn,R4).call(this,e,n);if(r!==void 0){if(r instanceof Error)throw r;return r}for(let o=0;o<i;o++)ct(this,bn,R2).call(this,e,n);return Y(a.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:n,results:Array.from(e).map(o=>au(o.result))}}),await Promise.race(a),await ct(this,bn,F2).call(this,e,n)};function EE(s){return s&&typeof s.send=="function"&&typeof s.close=="function"}const CE="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function F4(s,t){t==null&&(t={});const e=r=>t[r]==="-"?!1:typeof t.exclusive=="string"?r===t.exclusive:Array.isArray(t.exclusive)?t.exclusive.indexOf(r)!==-1:!0;if(typeof s=="string"&&s.match(/^https?:/))return new Cn(s);if(typeof s=="string"&&s.match(/^wss?:/)||EE(s))return new gd(s);let n=null;try{n=ye.from(s)}catch{}const a=[];if(e("publicPolygon")&&n&&(n.name==="matic"?a.push(new Cn("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&a.push(new Cn("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),e("alchemy"))try{a.push(new xc(s,t.alchemy))}catch{}if(e("ankr")&&t.ankr!=null)try{a.push(new _c(s,t.ankr))}catch{}if(e("chainstack"))try{a.push(new wc(s,t.chainstack))}catch{}if(e("cloudflare"))try{a.push(new c5(s))}catch{}if(e("etherscan"))try{a.push(new l5(s,t.etherscan))}catch{}if(e("infura"))try{let r=t.infura,o;typeof r=="object"&&(o=r.projectSecret,r=r.projectId),a.push(new Cr(s,r,o))}catch{}if(e("quicknode"))try{let r=t.quicknode;a.push(new Lc(s,r))}catch{}if(Y(a.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),a.length===1)return a[0];let i=Math.floor(a.length/2);return i>2&&(i=2),n&&CE.indexOf(n.name)!==-1&&(i=1),t&&t.quorum&&(i=t.quorum),new p5(a,void 0,{quorum:i})}var ri,fr;const Z5=class Z5 extends Gc{constructor(e){super(e.provider);z(this,"signer");j(this,ri);j(this,fr);mt(this,{signer:e}),T(this,ri,null),T(this,fr,0)}async getAddress(){return this.signer.getAddress()}connect(e){return new Z5(this.signer.connect(e))}async getNonce(e){if(e==="pending"){L(this,ri)==null&&T(this,ri,super.getNonce("pending"));const n=L(this,fr);return await L(this,ri)+n}return super.getNonce(e)}increment(){kr(this,fr)._++}reset(){T(this,fr,0),T(this,ri,null)}async sendTransaction(e){const n=this.getNonce("pending");return this.increment(),e=await this.signer.populateTransaction(e),e.nonce=await n,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,n,a){return this.signer.signTypedData(e,n,a)}};ri=new WeakMap,fr=new WeakMap;let i1=Z5;var Wo,Zo;const Fi=class Fi extends T4{constructor(e,n,a){const i=Object.assign({},a??{},{batchMaxCount:1});O(e&&e.request,"invalid EIP-1193 provider","ethereum",e);super(n,i);j(this,Wo);j(this,Zo);T(this,Zo,null),a&&a.providerInfo&&T(this,Zo,a.providerInfo),T(this,Wo,async(r,o)=>{const f={method:r,params:o};this.emit("debug",{action:"sendEip1193Request",payload:f});try{const l=await e.request(f);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const c=new Error(l.message);throw c.code=l.code,c.data=l.data,c.payload=f,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}})}get providerInfo(){return L(this,Zo)}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){O(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await L(this,Wo).call(this,e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(a=>a.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await L(this,Wo).call(this,"eth_requestAccounts",[])}catch(n){const a=n.payload;throw this.getRpcError(a,{id:a.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Fi(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const a=e.anyProvider;if(a&&n.ethereum)return new Fi(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((r,o)=>{let f=[];const l=m=>{f.push(m.detail),a&&c()},c=()=>{if(clearTimeout(h),f.length)if(e&&e.filter){const m=e.filter(f.map(p=>Object.assign({},p.info)));if(m==null)r(null);else if(m instanceof Fi)r(m);else{let p=null;if(m.uuid&&(p=f.filter(A=>m.uuid===A.info.uuid)[0]),p){const{provider:C,info:A}=p;r(new Fi(C,void 0,{providerInfo:A}))}else o(de("filter returned unknown info","UNSUPPORTED_OPERATION",{value:m}))}}else{const{provider:m,info:p}=f[0];r(new Fi(m,void 0,{providerInfo:p}))}else r(null);n.removeEventListener("eip6963:announceProvider",l)},h=setTimeout(()=>{c()},i);n.addEventListener("eip6963:announceProvider",l),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};Wo=new WeakMap,Zo=new WeakMap;let R0=Fi;function vE(s){switch(s){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}O(!1,"unsupported network","network",s)}class F0 extends Cn{constructor(e,n){e==null&&(e="mainnet");const a=ye.from(e);n==null&&(n=null);const i=F0.getRequest(a);super(i,a,{staticNetwork:a});z(this,"apiKey");mt(this,{apiKey:n})}_getProvider(e){try{return new F0(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===null}getRpcRequest(e){const n=super.getRpcRequest(e);return n&&n.method==="eth_estimateGas"&&n.args.length==1&&(n.args=n.args.slice(),n.args.push("latest")),n}getRpcError(e,n){const a=n?n.error:null;if(a&&a.code===-32015&&!ce(a.data||"",!0)){const i={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"};let r="";a.message==="VM execution error."?r=i[a.data]||"":i[a.message||""]&&(r=i[a.message||""]),r&&(a.message+=` (reverted: ${a.data})`,a.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+r)}else a&&a.code===-32e3&&a.message==="wrong transaction nonce"&&(a.message+=" (nonce too low)");return super.getRpcError(e,n)}static getRequest(e){const n=new Oe(vE(e.name));return n.allowGzip=!0,n}}const rf="62e1ad51b37b8e00394bda3b";function PE(s){switch(s){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}O(!1,"unsupported network","network",s)}class N0 extends Cn{constructor(e,n,a){e==null&&(e="mainnet");const i=ye.from(e);n==null&&(n=rf),a==null&&(a=null);const r={staticNetwork:i},o=N0.getRequest(i,n,a);super(o,i,r);z(this,"applicationId");z(this,"applicationSecret");mt(this,{applicationId:n,applicationSecret:a})}_getProvider(e){try{return new N0(e,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(e)}static getRequest(e,n,a){n==null&&(n=rf);const i=new Oe(`https://${PE(e.name)}/v1/lb/${n}`);return i.allowGzip=!0,a&&i.setCredentials("",a),n===rf&&(i.retryFunc=async(r,o,f)=>(Ia("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===rf}}const N4=void 0;var Xo;const X5=class X5 extends Gc{constructor(e,n){super(n);z(this,"address");j(this,Xo);O(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),T(this,Xo,e);const a=Or(this.signingKey.publicKey);mt(this,{address:a})}get signingKey(){return L(this,Xo)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new X5(L(this,Xo),e)}async signTransaction(e){e=wr(e);const{to:n,from:a}=await Te({to:e.to?ve(e.to,this):void 0,from:e.from?ve(e.from,this):void 0});n!=null&&(e.to=n),a!=null&&(e.from=a),e.from!=null&&(O(jt(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const i=di.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(rd(e)).serialized}authorizeSync(e){O(typeof e.address=="string","invalid address for authorizeSync","auth.address",e);const n=this.signingKey.sign(ad(e));return Object.assign({},{address:jt(e.address),nonce:wt(e.nonce||0),chainId:wt(e.chainId||0)},{signature:n})}async authorize(e){return e=Object.assign({},e,{address:await ve(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,n,a){const i=await _a.resolveNames(e,n,a,async r=>{Y(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:r}});const o=await this.provider.resolveName(r);return Y(o!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:r}),o});return this.signingKey.sign(_a.hash(i.domain,n,i.value)).serialized}};Xo=new WeakMap;let Ac=X5;const r1=" !#$%&'()*+,-./<=>?@[]^_`{|}~",IE=/^[a-z]*$/i;function M3(s,t){let e=97;return s.reduce((n,a)=>(a===t?e++:a.match(IE)?n.push(String.fromCharCode(e)+a):(e=97,n.push(a)),n),[])}function TE(s,t){for(let a=r1.length-1;a>=0;a--)s=s.split(r1[a]).join(t.substring(2*a,2*a+2));const e=[],n=s.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(a,i,r,o)=>{if(r)for(let f=parseInt(r);f>=0;f--)e.push(";");else e.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return M3(M3(e,";"),":")}function k4(s){return O(s[0]==="0","unsupported auwl data","data",s),TE(s.substring(1+2*r1.length),s.substring(1,1+2*r1.length))}class g5{constructor(t){z(this,"locale");mt(this,{locale:t})}split(t){return t.toLowerCase().split(/\s+/g)}join(t){return t.join(" ")}}var Yo,Y0,dr,tl,N2;class yd extends g5{constructor(e,n,a){super(e);j(this,tl);j(this,Yo);j(this,Y0);j(this,dr);T(this,Yo,n),T(this,Y0,a),T(this,dr,null)}get _data(){return L(this,Yo)}_decodeWords(){return k4(L(this,Yo))}getWord(e){const n=ct(this,tl,N2).call(this);return O(e>=0&&e<n.length,`invalid word index: ${e}`,"index",e),n[e]}getWordIndex(e){return ct(this,tl,N2).call(this).indexOf(e)}}Yo=new WeakMap,Y0=new WeakMap,dr=new WeakMap,tl=new WeakSet,N2=function(){if(L(this,dr)==null){const e=this._decodeWords();if(bs(e.join(`
`)+`
`)!==L(this,Y0))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);T(this,dr,e)}return L(this,dr)};const BE="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",SE="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let ou=null;class Vs extends yd{constructor(){super("en",BE,SE)}static wordlist(){return ou==null&&(ou=new Vs),ou}}function U4(s){return(1<<s)-1<<8-s&255}function OE(s){return(1<<s)-1&255}function cu(s,t){K1("NFKD"),t==null&&(t=Vs.wordlist());const e=t.split(s);O(e.length%3===0&&e.length>=12&&e.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*e.length/8));let a=0;for(let l=0;l<e.length;l++){let c=t.getWordIndex(e[l].normalize("NFKD"));O(c>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)c&1<<10-h&&(n[a>>3]|=1<<7-a%8),a++}const i=32*e.length/3,r=e.length/3,o=U4(r),f=bt(Ue(n.slice(0,i/8)))[0]&o;return O(f===(n[n.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),ut(n.slice(0,i/8))}function lu(s,t){O(s.length%4===0&&s.length>=16&&s.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),t==null&&(t=Vs.wordlist());const e=[0];let n=11;for(let r=0;r<s.length;r++)n>8?(e[e.length-1]<<=8,e[e.length-1]|=s[r],n-=8):(e[e.length-1]<<=n,e[e.length-1]|=s[r]>>8-n,e.push(s[r]&OE(8-n)),n+=3);const a=s.length/4,i=parseInt(Ue(s).substring(2,4),16)&U4(a);return e[e.length-1]<<=a,e[e.length-1]|=i>>8-a,t.join(e.map(r=>t.getWord(r)))}const fu={};class hi{constructor(t,e,n,a,i){z(this,"phrase");z(this,"password");z(this,"wordlist");z(this,"entropy");a==null&&(a=""),i==null&&(i=Vs.wordlist()),Hs(t,fu,"Mnemonic"),mt(this,{phrase:n,password:a,wordlist:i,entropy:e})}computeSeed(){const t=Pe("mnemonic"+this.password,"NFKD");return ys(Pe(this.phrase,"NFKD"),t,2048,64,"sha512")}static fromPhrase(t,e,n){const a=cu(t,n);return t=lu(bt(a),n),new hi(fu,a,t,e,n)}static fromEntropy(t,e,n){const a=bt(t,"entropy"),i=lu(a,n);return new hi(fu,ut(a),i,e,n)}static entropyToPhrase(t,e){const n=bt(t,"entropy");return lu(n,e)}static phraseToEntropy(t,e){return cu(t,e)}static isValidMnemonic(t,e){try{return cu(t,e),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var De=function(s,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?s!==t||!n:!t.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(s):n?n.value:t.get(s)},du=function(s,t,e,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?s!==t||!a:!t.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(s,e):a?a.value=e:t.set(s,e),e},Ff,On,As;const RE={16:10,24:12,32:14},FE=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Tn=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],of=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],NE=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],kE=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],UE=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],ME=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],DE=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],zE=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],qE=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],VE=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],GE=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],HE=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],jE=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],KE=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function uu(s){const t=[];for(let e=0;e<s.length;e+=4)t.push(s[e]<<24|s[e+1]<<16|s[e+2]<<8|s[e+3]);return t}class y5{get key(){return De(this,Ff,"f").slice()}constructor(t){if(Ff.set(this,void 0),On.set(this,void 0),As.set(this,void 0),!(this instanceof y5))throw Error("AES must be instanitated with `new`");du(this,Ff,new Uint8Array(t),"f");const e=RE[this.key.length];if(e==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");du(this,As,[],"f"),du(this,On,[],"f");for(let c=0;c<=e;c++)De(this,As,"f").push([0,0,0,0]),De(this,On,"f").push([0,0,0,0]);const n=(e+1)*4,a=this.key.length/4,i=uu(this.key);let r;for(let c=0;c<a;c++)r=c>>2,De(this,As,"f")[r][c%4]=i[c],De(this,On,"f")[e-r][c%4]=i[c];let o=0,f=a,l;for(;f<n;){if(l=i[a-1],i[0]^=Tn[l>>16&255]<<24^Tn[l>>8&255]<<16^Tn[l&255]<<8^Tn[l>>24&255]^FE[o]<<24,o+=1,a!=8)for(let p=1;p<a;p++)i[p]^=i[p-1];else{for(let p=1;p<a/2;p++)i[p]^=i[p-1];l=i[a/2-1],i[a/2]^=Tn[l&255]^Tn[l>>8&255]<<8^Tn[l>>16&255]<<16^Tn[l>>24&255]<<24;for(let p=a/2+1;p<a;p++)i[p]^=i[p-1]}let c=0,h,m;for(;c<a&&f<n;)h=f>>2,m=f%4,De(this,As,"f")[h][m]=i[c],De(this,On,"f")[e-h][m]=i[c++],f++}for(let c=1;c<e;c++)for(let h=0;h<4;h++)l=De(this,On,"f")[c][h],De(this,On,"f")[c][h]=GE[l>>24&255]^HE[l>>16&255]^jE[l>>8&255]^KE[l&255]}encrypt(t){if(t.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const e=De(this,As,"f").length-1,n=[0,0,0,0];let a=uu(t);for(let o=0;o<4;o++)a[o]^=De(this,As,"f")[0][o];for(let o=1;o<e;o++){for(let f=0;f<4;f++)n[f]=NE[a[f]>>24&255]^kE[a[(f+1)%4]>>16&255]^UE[a[(f+2)%4]>>8&255]^ME[a[(f+3)%4]&255]^De(this,As,"f")[o][f];a=n.slice()}const i=new Uint8Array(16);let r=0;for(let o=0;o<4;o++)r=De(this,As,"f")[e][o],i[4*o]=(Tn[a[o]>>24&255]^r>>24)&255,i[4*o+1]=(Tn[a[(o+1)%4]>>16&255]^r>>16)&255,i[4*o+2]=(Tn[a[(o+2)%4]>>8&255]^r>>8)&255,i[4*o+3]=(Tn[a[(o+3)%4]&255]^r)&255;return i}decrypt(t){if(t.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const e=De(this,On,"f").length-1,n=[0,0,0,0];let a=uu(t);for(let o=0;o<4;o++)a[o]^=De(this,On,"f")[0][o];for(let o=1;o<e;o++){for(let f=0;f<4;f++)n[f]=DE[a[f]>>24&255]^zE[a[(f+3)%4]>>16&255]^qE[a[(f+2)%4]>>8&255]^VE[a[(f+1)%4]&255]^De(this,On,"f")[o][f];a=n.slice()}const i=new Uint8Array(16);let r=0;for(let o=0;o<4;o++)r=De(this,On,"f")[e][o],i[4*o]=(of[a[o]>>24&255]^r>>24)&255,i[4*o+1]=(of[a[(o+3)%4]>>16&255]^r>>16)&255,i[4*o+2]=(of[a[(o+2)%4]>>8&255]^r>>8)&255,i[4*o+3]=(of[a[(o+1)%4]&255]^r)&255;return i}}Ff=new WeakMap,On=new WeakMap,As=new WeakMap;class M4{constructor(t,e,n){if(n&&!(this instanceof n))throw new Error(`${t} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new y5(e)},name:{enumerable:!0,value:t}})}}var cf=function(s,t,e,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?s!==t||!a:!t.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(s,e):a?a.value=e:t.set(s,e),e},Dr=function(s,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?s!==t||!n:!t.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(s):n?n.value:t.get(s)},f0,Zs;class m5 extends M4{constructor(t,e){if(super("ECC",t,m5),f0.set(this,void 0),Zs.set(this,void 0),e){if(e.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");cf(this,f0,new Uint8Array(e),"f")}else cf(this,f0,new Uint8Array(16),"f");cf(this,Zs,this.iv,"f")}get iv(){return new Uint8Array(Dr(this,f0,"f"))}encrypt(t){if(t.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const e=new Uint8Array(t.length);for(let n=0;n<t.length;n+=16){for(let a=0;a<16;a++)Dr(this,Zs,"f")[a]^=t[n+a];cf(this,Zs,this.aes.encrypt(Dr(this,Zs,"f")),"f"),e.set(Dr(this,Zs,"f"),n)}return e}decrypt(t){if(t.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const e=new Uint8Array(t.length);for(let n=0;n<t.length;n+=16){const a=this.aes.decrypt(t.subarray(n,n+16));for(let i=0;i<16;i++)e[n+i]=a[i]^Dr(this,Zs,"f")[i],Dr(this,Zs,"f")[i]=t[n+i]}return e}}f0=new WeakMap,Zs=new WeakMap;var zr=function(s,t,e,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?s!==t||!a:!t.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(s,e):a?a.value=e:t.set(s,e),e},Bn=function(s,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?s!==t||!n:!t.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(s):n?n.value:t.get(s)},d0,Pi,Rn;class Ec extends M4{constructor(t,e){super("CTR",t,Ec),d0.set(this,void 0),Pi.set(this,void 0),Rn.set(this,void 0),zr(this,Rn,new Uint8Array(16),"f"),Bn(this,Rn,"f").fill(0),zr(this,d0,Bn(this,Rn,"f"),"f"),zr(this,Pi,16,"f"),e==null&&(e=1),typeof e=="number"?this.setCounterValue(e):this.setCounterBytes(e)}get counter(){return new Uint8Array(Bn(this,Rn,"f"))}setCounterValue(t){if(!Number.isInteger(t)||t<0||t>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let e=15;e>=0;--e)Bn(this,Rn,"f")[e]=t%256,t=Math.floor(t/256)}setCounterBytes(t){if(t.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Bn(this,Rn,"f").set(t)}increment(){for(let t=15;t>=0;t--)if(Bn(this,Rn,"f")[t]===255)Bn(this,Rn,"f")[t]=0;else{Bn(this,Rn,"f")[t]++;break}}encrypt(t){var e,n;const a=new Uint8Array(t);for(let i=0;i<a.length;i++)Bn(this,Pi,"f")===16&&(zr(this,d0,this.aes.encrypt(Bn(this,Rn,"f")),"f"),zr(this,Pi,0,"f"),this.increment()),a[i]^=Bn(this,d0,"f")[zr(this,Pi,(n=Bn(this,Pi,"f"),e=n++,n),"f"),e];return a}decrypt(t){return this.encrypt(t)}}d0=new WeakMap,Pi=new WeakMap,Rn=new WeakMap;function $E(s){if(s.length<16)throw new TypeError("PKCS#7 invalid length");const t=s[s.length-1];if(t>16)throw new TypeError("PKCS#7 padding byte out of range");const e=s.length-t;for(let n=0;n<t;n++)if(s[e+n]!==t)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(s.subarray(0,e))}function D4(s){return typeof s=="string"&&!s.startsWith("0x")&&(s="0x"+s),Be(s)}function Zc(s,t){for(s=String(s);s.length<t;)s="0"+s;return s}function wl(s){return typeof s=="string"?Pe(s,"NFKC"):Be(s)}function _e(s,t){const e=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);O(e!=null,"invalid path","path",t);const n=e[1],a=e[3],i=e[4]==="!";let r=s;for(const o of n.toLowerCase().split(".")){if(Array.isArray(r)){if(!o.match(/^[0-9]+$/))break;r=r[parseInt(o)]}else if(typeof r=="object"){let f=null;for(const l in r)if(l.toLowerCase()===o){f=r[l];break}r=f}else r=null;if(r==null)break}if(O(!i||r!=null,"missing required value","path",n),a&&r!=null){if(a==="int"){if(typeof r=="string"&&r.match(/^-?[0-9]+$/))return parseInt(r);if(Number.isSafeInteger(r))return r}if(a==="number"&&typeof r=="string"&&r.match(/^-?[0-9.]*$/))return parseFloat(r);if(a==="data"&&typeof r=="string")return D4(r);if(a==="array"&&Array.isArray(r)||a===typeof r)return r;O(!1,`wrong type found for ${a} `,"path",n)}return r}const z4="m/44'/60'/0'/0/0";function o1(s){try{const t=JSON.parse(s);if((t.version!=null?parseInt(t.version):0)===3)return!0}catch{}return!1}function QE(s,t,e){if(_e(s,"crypto.cipher:string")==="aes-128-ctr"){const a=_e(s,"crypto.cipherparams.iv:data!"),i=new Ec(t,a);return ut(i.decrypt(e))}Y(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function c1(s,t){const e=bt(t),n=_e(s,"crypto.ciphertext:data!"),a=ut(oe(Wt([e.slice(16,32),n]))).substring(2);O(a===_e(s,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=QE(s,e.slice(0,16),n),r=Or(i);if(s.address){let l=s.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),O(jt(l)===r,"keystore address/privateKey mismatch","address",s.address)}const o={address:r,privateKey:i};if(_e(s,"x-ethers.version:string")==="0.1"){const l=e.slice(32,64),c=_e(s,"x-ethers.mnemonicCiphertext:data!"),h=_e(s,"x-ethers.mnemonicCounter:data!"),m=new Ec(l,h);o.mnemonic={path:_e(s,"x-ethers.path:string")||z4,locale:_e(s,"x-ethers.locale:string")||"en",entropy:ut(bt(m.decrypt(c)))}}return o}function q4(s){const t=_e(s,"crypto.kdf:string");if(t&&typeof t=="string"){if(t.toLowerCase()==="scrypt"){const e=_e(s,"crypto.kdfparams.salt:data!"),n=_e(s,"crypto.kdfparams.n:int!"),a=_e(s,"crypto.kdfparams.r:int!"),i=_e(s,"crypto.kdfparams.p:int!");O(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),O(a>0&&i>0,"invalid kdf","kdf",t);const r=_e(s,"crypto.kdfparams.dklen:int!");return O(r===32,"invalid kdf.dklen","kdf.dflen",r),{name:"scrypt",salt:e,N:n,r:a,p:i,dkLen:64}}else if(t.toLowerCase()==="pbkdf2"){const e=_e(s,"crypto.kdfparams.salt:data!"),n=_e(s,"crypto.kdfparams.prf:string!"),a=n.split("-").pop();O(a==="sha256"||a==="sha512","invalid kdf.pdf","kdf.pdf",n);const i=_e(s,"crypto.kdfparams.c:int!"),r=_e(s,"crypto.kdfparams.dklen:int!");return O(r===32,"invalid kdf.dklen","kdf.dklen",r),{name:"pbkdf2",salt:e,count:i,dkLen:r,algorithm:a}}}O(!1,"unsupported key-derivation function","kdf",t)}function _5(s,t){const e=JSON.parse(s),n=wl(t),a=q4(e);if(a.name==="pbkdf2"){const{salt:h,count:m,dkLen:p,algorithm:C}=a,A=ys(n,h,m,p,C);return c1(e,A)}Y(a.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:a});const{salt:i,N:r,r:o,p:f,dkLen:l}=a,c=va(n,i,r,o,f,l);return c1(e,c)}function D3(s){return new Promise(t=>{setTimeout(()=>{t()},s)})}async function x5(s,t,e){const n=JSON.parse(s),a=wl(t),i=q4(n);if(i.name==="pbkdf2"){e&&(e(0),await D3(0));const{salt:m,count:p,dkLen:C,algorithm:A}=i,w=ys(a,m,p,C,A);return e&&(e(1),await D3(0)),c1(n,w)}Y(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:r,N:o,r:f,p:l,dkLen:c}=i,h=await Ca(a,r,o,f,l,c,e);return c1(n,h)}function V4(s){const t=s.salt!=null?bt(s.salt,"options.salt"):En(32);let e=1<<17,n=8,a=1;return s.scrypt&&(s.scrypt.N&&(e=s.scrypt.N),s.scrypt.r&&(n=s.scrypt.r),s.scrypt.p&&(a=s.scrypt.p)),O(typeof e=="number"&&e>0&&Number.isSafeInteger(e)&&(BigInt(e)&BigInt(e-1))===BigInt(0),"invalid scrypt N parameter","options.N",e),O(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),O(typeof a=="number"&&a>0&&Number.isSafeInteger(a),"invalid scrypt p parameter","options.p",a),{name:"scrypt",dkLen:32,salt:t,N:e,r:n,p:a}}function G4(s,t,e,n){const a=bt(e.privateKey,"privateKey"),i=n.iv!=null?bt(n.iv,"options.iv"):En(16);O(i.length===16,"invalid options.iv length","options.iv",n.iv);const r=n.uuid!=null?bt(n.uuid,"options.uuid"):En(16);O(r.length===16,"invalid options.uuid length","options.uuid",n.iv);const o=s.slice(0,16),f=s.slice(16,32),l=new Ec(o,i),c=bt(l.encrypt(a)),h=oe(Wt([f,c])),m={address:e.address.substring(2).toLowerCase(),id:T6(r),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ut(i).substring(2)},ciphertext:ut(c).substring(2),kdf:"scrypt",kdfparams:{salt:ut(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:h.substring(2)}};if(e.mnemonic){const p=n.client!=null?n.client:`ethers/${H1}`,C=e.mnemonic.path||z4,A=e.mnemonic.locale||"en",w=s.slice(32,64),I=bt(e.mnemonic.entropy,"account.mnemonic.entropy"),v=En(16),F=new Ec(w,v),S=bt(F.encrypt(I)),D=new Date,u="UTC--"+(D.getUTCFullYear()+"-"+Zc(D.getUTCMonth()+1,2)+"-"+Zc(D.getUTCDate(),2)+"T"+Zc(D.getUTCHours(),2)+"-"+Zc(D.getUTCMinutes(),2)+"-"+Zc(D.getUTCSeconds(),2)+".0Z")+"--"+m.address;m["x-ethers"]={client:p,gethFilename:u,path:C,locale:A,mnemonicCounter:ut(v).substring(2),mnemonicCiphertext:ut(S).substring(2),version:"0.1"}}return JSON.stringify(m)}function md(s,t,e){e==null&&(e={});const n=wl(t),a=V4(e),i=va(n,a.salt,a.N,a.r,a.p,64);return G4(bt(i),a,s,e)}async function _d(s,t,e){e==null&&(e={});const n=wl(t),a=V4(e),i=await Ca(n,a.salt,a.N,a.r,a.p,64,e.progressCallback);return G4(bt(i),a,s,e)}const y0="m/44'/60'/0'/0/0",JE=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Ds=2147483648,WE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ZE="0123456789abcdef";function l1(s,t){let e="";for(;s;)e=ZE[s%16]+e,s=Math.trunc(s/16);for(;e.length<t*2;)e="0"+e;return"0x"+e}function k2(s){const t=bt(s),e=ue(Ue(Ue(t)),0,4),n=Wt([t,e]);return $1(n)}const Cs={};function H4(s,t,e,n){const a=new Uint8Array(37);s&Ds?(Y(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),a.set(bt(n),1)):a.set(bt(e));for(let r=24;r>=0;r-=8)a[33+(r>>3)]=s>>24-r&255;const i=bt(Aa("sha512",t,a));return{IL:i.slice(0,32),IR:i.slice(32)}}function j4(s,t){const e=t.split("/");O(e.length>0,"invalid path","path",t),e[0]==="m"&&(O(s.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${s.depth}`,"path",t),e.shift());let n=s;for(let a=0;a<e.length;a++){const i=e[a];if(i.match(/^[0-9]+'$/)){const r=parseInt(i.substring(0,i.length-1));O(r<Ds,"invalid path index",`path[${a}]`,i),n=n.deriveChild(Ds+r)}else if(i.match(/^[0-9]+$/)){const r=parseInt(i);O(r<Ds,"invalid path index",`path[${a}]`,i),n=n.deriveChild(r)}else O(!1,"invalid path component",`path[${a}]`,i)}return n}var el,U2,ur,u0;const Xn=class Xn extends Ac{constructor(e,n,a,i,r,o,f,l,c){super(n,c);j(this,el);z(this,"publicKey");z(this,"fingerprint");z(this,"parentFingerprint");z(this,"mnemonic");z(this,"chainCode");z(this,"path");z(this,"index");z(this,"depth");Hs(e,Cs,"HDNodeWallet"),mt(this,{publicKey:n.compressedPublicKey});const h=ue(Ea(Ue(this.publicKey)),0,4);mt(this,{parentFingerprint:a,fingerprint:h,chainCode:i,path:r,index:o,depth:f}),mt(this,{mnemonic:l})}connect(e){return new Xn(Cs,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}async encrypt(e,n){return await _d(ct(this,el,U2).call(this),e,{progressCallback:n})}encryptSync(e){return md(ct(this,el,U2).call(this),e)}get extendedKey(){return Y(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),k2(Wt(["0x0488ADE4",l1(this.depth,1),this.parentFingerprint,l1(this.index,4),this.chainCode,Wt(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new vr(Cs,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const n=St(e,"index");O(n<=4294967295,"invalid index","index",n);let a=this.path;a&&(a+="/"+(n&~Ds),n&Ds&&(a+="'"));const{IR:i,IL:r}=H4(n,this.chainCode,this.publicKey,this.privateKey),o=new $n(hs((Br(r)+BigInt(this.privateKey))%WE,32));return new Xn(Cs,o,this.fingerprint,ut(i),a,n,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return j4(this,e)}static fromExtendedKey(e){const n=pe(L6(e));O(n.length===82||k2(n.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const a=n[4],i=ut(n.slice(5,9)),r=parseInt(ut(n.slice(9,13)).substring(2),16),o=ut(n.slice(13,45)),f=n.slice(45,78);switch(ut(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const l=ut(f);return new vr(Cs,Or(l),l,i,o,null,r,a,null)}case"0x0488ade4":case"0x04358394 ":if(f[0]!==0)break;return new Xn(Cs,new $n(f.slice(1)),i,o,null,r,a,null,null)}O(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,n,a){var r;e==null&&(e=""),n==null&&(n=y0),a==null&&(a=Vs.wordlist());const i=hi.fromEntropy(En(16),e,a);return ct(r=Xn,ur,u0).call(r,i.computeSeed(),i).derivePath(n)}static fromMnemonic(e,n){var a;return n||(n=y0),ct(a=Xn,ur,u0).call(a,e.computeSeed(),e).derivePath(n)}static fromPhrase(e,n,a,i){var o;n==null&&(n=""),a==null&&(a=y0),i==null&&(i=Vs.wordlist());const r=hi.fromPhrase(e,n,i);return ct(o=Xn,ur,u0).call(o,r.computeSeed(),r).derivePath(a)}static fromSeed(e){var n;return ct(n=Xn,ur,u0).call(n,e,null)}};el=new WeakSet,U2=function(){const e={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),e},ur=new WeakSet,u0=function(e,n){O(Fc(e),"invalid seed","seed","[REDACTED]");const a=bt(e,"seed");O(a.length>=16&&a.length<=64,"invalid seed","seed","[REDACTED]");const i=bt(Aa("sha512",JE,a)),r=new $n(ut(i.slice(0,32)));return new Xn(Cs,r,"0x00000000",ut(i.slice(32)),"m",0,0,n,null)},j(Xn,ur);let pr=Xn;class vr extends O0{constructor(e,n,a,i,r,o,f,l,c){super(n,c);z(this,"publicKey");z(this,"fingerprint");z(this,"parentFingerprint");z(this,"chainCode");z(this,"path");z(this,"index");z(this,"depth");Hs(e,Cs,"HDNodeVoidWallet"),mt(this,{publicKey:a});const h=ue(Ea(Ue(a)),0,4);mt(this,{publicKey:a,fingerprint:h,parentFingerprint:i,chainCode:r,path:o,index:f,depth:l})}connect(e){return new vr(Cs,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return Y(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),k2(Wt(["0x0488B21E",l1(this.depth,1),this.parentFingerprint,l1(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){const n=St(e,"index");O(n<=4294967295,"invalid index","index",n);let a=this.path;a&&(a+="/"+(n&~Ds),n&Ds&&(a+="'"));const{IR:i,IL:r}=H4(n,this.chainCode,this.publicKey,null),o=$n.addPoints(r,this.publicKey,!0),f=Or(o);return new vr(Cs,f,o,this.fingerprint,ut(i),a,n,this.depth+1,this.provider)}derivePath(e){return j4(this,e)}}function K4(s){const t=St(s,"index");return O(t>=0&&t<Ds,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`}function $4(s){const t=St(s,"index");return O(t>=0&&t<Ds,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`}function f1(s){try{if(JSON.parse(s).encseed)return!0}catch{}return!1}function d1(s,t){const e=JSON.parse(s),n=wl(t),a=jt(_e(e,"ethaddr:string!")),i=D4(_e(e,"encseed:string!"));O(i&&i.length%16===0,"invalid encseed","json",s);const r=bt(ys(n,n,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),f=i.slice(16),l=new m5(r,o),c=$E(bt(l.decrypt(f)));let h="";for(let m=0;m<c.length;m++)h+=String.fromCharCode(c[m]);return{address:a,privateKey:bs(h)}}function z3(s){return new Promise(t=>{setTimeout(()=>{t()},s)})}var nl,M2;const Ni=class Ni extends Ac{constructor(t,e){typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t);let n=typeof t=="string"?new $n(t):t;super(n,e)}connect(t){return new Ni(this.signingKey,t)}async encrypt(t,e){const n={address:this.address,privateKey:this.privateKey};return await _d(n,t,{progressCallback:e})}encryptSync(t){const e={address:this.address,privateKey:this.privateKey};return md(e,t)}static async fromEncryptedJson(t,e,n){var i;let a=null;return o1(t)?a=await x5(t,e,n):f1(t)&&(n&&(n(0),await z3(0)),a=d1(t,e),n&&(n(1),await z3(0))),ct(i=Ni,nl,M2).call(i,a)}static fromEncryptedJsonSync(t,e){var a;let n=null;return o1(t)?n=_5(t,e):f1(t)?n=d1(t,e):O(!1,"invalid JSON wallet","json","[ REDACTED ]"),ct(a=Ni,nl,M2).call(a,n)}static createRandom(t){const e=pr.createRandom();return t?e.connect(t):e}static fromPhrase(t,e){const n=pr.fromPhrase(t);return e?n.connect(e):n}};nl=new WeakSet,M2=function(t){if(O(t,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in t&&t.mnemonic&&t.mnemonic.locale==="en"){const n=hi.fromEntropy(t.mnemonic.entropy),a=pr.fromMnemonic(n,t.mnemonic.path);if(a.address===t.address&&a.privateKey===t.privateKey)return a;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const e=new Ni(t.privateKey);return O(e.address===t.address,"address/privateKey mismatch","json","[ REDACTED ]"),e},j(Ni,nl);let u1=Ni;const XE=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function YE(s,t){const e=(1<<s)-1,n=[];let a=0,i=0,r=0;for(let o=0;o<t.length;o++)for(a=a<<6|XE.indexOf(t[o]),i+=6;i>=s;){const f=a>>i-s;a&=(1<<i-s)-1,i-=s,f===0?r+=e:(n.push(f+r),r=0)}return n}function tC(s,t){let e=k4(s).join(",");return t.split(/,/g).forEach(n=>{const a=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);O(a!==null,"internal error parsing accents","accents",t);let i=0;const r=YE(parseInt(a[3]),a[4]),o=parseInt(a[2]),f=new RegExp(`([${a[1]}])`,"g");e=e.replace(f,(l,c)=>(--r[i]===0&&(c=String.fromCharCode(c.charCodeAt(0),o),i++),c))}),e.split(",")}var sl;class Q4 extends yd{constructor(e,n,a,i){super(e,n,i);j(this,sl);T(this,sl,a)}get _accent(){return L(this,sl)}_decodeWords(){return tC(this._data,this._accent)}}sl=new WeakMap;const J4={en:Vs.wordlist()},eC=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:ui,AbstractProvider:mc,AbstractSigner:Gc,AlchemyProvider:xc,AnkrProvider:_c,BaseContract:Er,BaseWallet:Ac,Block:Y6,BlockscoutProvider:F0,BrowserProvider:R0,ChainstackProvider:wc,CloudflareProvider:c5,ConstructorFragment:ds,Contract:li,ContractEventPayload:e5,ContractFactory:hd,ContractTransactionReceipt:t5,ContractTransactionResponse:ml,ContractUnknownEventPayload:dd,EnsPlugin:Vc,EnsResolver:pc,ErrorDescription:X6,ErrorFragment:$e,EtherSymbol:yg,EtherscanPlugin:pd,EtherscanProvider:l5,EventFragment:Hn,EventLog:yl,EventPayload:Q1,FallbackFragment:cs,FallbackProvider:p5,FeeData:n1,FeeDataNetworkPlugin:a1,FetchCancelSignal:v6,FetchRequest:Oe,FetchResponse:Ms,FetchUrlFeeDataNetworkPlugin:i5,FixedNumber:oc,Fragment:wa,FunctionFragment:jn,GasCostPlugin:qc,HDNodeVoidWallet:vr,HDNodeWallet:pr,Indexed:e1,InfuraProvider:Cr,InfuraWebSocketProvider:b5,Interface:bc,IpcSocketProvider:N4,JsonRpcApiProvider:bd,JsonRpcProvider:Cn,JsonRpcSigner:g0,LangEn:Vs,Log:Fr,LogDescription:W6,MaxInt256:gg,MaxUint256:bg,MessagePrefix:V6,MinInt256:pg,Mnemonic:hi,MulticoinProviderPlugin:a5,N:ug,NamedFragment:zc,Network:ye,NetworkPlugin:Pa,NonceManager:i1,ParamType:Se,PocketProvider:N0,QuickNodeProvider:Lc,Result:fi,Signature:Je,SigningKey:$n,SocketBlockSubscriber:f5,SocketEventSubscriber:u5,SocketPendingSubscriber:d5,SocketProvider:h5,SocketSubscriber:xl,StructFragment:ga,Transaction:di,TransactionDescription:Z6,TransactionReceipt:ld,TransactionResponse:Lr,Typed:ke,TypedDataEncoder:_a,UndecodedEventLog:fd,UnmanagedSubscriber:yc,Utf8ErrorFuncs:C6,VoidSigner:O0,Wallet:u1,WebSocketProvider:gd,WeiPerEther:hg,Wordlist:g5,WordlistOwl:yd,WordlistOwlA:Q4,ZeroAddress:_r,ZeroHash:Jf,accessListify:js,assert:Y,assertArgument:O,assertArgumentCount:j1,assertNormalize:K1,assertPrivate:Hs,authorizationify:td,checkResultErrors:up,computeAddress:Or,computeHmac:Aa,concat:Wt,copyRequest:wr,dataLength:ba,dataSlice:ue,decodeBase58:L6,decodeBase64:A6,decodeBytes32String:h4,decodeRlp:Sr,decryptCrowdsaleJson:d1,decryptKeystoreJson:x5,decryptKeystoreJsonSync:_5,defaultPath:y0,defineProperties:mt,dnsEncode:J6,encodeBase58:$1,encodeBase64:E6,encodeBytes32String:u4,encodeRlp:Kn,encryptKeystoreJson:_d,encryptKeystoreJsonSync:md,ensNormalize:Q6,formatEther:lp,formatUnits:P6,fromTwos:rc,getAccountPath:K4,getAddress:jt,getBigInt:wt,getBytes:bt,getBytesCopy:Be,getCreate2Address:Lg,getCreateAddress:X1,getDefaultProvider:F4,getIcapAddress:wg,getIndexedAccountPath:$4,getNumber:St,getUint:Nc,hashAuthorization:ad,hashMessage:rd,hexlify:ut,id:bs,isAddress:Ag,isAddressable:Y1,isBytesLike:Fc,isCallException:ul,isCrowdsaleJson:f1,isError:me,isHexString:ce,isKeystoreJson:o1,isValidName:Qg,keccak256:oe,lock:_g,makeError:de,mask:ha,namehash:T0,parseEther:fp,parseUnits:I6,pbkdf2:ys,randomBytes:En,recoverAddress:Mc,resolveAddress:ve,resolveProperties:Te,ripemd160:Ea,scrypt:Ca,scryptSync:va,sha256:Ue,sha512:Uc,showThrottleMessage:Ia,solidityPacked:od,solidityPackedKeccak256:Zg,solidityPackedSha256:Xg,stripZerosLeft:Zb,toBeArray:pe,toBeHex:hs,toBigInt:Br,toNumber:w6,toQuantity:ln,toTwos:pl,toUtf8Bytes:Pe,toUtf8CodePoints:ep,toUtf8String:ma,uuidV4:T6,verifyAuthorization:Pg,verifyMessage:Jg,verifyTypedData:s4,version:H1,wordlists:J4,zeroPadBytes:hl,zeroPadValue:un},Symbol.toStringTag,{value:"Module"})),nC=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:ui,AbstractProvider:mc,AbstractSigner:Gc,AlchemyProvider:xc,AnkrProvider:_c,BaseContract:Er,BaseWallet:Ac,Block:Y6,BlockscoutProvider:F0,BrowserProvider:R0,ChainstackProvider:wc,CloudflareProvider:c5,ConstructorFragment:ds,Contract:li,ContractEventPayload:e5,ContractFactory:hd,ContractTransactionReceipt:t5,ContractTransactionResponse:ml,ContractUnknownEventPayload:dd,EnsPlugin:Vc,EnsResolver:pc,ErrorDescription:X6,ErrorFragment:$e,EtherSymbol:yg,EtherscanPlugin:pd,EtherscanProvider:l5,EventFragment:Hn,EventLog:yl,EventPayload:Q1,FallbackFragment:cs,FallbackProvider:p5,FeeData:n1,FeeDataNetworkPlugin:a1,FetchCancelSignal:v6,FetchRequest:Oe,FetchResponse:Ms,FetchUrlFeeDataNetworkPlugin:i5,FixedNumber:oc,Fragment:wa,FunctionFragment:jn,GasCostPlugin:qc,HDNodeVoidWallet:vr,HDNodeWallet:pr,Indexed:e1,InfuraProvider:Cr,InfuraWebSocketProvider:b5,Interface:bc,IpcSocketProvider:N4,JsonRpcApiProvider:bd,JsonRpcProvider:Cn,JsonRpcSigner:g0,LangEn:Vs,Log:Fr,LogDescription:W6,MaxInt256:gg,MaxUint256:bg,MessagePrefix:V6,MinInt256:pg,Mnemonic:hi,MulticoinProviderPlugin:a5,N:ug,NamedFragment:zc,Network:ye,NetworkPlugin:Pa,NonceManager:i1,ParamType:Se,PocketProvider:N0,QuickNodeProvider:Lc,Result:fi,Signature:Je,SigningKey:$n,SocketBlockSubscriber:f5,SocketEventSubscriber:u5,SocketPendingSubscriber:d5,SocketProvider:h5,SocketSubscriber:xl,StructFragment:ga,Transaction:di,TransactionDescription:Z6,TransactionReceipt:ld,TransactionResponse:Lr,Typed:ke,TypedDataEncoder:_a,UndecodedEventLog:fd,UnmanagedSubscriber:yc,Utf8ErrorFuncs:C6,VoidSigner:O0,Wallet:u1,WebSocketProvider:gd,WeiPerEther:hg,Wordlist:g5,WordlistOwl:yd,WordlistOwlA:Q4,ZeroAddress:_r,ZeroHash:Jf,accessListify:js,assert:Y,assertArgument:O,assertArgumentCount:j1,assertNormalize:K1,assertPrivate:Hs,authorizationify:td,checkResultErrors:up,computeAddress:Or,computeHmac:Aa,concat:Wt,copyRequest:wr,dataLength:ba,dataSlice:ue,decodeBase58:L6,decodeBase64:A6,decodeBytes32String:h4,decodeRlp:Sr,decryptCrowdsaleJson:d1,decryptKeystoreJson:x5,decryptKeystoreJsonSync:_5,defaultPath:y0,defineProperties:mt,dnsEncode:J6,encodeBase58:$1,encodeBase64:E6,encodeBytes32String:u4,encodeRlp:Kn,encryptKeystoreJson:_d,encryptKeystoreJsonSync:md,ensNormalize:Q6,ethers:eC,formatEther:lp,formatUnits:P6,fromTwos:rc,getAccountPath:K4,getAddress:jt,getBigInt:wt,getBytes:bt,getBytesCopy:Be,getCreate2Address:Lg,getCreateAddress:X1,getDefaultProvider:F4,getIcapAddress:wg,getIndexedAccountPath:$4,getNumber:St,getUint:Nc,hashAuthorization:ad,hashMessage:rd,hexlify:ut,id:bs,isAddress:Ag,isAddressable:Y1,isBytesLike:Fc,isCallException:ul,isCrowdsaleJson:f1,isError:me,isHexString:ce,isKeystoreJson:o1,isValidName:Qg,keccak256:oe,lock:_g,makeError:de,mask:ha,namehash:T0,parseEther:fp,parseUnits:I6,pbkdf2:ys,randomBytes:En,recoverAddress:Mc,resolveAddress:ve,resolveProperties:Te,ripemd160:Ea,scrypt:Ca,scryptSync:va,sha256:Ue,sha512:Uc,showThrottleMessage:Ia,solidityPacked:od,solidityPackedKeccak256:Zg,solidityPackedSha256:Xg,stripZerosLeft:Zb,toBeArray:pe,toBeHex:hs,toBigInt:Br,toNumber:w6,toQuantity:ln,toTwos:pl,toUtf8Bytes:Pe,toUtf8CodePoints:ep,toUtf8String:ma,uuidV4:T6,verifyAuthorization:Pg,verifyMessage:Jg,verifyTypedData:s4,version:H1,wordlists:J4,zeroPadBytes:hl,zeroPadValue:un},Symbol.toStringTag,{value:"Module"})),Qn=Iy(nC);Object.defineProperty(dl,"__esModule",{value:!0});dl.Ownable__factory=void 0;const q3=Qn,D2=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];class W4{static createInterface(){return new q3.Interface(D2)}static connect(t,e){return new q3.Contract(t,D2,e)}}dl.Ownable__factory=W4;W4.abi=D2;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Ownable__factory=void 0;var t=dl;Object.defineProperty(s,"Ownable__factory",{enumerable:!0,get:function(){return t.Ownable__factory}})})(Jb);var sC=Xt&&Xt.__createBinding||(Object.create?function(s,t,e,n){n===void 0&&(n=e);var a=Object.getOwnPropertyDescriptor(t,e);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(s,n,a)}:function(s,t,e,n){n===void 0&&(n=e),s[n]=t[e]}),aC=Xt&&Xt.__setModuleDefault||(Object.create?function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}:function(s,t){s.default=t}),iC=Xt&&Xt.__importStar||function(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var e in s)e!=="default"&&Object.prototype.hasOwnProperty.call(s,e)&&sC(t,s,e);return aC(t,s),t};Object.defineProperty(G1,"__esModule",{value:!0});G1.access=void 0;G1.access=iC(Jb);var rC=Xt&&Xt.__createBinding||(Object.create?function(s,t,e,n){n===void 0&&(n=e);var a=Object.getOwnPropertyDescriptor(t,e);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(s,n,a)}:function(s,t,e,n){n===void 0&&(n=e),s[n]=t[e]}),oC=Xt&&Xt.__setModuleDefault||(Object.create?function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}:function(s,t){s.default=t}),cC=Xt&&Xt.__importStar||function(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var e in s)e!=="default"&&Object.prototype.hasOwnProperty.call(s,e)&&rC(t,s,e);return oC(t,s),t};Object.defineProperty(V1,"__esModule",{value:!0});V1.contracts=void 0;V1.contracts=cC(G1);var Z4={},X4={},Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.ICensusValidator__factory=void 0;const V3=Qn,z2=[{inputs:[],name:"getCensusRoot",outputs:[{internalType:"uint256",name:"root",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"root",type:"uint256"}],name:"getRootBlockNumber",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"}];class Y4{static createInterface(){return new V3.Interface(z2)}static connect(t,e){return new V3.Contract(t,z2,e)}}Ll.ICensusValidator__factory=Y4;Y4.abi=z2;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.IOrganizationRegistry__factory=void 0;const G3=Qn,q2=[{inputs:[],name:"AlreadyAdministrator",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidMetadataURI",type:"error"},{inputs:[],name:"InvalidOrganizationID",type:"error"},{inputs:[],name:"InvalidOrganizationName",type:"error"},{inputs:[],name:"NotAdministrator",type:"error"},{inputs:[],name:"OrganizationAlreadyExists",type:"error"},{inputs:[],name:"OrganizationNotFound",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"id",type:"address"},{indexed:!0,internalType:"address",name:"administrator",type:"address"}],name:"AdministratorAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"id",type:"address"},{indexed:!0,internalType:"address",name:"administrator",type:"address"},{indexed:!0,internalType:"address",name:"remover",type:"address"}],name:"AdministratorRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"id",type:"address"}],name:"OrganizationCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"id",type:"address"},{indexed:!0,internalType:"address",name:"updater",type:"address"}],name:"OrganizationUpdated",type:"event"},{inputs:[{internalType:"address",name:"id",type:"address"},{internalType:"address",name:"administrator",type:"address"}],name:"addAdministrator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address[]",name:"administrators",type:"address[]"}],name:"createOrganization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"}],name:"deleteOrganization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"}],name:"getOrganization",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address[]",name:"administrators",type:"address[]"}],internalType:"struct IOrganizationRegistry.Organization",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"},{internalType:"address",name:"account",type:"address"}],name:"isAdministrator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"},{internalType:"address",name:"administrator",type:"address"}],name:"removeAdministrator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"}],name:"updateOrganization",outputs:[],stateMutability:"nonpayable",type:"function"}];class t9{static createInterface(){return new G3.Interface(q2)}static connect(t,e){return new G3.Contract(t,q2,e)}}Al.IOrganizationRegistry__factory=t9;t9.abi=q2;var El={};Object.defineProperty(El,"__esModule",{value:!0});El.IProcessRegistry__factory=void 0;const H3=Qn,V2=[{inputs:[],name:"CannotAcceptResult",type:"error"},{inputs:[],name:"CensusNotUpdatable",type:"error"},{inputs:[{internalType:"uint8",name:"limbIndex",type:"uint8"}],name:"InvalidBlobCommitmentLimb",type:"error"},{inputs:[],name:"InvalidBlockNumber",type:"error"},{inputs:[],name:"InvalidCensusAddress",type:"error"},{inputs:[],name:"InvalidCensusConfig",type:"error"},{inputs:[],name:"InvalidCensusOrigin",type:"error"},{inputs:[],name:"InvalidCensusRoot",type:"error"},{inputs:[],name:"InvalidCensusURI",type:"error"},{inputs:[],name:"InvalidDuration",type:"error"},{inputs:[],name:"InvalidMaxCount",type:"error"},{inputs:[],name:"InvalidMaxMinValueBounds",type:"error"},{inputs:[],name:"InvalidMaxValue",type:"error"},{inputs:[],name:"InvalidMaxValueSum",type:"error"},{inputs:[],name:"InvalidMaxVoters",type:"error"},{inputs:[],name:"InvalidMinTotalCost",type:"error"},{inputs:[],name:"InvalidMinValue",type:"error"},{inputs:[],name:"InvalidProcessId",type:"error"},{inputs:[],name:"InvalidStartTime",type:"error"},{inputs:[],name:"InvalidStateRoot",type:"error"},{inputs:[],name:"InvalidStatus",type:"error"},{inputs:[],name:"InvalidTimeBounds",type:"error"},{inputs:[],name:"InvalidUniqueValues",type:"error"},{inputs:[],name:"InvalidValueSumBounds",type:"error"},{inputs:[],name:"MaxVotersReached",type:"error"},{inputs:[],name:"ProcessAlreadyExists",type:"error"},{inputs:[],name:"ProcessNotEnded",type:"error"},{inputs:[],name:"ProcessNotFound",type:"error"},{inputs:[],name:"ProofInvalid",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"UnknownProcessIdPrefix",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"censusRoot",type:"bytes32"},{indexed:!1,internalType:"string",name:"censusURI",type:"string"}],name:"CensusUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!0,internalType:"address",name:"creator",type:"address"}],name:"ProcessCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"duration",type:"uint256"}],name:"ProcessDurationChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"maxVoters",type:"uint256"}],name:"ProcessMaxVotersChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256[]",name:"result",type:"uint256[]"}],name:"ProcessResultsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"oldStateRoot",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStateRoot",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newVotersCount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newOverwrittenVotesCount",type:"uint256"}],name:"ProcessStateTransitioned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!1,internalType:"enum IProcessRegistry.ProcessStatus",name:"oldStatus",type:"uint8"},{indexed:!1,internalType:"enum IProcessRegistry.ProcessStatus",name:"newStatus",type:"uint8"}],name:"ProcessStatusChanged",type:"event"},{inputs:[{internalType:"address",name:"organizationId",type:"address"}],name:"getNextProcessId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"}],name:"getProcess",outputs:[{components:[{internalType:"enum IProcessRegistry.ProcessStatus",name:"status",type:"uint8"},{internalType:"address",name:"organizationId",type:"address"},{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"}],internalType:"struct IProcessRegistry.EncryptionKey",name:"encryptionKey",type:"tuple"},{internalType:"uint256",name:"latestStateRoot",type:"uint256"},{internalType:"uint256[]",name:"result",type:"uint256[]"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"maxVoters",type:"uint256"},{internalType:"uint256",name:"votersCount",type:"uint256"},{internalType:"uint256",name:"overwrittenVotesCount",type:"uint256"},{internalType:"uint256",name:"creationBlock",type:"uint256"},{internalType:"uint256",name:"batchNumber",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"},{components:[{internalType:"bool",name:"costFromWeight",type:"bool"},{internalType:"bool",name:"uniqueValues",type:"bool"},{internalType:"uint8",name:"numFields",type:"uint8"},{internalType:"uint8",name:"costExponent",type:"uint8"},{internalType:"uint256",name:"maxValue",type:"uint256"},{internalType:"uint256",name:"minValue",type:"uint256"},{internalType:"uint256",name:"maxValueSum",type:"uint256"},{internalType:"uint256",name:"minValueSum",type:"uint256"}],internalType:"struct IProcessRegistry.BallotMode",name:"ballotMode",type:"tuple"},{components:[{internalType:"enum IProcessRegistry.CensusOrigin",name:"censusOrigin",type:"uint8"},{internalType:"bytes32",name:"censusRoot",type:"bytes32"},{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"censusURI",type:"string"},{internalType:"bool",name:"onchainAllowAnyValidRoot",type:"bool"}],internalType:"struct IProcessRegistry.Census",name:"census",type:"tuple"}],internalType:"struct IProcessRegistry.Process",name:"process",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"}],name:"getProcessEndTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRVerifierVKeyHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSTVerifierVKeyHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IProcessRegistry.ProcessStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"maxVoters",type:"uint256"},{components:[{internalType:"bool",name:"costFromWeight",type:"bool"},{internalType:"bool",name:"uniqueValues",type:"bool"},{internalType:"uint8",name:"numFields",type:"uint8"},{internalType:"uint8",name:"costExponent",type:"uint8"},{internalType:"uint256",name:"maxValue",type:"uint256"},{internalType:"uint256",name:"minValue",type:"uint256"},{internalType:"uint256",name:"maxValueSum",type:"uint256"},{internalType:"uint256",name:"minValueSum",type:"uint256"}],internalType:"struct IProcessRegistry.BallotMode",name:"ballotMode",type:"tuple"},{components:[{internalType:"enum IProcessRegistry.CensusOrigin",name:"censusOrigin",type:"uint8"},{internalType:"bytes32",name:"censusRoot",type:"bytes32"},{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"censusURI",type:"string"},{internalType:"bool",name:"onchainAllowAnyValidRoot",type:"bool"}],internalType:"struct IProcessRegistry.Census",name:"census",type:"tuple"},{internalType:"string",name:"metadata",type:"string"},{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"}],internalType:"struct IProcessRegistry.EncryptionKey",name:"encryptionKey",type:"tuple"},{internalType:"uint256",name:"initStateRoot",type:"uint256"}],name:"newProcess",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{components:[{internalType:"enum IProcessRegistry.CensusOrigin",name:"censusOrigin",type:"uint8"},{internalType:"bytes32",name:"censusRoot",type:"bytes32"},{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"censusURI",type:"string"},{internalType:"bool",name:"onchainAllowAnyValidRoot",type:"bool"}],internalType:"struct IProcessRegistry.Census",name:"census",type:"tuple"}],name:"setProcessCensus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"setProcessDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"uint256",name:"maxVoters",type:"uint256"}],name:"setProcessMaxVoters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"bytes",name:"proof",type:"bytes"},{internalType:"bytes",name:"input",type:"bytes"}],name:"setProcessResults",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"enum IProcessRegistry.ProcessStatus",name:"newStatus",type:"uint8"}],name:"setProcessStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"bytes",name:"proof",type:"bytes"},{internalType:"bytes",name:"input",type:"bytes"}],name:"submitStateTransition",outputs:[],stateMutability:"nonpayable",type:"function"}];class e9{static createInterface(){return new H3.Interface(V2)}static connect(t,e){return new H3.Contract(t,V2,e)}}El.IProcessRegistry__factory=e9;e9.abi=V2;var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.IZKVerifier__factory=void 0;const j3=Qn,G2=[{inputs:[],name:"provingKeyHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"proof",type:"bytes"},{internalType:"bytes",name:"input",type:"bytes"}],name:"verifyProof",outputs:[],stateMutability:"view",type:"function"}];class n9{static createInterface(){return new j3.Interface(G2)}static connect(t,e){return new j3.Contract(t,G2,e)}}Cl.IZKVerifier__factory=n9;n9.abi=G2;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.IZKVerifier__factory=s.IProcessRegistry__factory=s.IOrganizationRegistry__factory=s.ICensusValidator__factory=void 0;var t=Ll;Object.defineProperty(s,"ICensusValidator__factory",{enumerable:!0,get:function(){return t.ICensusValidator__factory}});var e=Al;Object.defineProperty(s,"IOrganizationRegistry__factory",{enumerable:!0,get:function(){return e.IOrganizationRegistry__factory}});var n=El;Object.defineProperty(s,"IProcessRegistry__factory",{enumerable:!0,get:function(){return n.IProcessRegistry__factory}});var a=Cl;Object.defineProperty(s,"IZKVerifier__factory",{enumerable:!0,get:function(){return a.IZKVerifier__factory}})})(X4);var s9={},vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.BlobsLib__factory=void 0;const hu=Qn,Nf=[{inputs:[],name:"BlobNotFoundInTx",type:"error"},{inputs:[{internalType:"uint256",name:"got",type:"uint256"},{internalType:"uint256",name:"expected",type:"uint256"}],name:"BlobVerificationInvalidBLSModulus",type:"error"},{inputs:[{internalType:"uint256",name:"got",type:"uint256"},{internalType:"uint256",name:"expected",type:"uint256"}],name:"BlobVerificationInvalidFieldElementCount",type:"error"},{inputs:[{internalType:"uint256",name:"got",type:"uint256"},{internalType:"uint256",name:"expected",type:"uint256"}],name:"BlobVerificationInvalidInputLength",type:"error"},{inputs:[{internalType:"uint256",name:"got",type:"uint256"},{internalType:"uint256",name:"expected",type:"uint256"}],name:"BlobVerificationInvalidOutputLength",type:"error"},{inputs:[],name:"BlobVerificationPointEvaluationFailed",type:"error"},{inputs:[{internalType:"uint256",name:"got",type:"uint256"},{internalType:"uint256",name:"expected",type:"uint256"}],name:"KZGInputBadCommitmentLength",type:"error"},{inputs:[{internalType:"uint256",name:"got",type:"uint256"},{internalType:"uint256",name:"expected",type:"uint256"}],name:"KZGInputBadInputLength",type:"error"},{inputs:[{internalType:"uint256",name:"got",type:"uint256"},{internalType:"uint256",name:"expected",type:"uint256"}],name:"KZGInputBadProofLength",type:"error"}],a9="0x6080806040523460175760399081601c823930815050f35b5f80fdfe5f80fdfea264697066735822122012df39744b3f87116180c3d490a210c10666b212b41155d3a3c1d7e49067e5db64736f6c634300081c0033",lC=s=>s.length>1;class w5 extends hu.ContractFactory{constructor(...t){lC(t)?super(...t):super(Nf,a9,t[0])}getDeployTransaction(t){return super.getDeployTransaction(t||{})}deploy(t){return super.deploy(t||{})}connect(t){return super.connect(t)}static createInterface(){return new hu.Interface(Nf)}static connect(t,e){return new hu.Contract(t,Nf,e)}}vl.BlobsLib__factory=w5;w5.bytecode=a9;w5.abi=Nf;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.BlobsLib__factory=void 0;var t=vl;Object.defineProperty(s,"BlobsLib__factory",{enumerable:!0,get:function(){return t.BlobsLib__factory}})})(s9);var i9={},r9={},Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.Verifier__factory=void 0;const bu=Qn,kf=[{inputs:[],name:"CommitmentInvalid",type:"error"},{inputs:[],name:"ProofInvalid",type:"error"},{inputs:[],name:"PublicInputNotInField",type:"error"},{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"},{internalType:"uint256[2]",name:"commitments",type:"uint256[2]"},{internalType:"uint256[2]",name:"commitmentPok",type:"uint256[2]"}],name:"compressProof",outputs:[{internalType:"uint256[4]",name:"compressed",type:"uint256[4]"},{internalType:"uint256[1]",name:"compressedCommitments",type:"uint256[1]"},{internalType:"uint256",name:"compressedCommitmentPok",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[4]",name:"compressedProof",type:"uint256[4]"},{internalType:"uint256[1]",name:"compressedCommitments",type:"uint256[1]"},{internalType:"uint256",name:"compressedCommitmentPok",type:"uint256"},{internalType:"uint256[9]",name:"input",type:"uint256[9]"}],name:"verifyCompressedProof",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"},{internalType:"uint256[2]",name:"commitments",type:"uint256[2]"},{internalType:"uint256[2]",name:"commitmentPok",type:"uint256[2]"},{internalType:"uint256[9]",name:"input",type:"uint256[9]"}],name:"verifyProof",outputs:[],stateMutability:"view",type:"function"}],o9="0x60808060405234601557611b84908161001a8239f35b5f80fdfe60806040526004361015610011575f80fd5b5f3560e01c80635d26278e14610a5757806360e583461461014f5763b1c3a00e1461003a575f80fd5b3461014b5761018036600319011261014b57366101041161014b57366101441161014b57366101841161014b57604051610075608082611448565b608036823760405190602061008a8184611448565b8036843761009c60243560043561165a565b82526100b260843560a4356044356064356116fb565b8284015260408301526100c960e43560c43561165a565b60608301526100de610124356101043561165a565b83526100f0610164356101443561165a565b9060405192835f905b60048210610135575050506080830193905f945b600186106101205760c0858560a0820152f35b8180600192855181520193019501949161010d565b82518152918301916001919091019083016100f9565b5f80fd5b3461014b576102a036600319011261014b57366101041161014b57366101441161014b57366101841161014b57366102a41161014b5760405160206101948183611448565b803683375f516020611b2f5f395f51905f52604051828101906101d0816101c261012435610104358661147e565b03601f198101835282611448565b519020068252604051604061010482377f222a11e5a1fa455473a7d8ee37037b7360f26184362f37931965f306f9fb02a460408201527f2c3841a672fd7ebd288ffc216ed99f9f948602cc2b598b060a2c5c38051b249b60608201527f20a4faaf8edd4f1ca3a79fdc4549aa3de0497adc3277b662aa02231cd31b70c260808201527f254eddb67c04de0e884152db574a42fa772ef20f18ee78c53f80fd77c014739760a0820152604061014460c08301377f1197eee61cc440c73efb850b21936d39424f00466970e4312c8610a25b2d1bb96101008201527f2f58382774fd44cd86350ec4739ac86a4c88c25d389629d7cdf1f4d238d8400a6101208201527f1ef12d9c41366f9e89041c590ad60025322c377a17fbd52a6042e39ce3b6e9836101408201527f222ea6108d7d4dbc652743ebab55fa4cba8ec4313889097aa749c4fe94226cbb61016082015281816101808160085afa90511615610a48576040918251926103408185611448565b61010483855b6101448310610a38575050508051918183017f2b11d2aad66b2e5de7bc5c32dea8d7c6e6f61b91fe0274879914fba5b9a4fa2e84525f516020611b2f5f395f51905f528386808701987f085ed1f31aee200e0e4fe1f2e4dce72625a6a0f443fab336ac52d36288d94fc88a528051855201519260608701938452818760808160065afa947f22bc9d1bd5bd55ba95b4705ef3915f3ae54f106cc341d68fa3d8ddb1413c719682527f057cc358f348d3d428b2ed1f7597d5ac6270964c04292f938bf2881768b1298885527f2e6d4b0d9931eab376671ee5c9e8956a92e71ee9db8a8e7a28cb24e73c8b8a7260016101843560808b0198818a5287878760608160075afa92101616858b60808160065afa16167f0c44fbf8a54d7e1be9dccec9c0055e5cb443543559d01141f0c2fc1b24bddfc984527f2625162083823a129368b22f4976ee21ba246283f409cca35147a0daa082a9dc87526101a4359081895286868660608160075afa92101616848a60808160065afa167f2d817d224dba2ca8ae799a71fd04d3eae7e317c4716064126e78eadf1bddc19384527f07360180b1e6209c27e0f0ab9aaf8a1cfc82b580ccba300159cceca7e1e0435a87526101c4359081895286868660608160075afa92101616848a60808160065afa167f084d7c3a02f36da14bb43c7f6a2496d526bbd8022cfc93cdd60dda08414137b484527f2c052811f54cee8f3d1e678d0830c59725b92d18e1a78008789335fc04b42c7287526101e4359081895286868660608160075afa92101616848a60808160065afa167f01c000ed078e0e50fb92cddc5c7f63f795b7930ad01c4e0fac6977602311b2a684527f12661b14b3517a2037010a4e59b62efa6c7665a279d90c7f2162c27ae30b28378752610204359081895286868660608160075afa92101616848a60808160065afa167f1930f6e6c400e96eaf3fd146d05ce4189ea36a77dfd20895ecd05e1aa590d6e284527f2555538e1bb4d818d6e2c3f37440f2114172e879b1feabb026f3f5eed9a614d38752610224359081895286868660608160075afa92101616848a60808160065afa167f052cecd0a6c307d8fa3c1c4e093b30aa79cd8753bb7b6ad569e803e20311198384527f158c8e0e1754b73c255823b606690f73f5204af05a24cbd300cabf4091559ca08752610244359081895286868660608160075afa92101616848a60808160065afa167f2169dfcfc704758ce2eedc72026f89e2500534c97cb451252caf3da17aa7b26b84527f2524c400945827a371220bedea45ceb55f78f9e0253fbe19c396b55793b7a5558752610264359081895286868660608160075afa92101616848a60808160065afa167f25dd3501e409e81e21dc8bb9b8b19422403525555179db5c3eb57e0b7ad2eba284527f1771134d12ef003c358932c33b3b191f89e04e1307a3181c5415b490afcfe0ee8752610284359081895286868660608160075afa92101616848a60808160065afa16957f131592a6da4b7dd846d1e4315e44b4e0c23e5c032f60c4a94825b4fd2292ec578452525180955260608160075afa92101616818360808160065afa16915193519115610a29575192610100600485377f130a3b67f543deda846445d6230f06dbcc4fc9230d34f91a4b1faad0efe61a8a6101008501527f10e55a50c7b08a64e18b7bde27ec4110fe7fb12202121e6ff101944c875337146101208501527f27bca9fe60d54b8da5015075996a8c1809d5147158087f42e6b066a1141f51776101408501527f1b75effaed932252e6501d6431f3903cd63e860385d61a30a674af708bb976616101608501527f0e414ca47ed0d06cea28bb089a5c55a8f2b279595f96720bfddcdaa56719edda6101808501527f0b60dc69b88f82c08f96b4cfa6b9a2529850f6dd7c665caee80756132e412bf46101a08501527f0b5cbe03d20f03e13c4091fbcddce607c89ce811700287e0ce57f7bf7673c9716101c08501527f217b18acf2565725c2ca9da0ed7d01d58e4d7755cc0d65e2df8be4308782291f6101e08501527f0e39b086089c4a1bd56a58c895756919edabd8a5db92c37d0820c45f1d7404506102008501527f22ac99990ad6874151104f5ceb45277f14c37b1c62ef0396e5c76b9378d740cc6102208501526102408401526102608301527f050b4460d2b42db249c2a912daa47cdbd1a63d9d3f802869aba28520d98aaa346102808301527f2cc154a7a501fb364878767578b3e84476fb3b15e1e4f1f36c41e6e3c4a4f0066102a08301527f021624c1c2e20436e57f00c869b4f4aae66e8f16607b9027306b9abd91bab7156102c08301527f253dffdc41beb8cb4a01c3068dc7a60501047d6003fef6f81a418f3dd70ae7bf6102e0830152816103008160085afa90511615610a1a57005b631ff3747d60e21b5f5260045ffd5b63a54f8e2760e01b5f5260045ffd5b8235815291810191859101610346565b6351d49ff760e11b5f5260045ffd5b3461014b576101e036600319011261014b573660841161014b573660a41161014b57366101e41161014b576040516020610a918183611448565b803683376040805190610aa48183611448565b8036833761030093815192610ab98685611448565b85368537610ac86084356114b6565b868301528152610ad960a4356114b6565b905f516020611b2f5f395f51905f5283516101c2610b038a87015189519283918d8301958661147e565b5190200684528251865286830151878701527f222a11e5a1fa455473a7d8ee37037b7360f26184362f37931965f306f9fb02a4858701527f2c3841a672fd7ebd288ffc216ed99f9f948602cc2b598b060a2c5c38051b249b60608701527f20a4faaf8edd4f1ca3a79fdc4549aa3de0497adc3277b662aa02231cd31b70c260808701527f254eddb67c04de0e884152db574a42fa772ef20f18ee78c53f80fd77c014739760a087015260c086015260e08501527f1197eee61cc440c73efb850b21936d39424f00466970e4312c8610a25b2d1bb96101008501527f2f58382774fd44cd86350ec4739ac86a4c88c25d389629d7cdf1f4d238d8400a6101208501527f1ef12d9c41366f9e89041c590ad60025322c377a17fbd52a6042e39ce3b6e9836101408501527f222ea6108d7d4dbc652743ebab55fa4cba8ec4313889097aa749c4fe94226cbb610160850152825185816101808760085afa90511615610a48578490610c736004356114b6565b610c84602495929535604435611521565b9291909389610c946064356114b6565b9890977f2e6d4b0d9931eab376671ee5c9e8956a92e71ee9db8a8e7a28cb24e73c8b8a7283519b8c937f2b11d2aad66b2e5de7bc5c32dea8d7c6e6f61b91fe0274879914fba5b9a4fa2e85527f085ed1f31aee200e0e4fe1f2e4dce72625a6a0f443fab336ac52d36288d94fc8828601528051868601520151606084019081527f131592a6da4b7dd846d1e4315e44b4e0c23e5c032f60c4a94825b4fd2292ec57858560808160065afa957f22bc9d1bd5bd55ba95b4705ef3915f3ae54f106cc341d68fa3d8ddb1413c7196818701527f057cc358f348d3d428b2ed1f7597d5ac6270964c04292f938bf2881768b129888352600160c4356080880198818a525f516020611b2f5f395f51905f5284808b016060828d0160075afa92101616828860808160065afa16167f0c44fbf8a54d7e1be9dccec9c0055e5cb443543559d01141f0c2fc1b24bddfc9828801527f2625162083823a129368b22f4976ee21ba246283f409cca35147a0daa082a9dc845260e435908189525f516020611b2f5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f2d817d224dba2ca8ae799a71fd04d3eae7e317c4716064126e78eadf1bddc193828801527f07360180b1e6209c27e0f0ab9aaf8a1cfc82b580ccba300159cceca7e1e0435a845261010435908189525f516020611b2f5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f084d7c3a02f36da14bb43c7f6a2496d526bbd8022cfc93cdd60dda08414137b4828801527f2c052811f54cee8f3d1e678d0830c59725b92d18e1a78008789335fc04b42c72845261012435908189525f516020611b2f5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f01c000ed078e0e50fb92cddc5c7f63f795b7930ad01c4e0fac6977602311b2a6828801527f12661b14b3517a2037010a4e59b62efa6c7665a279d90c7f2162c27ae30b2837845261014435908189525f516020611b2f5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f1930f6e6c400e96eaf3fd146d05ce4189ea36a77dfd20895ecd05e1aa590d6e2828801527f2555538e1bb4d818d6e2c3f37440f2114172e879b1feabb026f3f5eed9a614d3845261016435908189525f516020611b2f5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f052cecd0a6c307d8fa3c1c4e093b30aa79cd8753bb7b6ad569e803e203111983828801527f158c8e0e1754b73c255823b606690f73f5204af05a24cbd300cabf4091559ca0845261018435908189525f516020611b2f5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f2169dfcfc704758ce2eedc72026f89e2500534c97cb451252caf3da17aa7b26b828801527f2524c400945827a371220bedea45ceb55f78f9e0253fbe19c396b55793b7a55584526101a435908189525f516020611b2f5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f25dd3501e409e81e21dc8bb9b8b19422403525555179db5c3eb57e0b7ad2eba2828801527f1771134d12ef003c358932c33b3b191f89e04e1307a3181c5415b490afcfe0ee84526101c435908189525f516020611b2f5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa1695015252518092525f516020611b2f5f395f51905f528c8b606082808301920160075afa921016168a8960808160065afa16988c89519901519915610a29578b528b8b0152888a01526060890152608088015260a087015260c086015260e08501527f130a3b67f543deda846445d6230f06dbcc4fc9230d34f91a4b1faad0efe61a8a6101008501527f10e55a50c7b08a64e18b7bde27ec4110fe7fb12202121e6ff101944c875337146101208501527f27bca9fe60d54b8da5015075996a8c1809d5147158087f42e6b066a1141f51776101408501527f1b75effaed932252e6501d6431f3903cd63e860385d61a30a674af708bb976616101608501527f0e414ca47ed0d06cea28bb089a5c55a8f2b279595f96720bfddcdaa56719edda6101808501527f0b60dc69b88f82c08f96b4cfa6b9a2529850f6dd7c665caee80756132e412bf46101a08501527f0b5cbe03d20f03e13c4091fbcddce607c89ce811700287e0ce57f7bf7673c9716101c08501527f217b18acf2565725c2ca9da0ed7d01d58e4d7755cc0d65e2df8be4308782291f6101e08501527f0e39b086089c4a1bd56a58c895756919edabd8a5db92c37d0820c45f1d7404506102008501527f22ac99990ad6874151104f5ceb45277f14c37b1c62ef0396e5c76b9378d740cc6102208501526102408401526102608301527f050b4460d2b42db249c2a912daa47cdbd1a63d9d3f802869aba28520d98aaa346102808301527f2cc154a7a501fb364878767578b3e84476fb3b15e1e4f1f36c41e6e3c4a4f0066102a08301527f021624c1c2e20436e57f00c869b4f4aae66e8f16607b9027306b9abd91bab7156102c08301527f253dffdc41beb8cb4a01c3068dc7a60501047d6003fef6f81a418f3dd70ae7bf6102e0830152519283916114238484611448565b8336843760085afa1590811561143b575b50610a1a57005b6001915051141581611434565b90601f8019910116810190811067ffffffffffffffff82111761146a57604052565b634e487b7160e01b5f52604160045260245ffd5b909160409282526020820152016060516080905f5b8181106114a05750505090565b8251845260209384019390920191600101611493565b801561151a578060011c915f516020611b0f5f395f51905f52831015610a1a576001806114f95f516020611b0f5f395f51905f526003818881818009090861192f565b93161461150257565b905f516020611b0f5f395f51905f5280910681030690565b505f905f90565b801580611652575b611646578060021c92825f516020611b0f5f395f51905f52851080159061162f575b610a1a5784815f516020611b0f5f395f51905f5280808080808080807f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd44816115f99d8d0909998a0981898181800909087f2fcd3ac2a640a154eb23960892a85a68f031ca0c8344b23a577dcf1052b9e7750806810306936002808a16149509818a8181800909087f2b149d40ceb8aaae81be18991be06ac3b5b4c5e559dbefa33267e6dc24a138e508611952565b8092916001808296161461160b575050565b5f516020611b0f5f395f51905f528093945080929550809106810306930681030690565b505f516020611b0f5f395f51905f5281101561154b565b50505f905f905f905f90565b508115611529565b905f516020611b0f5f395f51905f5282108015906116e4575b610a1a578115806116dc575b6116d6576116a35f516020611b0f5f395f51905f526003818581818009090861192f565b8181036116b257505060011b90565b5f516020611b0f5f395f51905f52809106810306145f14610a1a57600190811b1790565b50505f90565b50801561167f565b505f516020611b0f5f395f51905f52811015611673565b919093925f516020611b0f5f395f51905f528310801590611918575b8015611901575b80156118ea575b610a1a5780828685171717156118df579082916118425f516020611b0f5f395f51905f5280808080888180808f9d7f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd448f839290839109099d8e0981848181800909087f2b149d40ceb8aaae81be18991be06ac3b5b4c5e559dbefa33267e6dc24a138e5089a09818c8181800909087f2fcd3ac2a640a154eb23960892a85a68f031ca0c8344b23a577dcf1052b9e7750806810306945f516020611b0f5f395f51905f527f183227397098d014dc2822db40c0ac2ecbc0b548b438e5469e10460b6c3e7ea48161181c81808b8009818780090861192f565b8408095f516020611b0f5f395f51905f5261183682611aa6565b80091415958691611952565b9290808214806118d6575b156118745750505050905f1461186c5760ff60025b169060021b179190565b60ff5f611862565b5f516020611b0f5f395f51905f528091068103061491826118b7575b505015610a1a57600191156118af5760ff60025b169060021b17179190565b60ff5f6118a4565b5f516020611b0f5f395f51905f52919250819006810306145f80611890565b5083831461184d565b50505090505f905f90565b505f516020611b0f5f395f51905f52811015611725565b505f516020611b0f5f395f51905f5282101561171e565b505f516020611b0f5f395f51905f52851015611717565b9061193982611aa6565b915f516020611b0f5f395f51905f5283800903610a1a57565b915f516020611b0f5f395f51905f527f183227397098d014dc2822db40c0ac2ecbc0b548b438e5469e10460b6c3e7ea4816119aa9396949661199c82808a8009818a80090861192f565b90611a9a575b86080961192f565b925f516020611b0f5f395f51905f52600285096040519060208252602080830152602060408301528060608301527f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd4560808301525f516020611b0f5f395f51905f5260a083015260208260c08160055afa91519115610a1a575f516020611b0f5f395f51905f52826001920903610a1a575f516020611b0f5f395f51905f52908209925f516020611b0f5f395f51905f528080808780090681030681878009081490811591611a7b575b50610a1a57565b90505f516020611b0f5f395f51905f528084860960020914155f611a74565b818091068103066119a2565b9060405191602083526020808401526020604084015260608301527f0c19139cb84c680a6e14116da060561765e05aa45a1c72a34f082305b61f3f5260808301525f516020611b0f5f395f51905f5260a083015260208260c08160055afa91519115610a1a5756fe30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd4730644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001a26469706673582212206d05c7c7f2185eb35e91307f68bb1f78732b163f81fe93f974d398784729b5f064736f6c634300081c0033",fC=s=>s.length>1;let L5=class extends bu.ContractFactory{constructor(...t){fC(t)?super(...t):super(kf,o9,t[0])}getDeployTransaction(t){return super.getDeployTransaction(t||{})}deploy(t){return super.deploy(t||{})}connect(t){return super.connect(t)}static createInterface(){return new bu.Interface(kf)}static connect(t,e){return new bu.Contract(t,kf,e)}};Pl.Verifier__factory=L5;L5.bytecode=o9;L5.abi=kf;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Verifier__factory=void 0;var t=Pl;Object.defineProperty(s,"Verifier__factory",{enumerable:!0,get:function(){return t.Verifier__factory}})})(r9);var c9={},xd={};Object.defineProperty(xd,"__esModule",{value:!0});xd.Verifier__factory=void 0;const pu=Qn,Uf=[{inputs:[],name:"CommitmentInvalid",type:"error"},{inputs:[],name:"ProofInvalid",type:"error"},{inputs:[],name:"PublicInputNotInField",type:"error"},{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"},{internalType:"uint256[2]",name:"commitments",type:"uint256[2]"},{internalType:"uint256[2]",name:"commitmentPok",type:"uint256[2]"}],name:"compressProof",outputs:[{internalType:"uint256[4]",name:"compressed",type:"uint256[4]"},{internalType:"uint256[1]",name:"compressedCommitments",type:"uint256[1]"},{internalType:"uint256",name:"compressedCommitmentPok",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[4]",name:"compressedProof",type:"uint256[4]"},{internalType:"uint256[1]",name:"compressedCommitments",type:"uint256[1]"},{internalType:"uint256",name:"compressedCommitmentPok",type:"uint256"},{internalType:"uint256[8]",name:"input",type:"uint256[8]"}],name:"verifyCompressedProof",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"},{internalType:"uint256[2]",name:"commitments",type:"uint256[2]"},{internalType:"uint256[2]",name:"commitmentPok",type:"uint256[2]"},{internalType:"uint256[8]",name:"input",type:"uint256[8]"}],name:"verifyProof",outputs:[],stateMutability:"view",type:"function"}],l9="0x60808060405234601557611ae0908161001a8239f35b5f80fdfe60806040526004361015610011575f80fd5b5f3560e01c80639ed57f3214610b22578063b1c3a00e14610a115763e2dd9f471461003a575f80fd5b34610a0d576101c0366003190112610a0d5736608411610a0d573660a411610a0d57366101c411610a0d57604051602061007481836113a2565b80368337604080519061008781836113a2565b803683376103009381519261009c86856113a2565b853685376100ab6084356116e7565b8683015281526100bc60a4356116e7565b905f516020611a8b5f395f51905f5285516100d787826113a2565b6001815288610104818301601f198a01368237378451906101168a61010881890151938b51948593840196876113d8565b03601f1981018352826113a2565b5190200684528251865286830151878701527f129ea85df19445ba9e718bfc798832ec19fc54d6871ee992ee3644efe60361c0858701527f2eeee6c432f64a24931ad776307a61b99bab74b41c1c621b7c8df2ca0359c7bd60608701527f2bc629c54341a945ca3ec97522d445b5c7618c17ef06e822c9e007c3b24895e660808701527ec1d36a45205652c210cec488e2c0225d692544bfe895e4dea0041c71d7a18960a087015260c086015260e08501527f1a4ef41410348a77b7640f4c5e491410026ce6f14096d871a8331e57cc696f206101008501527f0cb03eb14330efcdc5a721900747b87232de16ec461bc8e61239939e39deed386101208501527f2ce3280e12a6069c70aa22955a5837eb207c418c279a9e7cad7cd0f4e6f8cfaa6101408501527f0155da331b524e59bbc31093bbb893dc7bc49566c4eee7f4f65e4a9e375993e6610160850152825185816101808760085afa905116156109fe5784906102856004356116e7565b610296602495929535604435611752565b92919093896102a66064356116e7565b9890977f0c4a62450775f19c01e7429ca32d5e7b05d57a81347b7aa7dcb66e0f1e433b3a83519b8c937f1d51a2cebd061916b84b001d2be570f4f4ddf347ff63449aa74639384996f58d85527f0220b2619e95a34954edaf5bb2cef83a8c30927a8e166c282970534793fdf73e828601528051868601520151606084019081527f125a5906e995d8b74e6d1c37a3a1721b58685d2e8ee2658b3f03e4f29cd4d54b858560808160065afa957f0629cf10d24fce1656b615f53d79eddee0705e223157bae926949e2c46c2c74f818701527f0aec8680b8b2d499ffd34f18aa16e7ee1dcf578191ec4e0e743adcb8da5780c48352600160c4356080880198818a525f516020611a8b5f395f51905f5284808b016060828d0160075afa92101616828860808160065afa16167f11ba9a7dd0fc2b6460f65e25fdae8bf29c6ea110ab41cbca6f183a084bcddea7828801527f1a0e182a16f03235233a0bdf69e6cc62d0b64bef1f7ea5e06dc53bfd76b2cb60845260e435908189525f516020611a8b5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f19b7a440300b6fad49c2932a7de19ac45bd0c0e54fb5fc6f84a8852fb3d1bf3c828801527f296c7c6496a65377db64b25396844a9f284eff7de4a52be20b9d1313e73cf3a7845261010435908189525f516020611a8b5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f1fc55b137d7f9f532b18026f3f36d7395fb12d1c30584133e310cef908696320828801527f192322785e18de98d9052e4ed2041859b7cc4c1daed7bc35b720e76006c05de8845261012435908189525f516020611a8b5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f23b303bbc6d5d587270831635ae99a798b2daf7057fda73ff66ddda09e16ba83828801527eb1ff9fe1618b0c68cfa03c3484e6ad358feefb12e2e7b59f77aa2233c2fd8e845261014435908189525f516020611a8b5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f07d064634eef00186a74b29eb92b1601b7f6bcfece8a7e6557b30c79e73a1d1c828801527f0da6793eb2498691be04464e0574016a52b679673abba4dcea4fb2e2c9a109e2845261016435908189525f516020611a8b5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f139848a2a7c875a5b8834f97c536129ee22574aafb7ee24659feb3257c596dc6828801527f24d9a60d2c279ea55bfd179537a212b847b1076a95408bbf7c06e9f6cfa9a428845261018435908189525f516020611a8b5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f08aa82d8ff4e425230ff25ee9c6633af86d3e3078c2ede53f4accb464baba410828801527f0e74ab57a507dc4717a3bddefeef61dbd0fdc664ef8b2480027f34f5b7eeac7784526101a435908189525f516020611a8b5f395f51905f5283808a016060828c0160075afa92101616818760808160065afa1695015252518092525f516020611a8b5f395f51905f528c8b606082808301920160075afa921016168a8960808160065afa16988c895199015199156109ef578b528b8b0152888a01526060890152608088015260a087015260c086015260e08501527f2405ca43b82e73302dc922162c5d06891235ae11a88461d7b9835b01c5c06aa56101008501527f2fbb411ac5f9e75b110fc9f8fd4ba389580a9a253c8c59f83a9bd7684c5b522e6101208501527f15e078edd0756ce3f96c7bca9d28bd2a8ad0e17ceb3287904f572cb88839ebd46101408501527f1fbf6495e01dfac5f4241e3fe068ec38b2b88653856939166b3a4e8de54cd4866101608501527f1f302f91957fb0acfbfe150cc040a0c9b6375a7d90e632b86bec96c7631492406101808501527f17c613ebc236baf72e453f81c76879a89c879e9fc9d93a94fecb4d68ea67c2626101a08501527f0fac29aa7d7e813379ad38c124c57dcedc88ada161c9e391c110a26d07412c976101c08501527f099a1db894a80ac96b7242026e0a80b7c40bad4064ea763948c6ce2a3b7b9e976101e08501527f1d0ba55682d8b0fa1ba6eed361d49bbabd28c6c2a7a354d1e08f522d326fb13b6102008501527f2225659acd03b38ab4167a0d653e817b00b3a420bc5393817881df3ff89f3f916102208501526102408401526102608301527f29609df80be2dab2fe3a262b1a0fd377107200c9a3cdc3eaf9fec484dd2f30f76102808301527f2b68ddc9fd8defbe00f4b8ca76434f8ab731da07ad29e62c6f89c4e1d09589e06102a08301527f06ff4f7edb850015ebf5c4a86f668dd748c92731167093a2cd89ce2336fde72e6102c08301527f1057eecfe6cd48bbd604b90ab35daf5bb7c66c3c5432d90de97f16f922799ecd6102e0830152519283916109bb84846113a2565b8336843760085afa159081156109e2575b506109d357005b631ff3747d60e21b5f5260045ffd5b600191505114155f6109cc565b63a54f8e2760e01b5f5260045ffd5b6351d49ff760e11b5f5260045ffd5b5f80fd5b34610a0d57610180366003190112610a0d573661010411610a0d573661014411610a0d573661018411610a0d57604051610a4c6080826113a2565b6080368237604051906020610a6181846113a2565b80368437610a73602435600435611412565b8252610a8960843560a4356044356064356114b3565b828401526040830152610aa060e43560c435611412565b6060830152610ab56101243561010435611412565b8352610ac76101643561014435611412565b9060405192835f905b60048210610b0c575050506080830193905f945b60018610610af75760c0858560a0820152f35b81806001928551815201930195019491610ae4565b8251815291830191600191909101908301610ad0565b34610a0d57610280366003190112610a0d573661010411610a0d573661014411610a0d573661018411610a0d573661028411610a0d576040516020610b6781836113a2565b803683376040915f516020611a8b5f395f51905f528351610b8885826113a2565b60018152836101c4818301601f198801368237378451610bb781610108878201946101243561010435876113d8565b51902006815282518361010482377f129ea85df19445ba9e718bfc798832ec19fc54d6871ee992ee3644efe60361c0848201527f2eeee6c432f64a24931ad776307a61b99bab74b41c1c621b7c8df2ca0359c7bd60608201527f2bc629c54341a945ca3ec97522d445b5c7618c17ef06e822c9e007c3b24895e660808201527ec1d36a45205652c210cec488e2c0225d692544bfe895e4dea0041c71d7a18960a08201528361014460c08301377f1a4ef41410348a77b7640f4c5e491410026ce6f14096d871a8331e57cc696f206101008201527f0cb03eb14330efcdc5a721900747b87232de16ec461bc8e61239939e39deed386101208201527f2ce3280e12a6069c70aa22955a5837eb207c418c279a9e7cad7cd0f4e6f8cfaa6101408201527f0155da331b524e59bbc31093bbb893dc7bc49566c4eee7f4f65e4a9e375993e661016082015282816101808160085afa905116156109fe57825192610d1f81856113a2565b61010483855b6101448310611392575050508051918183017f1d51a2cebd061916b84b001d2be570f4f4ddf347ff63449aa74639384996f58d84525f516020611a8b5f395f51905f528386808701987f0220b2619e95a34954edaf5bb2cef83a8c30927a8e166c282970534793fdf73e8a528051855201519260608701938452818760808160065afa947f0629cf10d24fce1656b615f53d79eddee0705e223157bae926949e2c46c2c74f82527f0aec8680b8b2d499ffd34f18aa16e7ee1dcf578191ec4e0e743adcb8da5780c485527f0c4a62450775f19c01e7429ca32d5e7b05d57a81347b7aa7dcb66e0f1e433b3a60016101843560808b0198818a5287878760608160075afa92101616858b60808160065afa16167f11ba9a7dd0fc2b6460f65e25fdae8bf29c6ea110ab41cbca6f183a084bcddea784527f1a0e182a16f03235233a0bdf69e6cc62d0b64bef1f7ea5e06dc53bfd76b2cb6087526101a4359081895286868660608160075afa92101616848a60808160065afa167f19b7a440300b6fad49c2932a7de19ac45bd0c0e54fb5fc6f84a8852fb3d1bf3c84527f296c7c6496a65377db64b25396844a9f284eff7de4a52be20b9d1313e73cf3a787526101c4359081895286868660608160075afa92101616848a60808160065afa167f1fc55b137d7f9f532b18026f3f36d7395fb12d1c30584133e310cef90869632084527f192322785e18de98d9052e4ed2041859b7cc4c1daed7bc35b720e76006c05de887526101e4359081895286868660608160075afa92101616848a60808160065afa167f23b303bbc6d5d587270831635ae99a798b2daf7057fda73ff66ddda09e16ba8384527eb1ff9fe1618b0c68cfa03c3484e6ad358feefb12e2e7b59f77aa2233c2fd8e8752610204359081895286868660608160075afa92101616848a60808160065afa167f07d064634eef00186a74b29eb92b1601b7f6bcfece8a7e6557b30c79e73a1d1c84527f0da6793eb2498691be04464e0574016a52b679673abba4dcea4fb2e2c9a109e28752610224359081895286868660608160075afa92101616848a60808160065afa167f139848a2a7c875a5b8834f97c536129ee22574aafb7ee24659feb3257c596dc684527f24d9a60d2c279ea55bfd179537a212b847b1076a95408bbf7c06e9f6cfa9a4288752610244359081895286868660608160075afa92101616848a60808160065afa167f08aa82d8ff4e425230ff25ee9c6633af86d3e3078c2ede53f4accb464baba41084527f0e74ab57a507dc4717a3bddefeef61dbd0fdc664ef8b2480027f34f5b7eeac778752610264359081895286868660608160075afa92101616848a60808160065afa16957f125a5906e995d8b74e6d1c37a3a1721b58685d2e8ee2658b3f03e4f29cd4d54b8452525180955260608160075afa92101616818360808160065afa169151935191156109ef575192610100600485377f2405ca43b82e73302dc922162c5d06891235ae11a88461d7b9835b01c5c06aa56101008501527f2fbb411ac5f9e75b110fc9f8fd4ba389580a9a253c8c59f83a9bd7684c5b522e6101208501527f15e078edd0756ce3f96c7bca9d28bd2a8ad0e17ceb3287904f572cb88839ebd46101408501527f1fbf6495e01dfac5f4241e3fe068ec38b2b88653856939166b3a4e8de54cd4866101608501527f1f302f91957fb0acfbfe150cc040a0c9b6375a7d90e632b86bec96c7631492406101808501527f17c613ebc236baf72e453f81c76879a89c879e9fc9d93a94fecb4d68ea67c2626101a08501527f0fac29aa7d7e813379ad38c124c57dcedc88ada161c9e391c110a26d07412c976101c08501527f099a1db894a80ac96b7242026e0a80b7c40bad4064ea763948c6ce2a3b7b9e976101e08501527f1d0ba55682d8b0fa1ba6eed361d49bbabd28c6c2a7a354d1e08f522d326fb13b6102008501527f2225659acd03b38ab4167a0d653e817b00b3a420bc5393817881df3ff89f3f916102208501526102408401526102608301527f29609df80be2dab2fe3a262b1a0fd377107200c9a3cdc3eaf9fec484dd2f30f76102808301527f2b68ddc9fd8defbe00f4b8ca76434f8ab731da07ad29e62c6f89c4e1d09589e06102a08301527f06ff4f7edb850015ebf5c4a86f668dd748c92731167093a2cd89ce2336fde72e6102c08301527f1057eecfe6cd48bbd604b90ab35daf5bb7c66c3c5432d90de97f16f922799ecd6102e0830152816103008160085afa905116156109d357005b8235815291810191859101610d25565b90601f8019910116810190811067ffffffffffffffff8211176113c457604052565b634e487b7160e01b5f52604160045260245ffd5b9091604092825260208201520160208251919201905f5b8181106113fc5750505090565b82518452602093840193909201916001016113ef565b905f516020611a6b5f395f51905f52821080159061149c575b6109d357811580611494575b61148e5761145b5f516020611a6b5f395f51905f526003818581818009090861188b565b81810361146a57505060011b90565b5f516020611a6b5f395f51905f52809106810306145f146109d357600190811b1790565b50505f90565b508015611437565b505f516020611a6b5f395f51905f5281101561142b565b919093925f516020611a6b5f395f51905f5283108015906116d0575b80156116b9575b80156116a2575b6109d3578082868517171715611697579082916115fa5f516020611a6b5f395f51905f5280808080888180808f9d7f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd448f839290839109099d8e0981848181800909087f2b149d40ceb8aaae81be18991be06ac3b5b4c5e559dbefa33267e6dc24a138e5089a09818c8181800909087f2fcd3ac2a640a154eb23960892a85a68f031ca0c8344b23a577dcf1052b9e7750806810306945f516020611a6b5f395f51905f527f183227397098d014dc2822db40c0ac2ecbc0b548b438e5469e10460b6c3e7ea4816115d481808b8009818780090861188b565b8408095f516020611a6b5f395f51905f526115ee82611a02565b800914159586916118ae565b92908082148061168e575b1561162c5750505050905f146116245760ff60025b169060021b179190565b60ff5f61161a565b5f516020611a6b5f395f51905f5280910681030614918261166f575b5050156109d357600191156116675760ff60025b169060021b17179190565b60ff5f61165c565b5f516020611a6b5f395f51905f52919250819006810306145f80611648565b50838314611605565b50505090505f905f90565b505f516020611a6b5f395f51905f528110156114dd565b505f516020611a6b5f395f51905f528210156114d6565b505f516020611a6b5f395f51905f528510156114cf565b801561174b578060011c915f516020611a6b5f395f51905f528310156109d35760018061172a5f516020611a6b5f395f51905f526003818881818009090861188b565b93161461173357565b905f516020611a6b5f395f51905f5280910681030690565b505f905f90565b801580611883575b611877578060021c92825f516020611a6b5f395f51905f528510801590611860575b6109d35784815f516020611a6b5f395f51905f5280808080808080807f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd448161182a9d8d0909998a0981898181800909087f2fcd3ac2a640a154eb23960892a85a68f031ca0c8344b23a577dcf1052b9e7750806810306936002808a16149509818a8181800909087f2b149d40ceb8aaae81be18991be06ac3b5b4c5e559dbefa33267e6dc24a138e5086118ae565b8092916001808296161461183c575050565b5f516020611a6b5f395f51905f528093945080929550809106810306930681030690565b505f516020611a6b5f395f51905f5281101561177c565b50505f905f905f905f90565b50811561175a565b9061189582611a02565b915f516020611a6b5f395f51905f52838009036109d357565b915f516020611a6b5f395f51905f527f183227397098d014dc2822db40c0ac2ecbc0b548b438e5469e10460b6c3e7ea481611906939694966118f882808a8009818a80090861188b565b906119f6575b86080961188b565b925f516020611a6b5f395f51905f52600285096040519060208252602080830152602060408301528060608301527f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd4560808301525f516020611a6b5f395f51905f5260a083015260208260c08160055afa915191156109d3575f516020611a6b5f395f51905f528260019209036109d3575f516020611a6b5f395f51905f52908209925f516020611a6b5f395f51905f5280808087800906810306818780090814908115916119d7575b506109d357565b90505f516020611a6b5f395f51905f528084860960020914155f6119d0565b818091068103066118fe565b9060405191602083526020808401526020604084015260608301527f0c19139cb84c680a6e14116da060561765e05aa45a1c72a34f082305b61f3f5260808301525f516020611a6b5f395f51905f5260a083015260208260c08160055afa915191156109d35756fe30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd4730644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001a26469706673582212204eabd031c4a600d5801fef20e6d8f4a08be1f821ad3cfcec5fb21b77b54c9cbc64736f6c634300081c0033",dC=s=>s.length>1;class A5 extends pu.ContractFactory{constructor(...t){dC(t)?super(...t):super(Uf,l9,t[0])}getDeployTransaction(t){return super.getDeployTransaction(t||{})}deploy(t){return super.deploy(t||{})}connect(t){return super.connect(t)}static createInterface(){return new pu.Interface(Uf)}static connect(t,e){return new pu.Contract(t,Uf,e)}}xd.Verifier__factory=A5;A5.bytecode=l9;A5.abi=Uf;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Verifier__factory=void 0;var t=xd;Object.defineProperty(s,"Verifier__factory",{enumerable:!0,get:function(){return t.Verifier__factory}})})(c9);var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.ResultsVerifierGroth16__factory=void 0;const gu=Qn,Mf=[{inputs:[],name:"CommitmentInvalid",type:"error"},{inputs:[],name:"ProofInvalid",type:"error"},{inputs:[],name:"PublicInputNotInField",type:"error"},{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"},{internalType:"uint256[2]",name:"commitments",type:"uint256[2]"},{internalType:"uint256[2]",name:"commitmentPok",type:"uint256[2]"}],name:"compressProof",outputs:[{internalType:"uint256[4]",name:"compressed",type:"uint256[4]"},{internalType:"uint256[1]",name:"compressedCommitments",type:"uint256[1]"},{internalType:"uint256",name:"compressedCommitmentPok",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"provingKeyHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256[4]",name:"compressedProof",type:"uint256[4]"},{internalType:"uint256[1]",name:"compressedCommitments",type:"uint256[1]"},{internalType:"uint256",name:"compressedCommitmentPok",type:"uint256"},{internalType:"uint256[9]",name:"input",type:"uint256[9]"}],name:"verifyCompressedProof",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"},{internalType:"uint256[2]",name:"commitments",type:"uint256[2]"},{internalType:"uint256[2]",name:"commitmentPok",type:"uint256[2]"},{internalType:"uint256[9]",name:"input",type:"uint256[9]"}],name:"verifyProof",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_proof",type:"bytes"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"verifyProof",outputs:[],stateMutability:"view",type:"function"}],f9="0x60808060405234601557611e7b908161001a8239f35b5f80fdfe6080806040526004361015610012575f80fd5b5f905f3560e01c908163233ace111461167e575080635d26278e14610c8d57806360e583461461037f578063b1c3a00e1461026e5763b8e72af614610055575f80fd5b346102365760403660031901126102365760043567ffffffffffffffff8111610236576100869036906004016116b6565b60243567ffffffffffffffff8111610236576100a69036906004016116b6565b61010093846040516100b882826116e4565b3690376040938480516100cb82826116e4565b3690378480516100db82826116e4565b3690378101610180828203126102365780601f8301121561023657845195610105610100886116e4565b8201868282116102365783905b82821061025e5750509061014061012c8261013394611bde565b9301611bde565b916101209081865161014582826116e4565b36903784019080858303126102365781601f860112156102365785519461016e610120876116e4565b8591810192831161023657905b82821061023a57505050303b15610236578351633072c1a360e11b8152945f600487015b6008821061022057505050906101bd6101c89261010487019061173e565b61014485019061173e565b5f61018484015b6009821061020a575050505f826102a481305afa90811561020157506101f3575080f35b6101ff91505f906116e4565b005b513d5f823e3d90fd5b60208060019285518152019301910190916101cf565b602080600192855181520193019101909161019f565b5f80fd5b813581526020918201910161017b565b634e487b7160e01b5f52604160045260245ffd5b8135815260209182019101610112565b3461023657610180366003190112610236573661010411610236573661014411610236573661018411610236576040516102a96080826116e4565b60803682376040519060206102be81846116e4565b803684376102d0602435600435611909565b82526102e660843560a4356044356064356119aa565b8284015260408301526102fd60e43560c435611909565b60608301526103126101243561010435611909565b83526103246101643561014435611909565b9060405192835f905b60048210610369575050506080830193905f945b600186106103545760c0858560a0820152f35b81806001928551815201930195019491610341565b825181529183019160019190910190830161032d565b34610236576102a036600319011261023657366101041161023657366101441161023657366101841161023657366102a4116102365760405160206103c481836116e4565b803683375f516020611e265f395f51905f5260405182810190610400816103f2610124356101043586611706565b03601f1981018352826116e4565b519020068252604051604061010482377f222a11e5a1fa455473a7d8ee37037b7360f26184362f37931965f306f9fb02a460408201527f2c3841a672fd7ebd288ffc216ed99f9f948602cc2b598b060a2c5c38051b249b60608201527f20a4faaf8edd4f1ca3a79fdc4549aa3de0497adc3277b662aa02231cd31b70c260808201527f254eddb67c04de0e884152db574a42fa772ef20f18ee78c53f80fd77c014739760a0820152604061014460c08301377f1197eee61cc440c73efb850b21936d39424f00466970e4312c8610a25b2d1bb96101008201527f2f58382774fd44cd86350ec4739ac86a4c88c25d389629d7cdf1f4d238d8400a6101208201527f1ef12d9c41366f9e89041c590ad60025322c377a17fbd52a6042e39ce3b6e9836101408201527f222ea6108d7d4dbc652743ebab55fa4cba8ec4313889097aa749c4fe94226cbb61016082015281816101808160085afa90511615610c7e5760408051929061057090846116e4565b61010482845b6101448310610c6e5750505060405190604082017f2b11d2aad66b2e5de7bc5c32dea8d7c6e6f61b91fe0274879914fba5b9a4fa2e83525f516020611e265f395f51905f52604085808601977f085ed1f31aee200e0e4fe1f2e4dce72625a6a0f443fab336ac52d36288d94fc889528051855201519260608601938452818660808160065afa947f22bc9d1bd5bd55ba95b4705ef3915f3ae54f106cc341d68fa3d8ddb1413c719682527f057cc358f348d3d428b2ed1f7597d5ac6270964c04292f938bf2881768b1298885527f2e6d4b0d9931eab376671ee5c9e8956a92e71ee9db8a8e7a28cb24e73c8b8a7260016101843560808a0198818a5287878760608160075afa92101616858a60808160065afa16167f0c44fbf8a54d7e1be9dccec9c0055e5cb443543559d01141f0c2fc1b24bddfc984527f2625162083823a129368b22f4976ee21ba246283f409cca35147a0daa082a9dc87526101a4359081895286868660608160075afa92101616848960808160065afa167f2d817d224dba2ca8ae799a71fd04d3eae7e317c4716064126e78eadf1bddc19384527f07360180b1e6209c27e0f0ab9aaf8a1cfc82b580ccba300159cceca7e1e0435a87526101c4359081895286868660608160075afa92101616848960808160065afa167f084d7c3a02f36da14bb43c7f6a2496d526bbd8022cfc93cdd60dda08414137b484527f2c052811f54cee8f3d1e678d0830c59725b92d18e1a78008789335fc04b42c7287526101e4359081895286868660608160075afa92101616848960808160065afa167f01c000ed078e0e50fb92cddc5c7f63f795b7930ad01c4e0fac6977602311b2a684527f12661b14b3517a2037010a4e59b62efa6c7665a279d90c7f2162c27ae30b28378752610204359081895286868660608160075afa92101616848960808160065afa167f1930f6e6c400e96eaf3fd146d05ce4189ea36a77dfd20895ecd05e1aa590d6e284527f2555538e1bb4d818d6e2c3f37440f2114172e879b1feabb026f3f5eed9a614d38752610224359081895286868660608160075afa92101616848960808160065afa167f052cecd0a6c307d8fa3c1c4e093b30aa79cd8753bb7b6ad569e803e20311198384527f158c8e0e1754b73c255823b606690f73f5204af05a24cbd300cabf4091559ca08752610244359081895286868660608160075afa92101616848960808160065afa167f2169dfcfc704758ce2eedc72026f89e2500534c97cb451252caf3da17aa7b26b84527f2524c400945827a371220bedea45ceb55f78f9e0253fbe19c396b55793b7a5558752610264359081895286868660608160075afa92101616848960808160065afa167f25dd3501e409e81e21dc8bb9b8b19422403525555179db5c3eb57e0b7ad2eba284527f1771134d12ef003c358932c33b3b191f89e04e1307a3181c5415b490afcfe0ee8752610284359081895286868660608160075afa92101616848960808160065afa16957f131592a6da4b7dd846d1e4315e44b4e0c23e5c032f60c4a94825b4fd2292ec578452525180955260608160075afa9210161660408260808160065afa16905192519015610c5f5760405192610100600485377f130a3b67f543deda846445d6230f06dbcc4fc9230d34f91a4b1faad0efe61a8a6101008501527f10e55a50c7b08a64e18b7bde27ec4110fe7fb12202121e6ff101944c875337146101208501527f27bca9fe60d54b8da5015075996a8c1809d5147158087f42e6b066a1141f51776101408501527f1b75effaed932252e6501d6431f3903cd63e860385d61a30a674af708bb976616101608501527f0e414ca47ed0d06cea28bb089a5c55a8f2b279595f96720bfddcdaa56719edda6101808501527f0b60dc69b88f82c08f96b4cfa6b9a2529850f6dd7c665caee80756132e412bf46101a08501527f0b5cbe03d20f03e13c4091fbcddce607c89ce811700287e0ce57f7bf7673c9716101c08501527f217b18acf2565725c2ca9da0ed7d01d58e4d7755cc0d65e2df8be4308782291f6101e08501527f0e39b086089c4a1bd56a58c895756919edabd8a5db92c37d0820c45f1d7404506102008501527f22ac99990ad6874151104f5ceb45277f14c37b1c62ef0396e5c76b9378d740cc6102208501526102408401526102608301527f050b4460d2b42db249c2a912daa47cdbd1a63d9d3f802869aba28520d98aaa346102808301527f2cc154a7a501fb364878767578b3e84476fb3b15e1e4f1f36c41e6e3c4a4f0066102a08301527f021624c1c2e20436e57f00c869b4f4aae66e8f16607b9027306b9abd91bab7156102c08301527f253dffdc41beb8cb4a01c3068dc7a60501047d6003fef6f81a418f3dd70ae7bf6102e0830152816103008160085afa90511615610c5057005b631ff3747d60e21b5f5260045ffd5b63a54f8e2760e01b5f5260045ffd5b8235815291810191849101610576565b6351d49ff760e11b5f5260045ffd5b34610236576101e03660031901126102365736608411610236573660a41161023657366101e411610236576040516020610cc781836116e4565b803683376040805190610cda81836116e4565b8036833761030093815192610cef86856116e4565b85368537610cfe608435611765565b868301528152610d0f60a435611765565b905f516020611e265f395f51905f5283516103f2610d398a87015189519283918d83019586611706565b5190200684528251865286830151878701527f222a11e5a1fa455473a7d8ee37037b7360f26184362f37931965f306f9fb02a4858701527f2c3841a672fd7ebd288ffc216ed99f9f948602cc2b598b060a2c5c38051b249b60608701527f20a4faaf8edd4f1ca3a79fdc4549aa3de0497adc3277b662aa02231cd31b70c260808701527f254eddb67c04de0e884152db574a42fa772ef20f18ee78c53f80fd77c014739760a087015260c086015260e08501527f1197eee61cc440c73efb850b21936d39424f00466970e4312c8610a25b2d1bb96101008501527f2f58382774fd44cd86350ec4739ac86a4c88c25d389629d7cdf1f4d238d8400a6101208501527f1ef12d9c41366f9e89041c590ad60025322c377a17fbd52a6042e39ce3b6e9836101408501527f222ea6108d7d4dbc652743ebab55fa4cba8ec4313889097aa749c4fe94226cbb610160850152825185816101808760085afa90511615610c7e578490610ea9600435611765565b610eba6024959295356044356117d0565b9291909389610eca606435611765565b9890977f2e6d4b0d9931eab376671ee5c9e8956a92e71ee9db8a8e7a28cb24e73c8b8a7283519b8c937f2b11d2aad66b2e5de7bc5c32dea8d7c6e6f61b91fe0274879914fba5b9a4fa2e85527f085ed1f31aee200e0e4fe1f2e4dce72625a6a0f443fab336ac52d36288d94fc8828601528051868601520151606084019081527f131592a6da4b7dd846d1e4315e44b4e0c23e5c032f60c4a94825b4fd2292ec57858560808160065afa957f22bc9d1bd5bd55ba95b4705ef3915f3ae54f106cc341d68fa3d8ddb1413c7196818701527f057cc358f348d3d428b2ed1f7597d5ac6270964c04292f938bf2881768b129888352600160c4356080880198818a525f516020611e265f395f51905f5284808b016060828d0160075afa92101616828860808160065afa16167f0c44fbf8a54d7e1be9dccec9c0055e5cb443543559d01141f0c2fc1b24bddfc9828801527f2625162083823a129368b22f4976ee21ba246283f409cca35147a0daa082a9dc845260e435908189525f516020611e265f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f2d817d224dba2ca8ae799a71fd04d3eae7e317c4716064126e78eadf1bddc193828801527f07360180b1e6209c27e0f0ab9aaf8a1cfc82b580ccba300159cceca7e1e0435a845261010435908189525f516020611e265f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f084d7c3a02f36da14bb43c7f6a2496d526bbd8022cfc93cdd60dda08414137b4828801527f2c052811f54cee8f3d1e678d0830c59725b92d18e1a78008789335fc04b42c72845261012435908189525f516020611e265f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f01c000ed078e0e50fb92cddc5c7f63f795b7930ad01c4e0fac6977602311b2a6828801527f12661b14b3517a2037010a4e59b62efa6c7665a279d90c7f2162c27ae30b2837845261014435908189525f516020611e265f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f1930f6e6c400e96eaf3fd146d05ce4189ea36a77dfd20895ecd05e1aa590d6e2828801527f2555538e1bb4d818d6e2c3f37440f2114172e879b1feabb026f3f5eed9a614d3845261016435908189525f516020611e265f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f052cecd0a6c307d8fa3c1c4e093b30aa79cd8753bb7b6ad569e803e203111983828801527f158c8e0e1754b73c255823b606690f73f5204af05a24cbd300cabf4091559ca0845261018435908189525f516020611e265f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f2169dfcfc704758ce2eedc72026f89e2500534c97cb451252caf3da17aa7b26b828801527f2524c400945827a371220bedea45ceb55f78f9e0253fbe19c396b55793b7a55584526101a435908189525f516020611e265f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f25dd3501e409e81e21dc8bb9b8b19422403525555179db5c3eb57e0b7ad2eba2828801527f1771134d12ef003c358932c33b3b191f89e04e1307a3181c5415b490afcfe0ee84526101c435908189525f516020611e265f395f51905f5283808a016060828c0160075afa92101616818760808160065afa1695015252518092525f516020611e265f395f51905f528c8b606082808301920160075afa921016168a8960808160065afa16988c89519901519915610c5f578b528b8b0152888a01526060890152608088015260a087015260c086015260e08501527f130a3b67f543deda846445d6230f06dbcc4fc9230d34f91a4b1faad0efe61a8a6101008501527f10e55a50c7b08a64e18b7bde27ec4110fe7fb12202121e6ff101944c875337146101208501527f27bca9fe60d54b8da5015075996a8c1809d5147158087f42e6b066a1141f51776101408501527f1b75effaed932252e6501d6431f3903cd63e860385d61a30a674af708bb976616101608501527f0e414ca47ed0d06cea28bb089a5c55a8f2b279595f96720bfddcdaa56719edda6101808501527f0b60dc69b88f82c08f96b4cfa6b9a2529850f6dd7c665caee80756132e412bf46101a08501527f0b5cbe03d20f03e13c4091fbcddce607c89ce811700287e0ce57f7bf7673c9716101c08501527f217b18acf2565725c2ca9da0ed7d01d58e4d7755cc0d65e2df8be4308782291f6101e08501527f0e39b086089c4a1bd56a58c895756919edabd8a5db92c37d0820c45f1d7404506102008501527f22ac99990ad6874151104f5ceb45277f14c37b1c62ef0396e5c76b9378d740cc6102208501526102408401526102608301527f050b4460d2b42db249c2a912daa47cdbd1a63d9d3f802869aba28520d98aaa346102808301527f2cc154a7a501fb364878767578b3e84476fb3b15e1e4f1f36c41e6e3c4a4f0066102a08301527f021624c1c2e20436e57f00c869b4f4aae66e8f16607b9027306b9abd91bab7156102c08301527f253dffdc41beb8cb4a01c3068dc7a60501047d6003fef6f81a418f3dd70ae7bf6102e08301525192839161165984846116e4565b8336843760085afa15908115611671575b50610c5057005b600191505114158161166a565b34610236575f36600319011261023657807f0e408af9c063d217680deb42b0570387d9ca2e6f9a87710af091f3491cc45c9960209252f35b9181601f840112156102365782359167ffffffffffffffff8311610236576020838186019501011161023657565b90601f8019910116810190811067ffffffffffffffff82111761024a57604052565b909160409282526020820152016060516080905f5b8181106117285750505090565b825184526020938401939092019160010161171b565b905f905b6002821061174f57505050565b6020806001928551815201930191019091611742565b80156117c9578060011c915f516020611e065f395f51905f52831015610c50576001806117a85f516020611e065f395f51905f5260038188818180090908611c26565b9316146117b157565b905f516020611e065f395f51905f5280910681030690565b505f905f90565b801580611901575b6118f5578060021c92825f516020611e065f395f51905f5285108015906118de575b610c505784815f516020611e065f395f51905f5280808080808080807f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd44816118a89d8d0909998a0981898181800909087f2fcd3ac2a640a154eb23960892a85a68f031ca0c8344b23a577dcf1052b9e7750806810306936002808a16149509818a8181800909087f2b149d40ceb8aaae81be18991be06ac3b5b4c5e559dbefa33267e6dc24a138e508611c49565b809291600180829616146118ba575050565b5f516020611e065f395f51905f528093945080929550809106810306930681030690565b505f516020611e065f395f51905f528110156117fa565b50505f905f905f905f90565b5081156117d8565b905f516020611e065f395f51905f528210801590611993575b610c505781158061198b575b611985576119525f516020611e065f395f51905f5260038185818180090908611c26565b81810361196157505060011b90565b5f516020611e065f395f51905f52809106810306145f14610c5057600190811b1790565b50505f90565b50801561192e565b505f516020611e065f395f51905f52811015611922565b919093925f516020611e065f395f51905f528310801590611bc7575b8015611bb0575b8015611b99575b610c50578082868517171715611b8e57908291611af15f516020611e065f395f51905f5280808080888180808f9d7f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd448f839290839109099d8e0981848181800909087f2b149d40ceb8aaae81be18991be06ac3b5b4c5e559dbefa33267e6dc24a138e5089a09818c8181800909087f2fcd3ac2a640a154eb23960892a85a68f031ca0c8344b23a577dcf1052b9e7750806810306945f516020611e065f395f51905f527f183227397098d014dc2822db40c0ac2ecbc0b548b438e5469e10460b6c3e7ea481611acb81808b80098187800908611c26565b8408095f516020611e065f395f51905f52611ae582611d9d565b80091415958691611c49565b929080821480611b85575b15611b235750505050905f14611b1b5760ff60025b169060021b179190565b60ff5f611b11565b5f516020611e065f395f51905f52809106810306149182611b66575b505015610c505760019115611b5e5760ff60025b169060021b17179190565b60ff5f611b53565b5f516020611e065f395f51905f52919250819006810306145f80611b3f565b50838314611afc565b50505090505f905f90565b505f516020611e065f395f51905f528110156119d4565b505f516020611e065f395f51905f528210156119cd565b505f516020611e065f395f51905f528510156119c6565b9080601f8301121561023657604080519290611bfa90846116e4565b82906040810192831161023657905b828210611c165750505090565b8135815260209182019101611c09565b90611c3082611d9d565b915f516020611e065f395f51905f5283800903610c5057565b915f516020611e065f395f51905f527f183227397098d014dc2822db40c0ac2ecbc0b548b438e5469e10460b6c3e7ea481611ca193969496611c9382808a8009818a800908611c26565b90611d91575b860809611c26565b925f516020611e065f395f51905f52600285096040519060208252602080830152602060408301528060608301527f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd4560808301525f516020611e065f395f51905f5260a083015260208260c08160055afa91519115610c50575f516020611e065f395f51905f52826001920903610c50575f516020611e065f395f51905f52908209925f516020611e065f395f51905f528080808780090681030681878009081490811591611d72575b50610c5057565b90505f516020611e065f395f51905f528084860960020914155f611d6b565b81809106810306611c99565b9060405191602083526020808401526020604084015260608301527f0c19139cb84c680a6e14116da060561765e05aa45a1c72a34f082305b61f3f5260808301525f516020611e065f395f51905f5260a083015260208260c08160055afa91519115610c505756fe30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd4730644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001a2646970667358221220cbbf26a311ec3345a663d7afcbf885cbea1907432a33e8d9d30357dbb104123964736f6c634300081c0033",uC=s=>s.length>1;class E5 extends gu.ContractFactory{constructor(...t){uC(t)?super(...t):super(Mf,f9,t[0])}getDeployTransaction(t){return super.getDeployTransaction(t||{})}deploy(t){return super.deploy(t||{})}connect(t){return super.connect(t)}static createInterface(){return new gu.Interface(Mf)}static connect(t,e){return new gu.Contract(t,Mf,e)}}Il.ResultsVerifierGroth16__factory=E5;E5.bytecode=f9;E5.abi=Mf;var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.StateTransitionVerifierGroth16__factory=void 0;const yu=Qn,Df=[{inputs:[],name:"CommitmentInvalid",type:"error"},{inputs:[],name:"ProofInvalid",type:"error"},{inputs:[],name:"PublicInputNotInField",type:"error"},{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"},{internalType:"uint256[2]",name:"commitments",type:"uint256[2]"},{internalType:"uint256[2]",name:"commitmentPok",type:"uint256[2]"}],name:"compressProof",outputs:[{internalType:"uint256[4]",name:"compressed",type:"uint256[4]"},{internalType:"uint256[1]",name:"compressedCommitments",type:"uint256[1]"},{internalType:"uint256",name:"compressedCommitmentPok",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"provingKeyHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256[4]",name:"compressedProof",type:"uint256[4]"},{internalType:"uint256[1]",name:"compressedCommitments",type:"uint256[1]"},{internalType:"uint256",name:"compressedCommitmentPok",type:"uint256"},{internalType:"uint256[8]",name:"input",type:"uint256[8]"}],name:"verifyCompressedProof",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"},{internalType:"uint256[2]",name:"commitments",type:"uint256[2]"},{internalType:"uint256[2]",name:"commitmentPok",type:"uint256[2]"},{internalType:"uint256[8]",name:"input",type:"uint256[8]"}],name:"verifyProof",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_proof",type:"bytes"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"verifyProof",outputs:[],stateMutability:"view",type:"function"}],d9="0x60808060405234601557611dfe908161001a8239f35b5f80fdfe6080806040526004361015610012575f80fd5b5f905f3560e01c908163233ace111461157b575080639ed57f3214610cb9578063b1c3a00e14610ba8578063b8e72af614610a315763e2dd9f4714610055575f80fd5b34610a2e576101c0366003190112610a2e5736608411610a2e573660a411610a2e57366101c411610a2e57604051602061008f81836115e1565b803683376040918251926100a381856115e1565b80368537610300938151926100b886856115e1565b853685376100c7608435611a05565b8684015282526100d860a435611a05565b905f516020611da95f395f51905f5285516100f387826115e1565b6001815288610104818301601f198a01368237378551906101328a610124818a0151938b5194859384019687611603565b03601f1981018352826115e1565b5190200683528351865286840151878701527f129ea85df19445ba9e718bfc798832ec19fc54d6871ee992ee3644efe60361c0858701527f2eeee6c432f64a24931ad776307a61b99bab74b41c1c621b7c8df2ca0359c7bd60608701527f2bc629c54341a945ca3ec97522d445b5c7618c17ef06e822c9e007c3b24895e660808701527ec1d36a45205652c210cec488e2c0225d692544bfe895e4dea0041c71d7a18960a087015260c086015260e08501527f1a4ef41410348a77b7640f4c5e491410026ce6f14096d871a8331e57cc696f206101008501527f0cb03eb14330efcdc5a721900747b87232de16ec461bc8e61239939e39deed386101208501527f2ce3280e12a6069c70aa22955a5837eb207c418c279a9e7cad7cd0f4e6f8cfaa6101408501527f0155da331b524e59bbc31093bbb893dc7bc49566c4eee7f4f65e4a9e375993e6610160850152825185816101808760085afa90511615610a1f578490876102a2600435611a05565b866102b4602497939735604435611a70565b9491929390956102c5606435611a05565b999098507f0c4a62450775f19c01e7429ca32d5e7b05d57a81347b7aa7dcb66e0f1e433b3a83519b8c937f1d51a2cebd061916b84b001d2be570f4f4ddf347ff63449aa74639384996f58d85527f0220b2619e95a34954edaf5bb2cef83a8c30927a8e166c282970534793fdf73e828601528051868601520151606084019081527f125a5906e995d8b74e6d1c37a3a1721b58685d2e8ee2658b3f03e4f29cd4d54b858560808160065afa957f0629cf10d24fce1656b615f53d79eddee0705e223157bae926949e2c46c2c74f818701527f0aec8680b8b2d499ffd34f18aa16e7ee1dcf578191ec4e0e743adcb8da5780c48352600160c4356080880198818a525f516020611da95f395f51905f5284808b016060828d0160075afa92101616828860808160065afa16167f11ba9a7dd0fc2b6460f65e25fdae8bf29c6ea110ab41cbca6f183a084bcddea7828801527f1a0e182a16f03235233a0bdf69e6cc62d0b64bef1f7ea5e06dc53bfd76b2cb60845260e435908189525f516020611da95f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f19b7a440300b6fad49c2932a7de19ac45bd0c0e54fb5fc6f84a8852fb3d1bf3c828801527f296c7c6496a65377db64b25396844a9f284eff7de4a52be20b9d1313e73cf3a7845261010435908189525f516020611da95f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f1fc55b137d7f9f532b18026f3f36d7395fb12d1c30584133e310cef908696320828801527f192322785e18de98d9052e4ed2041859b7cc4c1daed7bc35b720e76006c05de8845261012435908189525f516020611da95f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f23b303bbc6d5d587270831635ae99a798b2daf7057fda73ff66ddda09e16ba83828801527eb1ff9fe1618b0c68cfa03c3484e6ad358feefb12e2e7b59f77aa2233c2fd8e845261014435908189525f516020611da95f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f07d064634eef00186a74b29eb92b1601b7f6bcfece8a7e6557b30c79e73a1d1c828801527f0da6793eb2498691be04464e0574016a52b679673abba4dcea4fb2e2c9a109e2845261016435908189525f516020611da95f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f139848a2a7c875a5b8834f97c536129ee22574aafb7ee24659feb3257c596dc6828801527f24d9a60d2c279ea55bfd179537a212b847b1076a95408bbf7c06e9f6cfa9a428845261018435908189525f516020611da95f395f51905f5283808a016060828c0160075afa92101616818760808160065afa167f08aa82d8ff4e425230ff25ee9c6633af86d3e3078c2ede53f4accb464baba410828801527f0e74ab57a507dc4717a3bddefeef61dbd0fdc664ef8b2480027f34f5b7eeac7784526101a435908189525f516020611da95f395f51905f5283808a016060828c0160075afa92101616818760808160065afa1695015252518092525f516020611da95f395f51905f528c8b606082808301920160075afa921016168a8960808160065afa16988c89519901519915610a10578b528b8b0152888a01526060890152608088015260a087015260c086015260e08501527f2405ca43b82e73302dc922162c5d06891235ae11a88461d7b9835b01c5c06aa56101008501527f2fbb411ac5f9e75b110fc9f8fd4ba389580a9a253c8c59f83a9bd7684c5b522e6101208501527f15e078edd0756ce3f96c7bca9d28bd2a8ad0e17ceb3287904f572cb88839ebd46101408501527f1fbf6495e01dfac5f4241e3fe068ec38b2b88653856939166b3a4e8de54cd4866101608501527f1f302f91957fb0acfbfe150cc040a0c9b6375a7d90e632b86bec96c7631492406101808501527f17c613ebc236baf72e453f81c76879a89c879e9fc9d93a94fecb4d68ea67c2626101a08501527f0fac29aa7d7e813379ad38c124c57dcedc88ada161c9e391c110a26d07412c976101c08501527f099a1db894a80ac96b7242026e0a80b7c40bad4064ea763948c6ce2a3b7b9e976101e08501527f1d0ba55682d8b0fa1ba6eed361d49bbabd28c6c2a7a354d1e08f522d326fb13b6102008501527f2225659acd03b38ab4167a0d653e817b00b3a420bc5393817881df3ff89f3f916102208501526102408401526102608301527f29609df80be2dab2fe3a262b1a0fd377107200c9a3cdc3eaf9fec484dd2f30f76102808301527f2b68ddc9fd8defbe00f4b8ca76434f8ab731da07ad29e62c6f89c4e1d09589e06102a08301527f06ff4f7edb850015ebf5c4a86f668dd748c92731167093a2cd89ce2336fde72e6102c08301527f1057eecfe6cd48bbd604b90ab35daf5bb7c66c3c5432d90de97f16f922799ecd6102e0830152519283916109db84846115e1565b8336843760085afa15908115610a03575b506109f45780f35b631ff3747d60e21b8152600490fd5b600191505114155f6109ec565b63a54f8e2760e01b8f5260048ffd5b6351d49ff760e11b8752600487fd5b80fd5b5034610ba4576040366003190112610ba45760043567ffffffffffffffff8111610ba457610a639036906004016115b3565b60243567ffffffffffffffff8111610ba457610a839036906004016115b3565b90926101009384604051610a9782826115e1565b369037604093848051610aaa82826115e1565b369037848051610aba82826115e1565b36903782019461018083870312610ba457610aef610ad88785611960565b96610140610ae8828588016119a9565b95016119a9565b93818651610afd82826115e1565b36903782019082820312610ba457610b1491611960565b90610b1d6119f1565b50610b266119f1565b50303b15610ba457610b7492610b5e610b6992610b53875198634f6abf9960e11b8a5260048a019061163d565b610104880190611664565b610144860190611664565b61018484019061163d565b5f8261028481305afa908115610b9b5750610b8d575080f35b610b9991505f906115e1565b005b513d5f823e3d90fd5b5f80fd5b34610ba457610180366003190112610ba4573661010411610ba4573661014411610ba4573661018411610ba457604051610be36080826115e1565b6080368237604051906020610bf881846115e1565b80368437610c0a60243560043561168b565b8252610c2060843560a43560443560643561172c565b828401526040830152610c3760e43560c43561168b565b6060830152610c4c610124356101043561168b565b8352610c5e610164356101443561168b565b9060405192835f905b60048210610ca3575050506080830193905f945b60018610610c8e5760c0858560a0820152f35b81806001928551815201930195019491610c7b565b8251815291830191600191909101908301610c67565b34610ba457610280366003190112610ba4573661010411610ba4573661014411610ba4573661018411610ba4573661028411610ba4576040516020610cfe81836115e1565b803683376040915f516020611da95f395f51905f528351610d1f85826115e1565b60018152836101c4818301601f198801368237378451610d4e8161012487820194610124356101043587611603565b51902006815282518361010482377f129ea85df19445ba9e718bfc798832ec19fc54d6871ee992ee3644efe60361c0848201527f2eeee6c432f64a24931ad776307a61b99bab74b41c1c621b7c8df2ca0359c7bd60608201527f2bc629c54341a945ca3ec97522d445b5c7618c17ef06e822c9e007c3b24895e660808201527ec1d36a45205652c210cec488e2c0225d692544bfe895e4dea0041c71d7a18960a08201528361014460c08301377f1a4ef41410348a77b7640f4c5e491410026ce6f14096d871a8331e57cc696f206101008201527f0cb03eb14330efcdc5a721900747b87232de16ec461bc8e61239939e39deed386101208201527f2ce3280e12a6069c70aa22955a5837eb207c418c279a9e7cad7cd0f4e6f8cfaa6101408201527f0155da331b524e59bbc31093bbb893dc7bc49566c4eee7f4f65e4a9e375993e661016082015282816101808160085afa9051161561156c57825192610eb76040856115e1565b61010483855b6101448310611548575050508051918183017f1d51a2cebd061916b84b001d2be570f4f4ddf347ff63449aa74639384996f58d84525f516020611da95f395f51905f528386808701987f0220b2619e95a34954edaf5bb2cef83a8c30927a8e166c282970534793fdf73e8a528051855201519260608701938452818760808160065afa947f0629cf10d24fce1656b615f53d79eddee0705e223157bae926949e2c46c2c74f82527f0aec8680b8b2d499ffd34f18aa16e7ee1dcf578191ec4e0e743adcb8da5780c485527f0c4a62450775f19c01e7429ca32d5e7b05d57a81347b7aa7dcb66e0f1e433b3a60016101843560808b0198818a5287878760608160075afa92101616858b60808160065afa16167f11ba9a7dd0fc2b6460f65e25fdae8bf29c6ea110ab41cbca6f183a084bcddea784527f1a0e182a16f03235233a0bdf69e6cc62d0b64bef1f7ea5e06dc53bfd76b2cb6087526101a4359081895286868660608160075afa92101616848a60808160065afa167f19b7a440300b6fad49c2932a7de19ac45bd0c0e54fb5fc6f84a8852fb3d1bf3c84527f296c7c6496a65377db64b25396844a9f284eff7de4a52be20b9d1313e73cf3a787526101c4359081895286868660608160075afa92101616848a60808160065afa167f1fc55b137d7f9f532b18026f3f36d7395fb12d1c30584133e310cef90869632084527f192322785e18de98d9052e4ed2041859b7cc4c1daed7bc35b720e76006c05de887526101e4359081895286868660608160075afa92101616848a60808160065afa167f23b303bbc6d5d587270831635ae99a798b2daf7057fda73ff66ddda09e16ba8384527eb1ff9fe1618b0c68cfa03c3484e6ad358feefb12e2e7b59f77aa2233c2fd8e8752610204359081895286868660608160075afa92101616848a60808160065afa167f07d064634eef00186a74b29eb92b1601b7f6bcfece8a7e6557b30c79e73a1d1c84527f0da6793eb2498691be04464e0574016a52b679673abba4dcea4fb2e2c9a109e28752610224359081895286868660608160075afa92101616848a60808160065afa167f139848a2a7c875a5b8834f97c536129ee22574aafb7ee24659feb3257c596dc684527f24d9a60d2c279ea55bfd179537a212b847b1076a95408bbf7c06e9f6cfa9a4288752610244359081895286868660608160075afa92101616848a60808160065afa167f08aa82d8ff4e425230ff25ee9c6633af86d3e3078c2ede53f4accb464baba41084527f0e74ab57a507dc4717a3bddefeef61dbd0fdc664ef8b2480027f34f5b7eeac778752610264359081895286868660608160075afa92101616848a60808160065afa16957f125a5906e995d8b74e6d1c37a3a1721b58685d2e8ee2658b3f03e4f29cd4d54b8452525180955260608160075afa92101616818360808160065afa16915193519115611539575192610100600485377f2405ca43b82e73302dc922162c5d06891235ae11a88461d7b9835b01c5c06aa56101008501527f2fbb411ac5f9e75b110fc9f8fd4ba389580a9a253c8c59f83a9bd7684c5b522e6101208501527f15e078edd0756ce3f96c7bca9d28bd2a8ad0e17ceb3287904f572cb88839ebd46101408501527f1fbf6495e01dfac5f4241e3fe068ec38b2b88653856939166b3a4e8de54cd4866101608501527f1f302f91957fb0acfbfe150cc040a0c9b6375a7d90e632b86bec96c7631492406101808501527f17c613ebc236baf72e453f81c76879a89c879e9fc9d93a94fecb4d68ea67c2626101a08501527f0fac29aa7d7e813379ad38c124c57dcedc88ada161c9e391c110a26d07412c976101c08501527f099a1db894a80ac96b7242026e0a80b7c40bad4064ea763948c6ce2a3b7b9e976101e08501527f1d0ba55682d8b0fa1ba6eed361d49bbabd28c6c2a7a354d1e08f522d326fb13b6102008501527f2225659acd03b38ab4167a0d653e817b00b3a420bc5393817881df3ff89f3f916102208501526102408401526102608301527f29609df80be2dab2fe3a262b1a0fd377107200c9a3cdc3eaf9fec484dd2f30f76102808301527f2b68ddc9fd8defbe00f4b8ca76434f8ab731da07ad29e62c6f89c4e1d09589e06102a08301527f06ff4f7edb850015ebf5c4a86f668dd748c92731167093a2cd89ce2336fde72e6102c08301527f1057eecfe6cd48bbd604b90ab35daf5bb7c66c3c5432d90de97f16f922799ecd6102e0830152816103008160085afa9051161561152a57005b631ff3747d60e21b5f5260045ffd5b63a54f8e2760e01b5f5260045ffd5b8235815291810191859101610ebd565b634e487b7160e01b5f52604160045260245ffd5b6351d49ff760e11b5f5260045ffd5b34610ba4575f366003190112610ba457807f3a3bbd3ab2325ee3d971b25f5c29bb3bed1c9d44e311cdd6d5b4600a392d9ecb60209252f35b9181601f84011215610ba45782359167ffffffffffffffff8311610ba45760208381860195010111610ba457565b90601f8019910116810190811067ffffffffffffffff82111761155857604052565b9091604092825260208201520160208251919201905f5b8181106116275750505090565b825184526020938401939092019160010161161a565b905f905b6008821061164e57505050565b6020806001928551815201930191019091611641565b905f905b6002821061167557505050565b6020806001928551815201930191019091611668565b905f516020611d895f395f51905f528210801590611715575b61152a5781158061170d575b611707576116d45f516020611d895f395f51905f5260038185818180090908611ba9565b8181036116e357505060011b90565b5f516020611d895f395f51905f52809106810306145f1461152a57600190811b1790565b50505f90565b5080156116b0565b505f516020611d895f395f51905f528110156116a4565b919093925f516020611d895f395f51905f528310801590611949575b8015611932575b801561191b575b61152a578082868517171715611910579082916118735f516020611d895f395f51905f5280808080888180808f9d7f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd448f839290839109099d8e0981848181800909087f2b149d40ceb8aaae81be18991be06ac3b5b4c5e559dbefa33267e6dc24a138e5089a09818c8181800909087f2fcd3ac2a640a154eb23960892a85a68f031ca0c8344b23a577dcf1052b9e7750806810306945f516020611d895f395f51905f527f183227397098d014dc2822db40c0ac2ecbc0b548b438e5469e10460b6c3e7ea48161184d81808b80098187800908611ba9565b8408095f516020611d895f395f51905f5261186782611d20565b80091415958691611bcc565b929080821480611907575b156118a55750505050905f1461189d5760ff60025b169060021b179190565b60ff5f611893565b5f516020611d895f395f51905f528091068103061491826118e8575b50501561152a57600191156118e05760ff60025b169060021b17179190565b60ff5f6118d5565b5f516020611d895f395f51905f52919250819006810306145f806118c1565b5083831461187e565b50505090505f905f90565b505f516020611d895f395f51905f52811015611756565b505f516020611d895f395f51905f5282101561174f565b505f516020611d895f395f51905f52851015611748565b9080601f83011215610ba4576040519161197c610100846115e1565b82906101008101928311610ba457905b8282106119995750505090565b813581526020918201910161198c565b9080601f83011215610ba4576040805192906119c590846115e1565b829060408101928311610ba457905b8282106119e15750505090565b81358152602091820191016119d4565b60405190611a006020836115e1565b5f8252565b8015611a69578060011c915f516020611d895f395f51905f5283101561152a57600180611a485f516020611d895f395f51905f5260038188818180090908611ba9565b931614611a5157565b905f516020611d895f395f51905f5280910681030690565b505f905f90565b801580611ba1575b611b95578060021c92825f516020611d895f395f51905f528510801590611b7e575b61152a5784815f516020611d895f395f51905f5280808080808080807f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd4481611b489d8d0909998a0981898181800909087f2fcd3ac2a640a154eb23960892a85a68f031ca0c8344b23a577dcf1052b9e7750806810306936002808a16149509818a8181800909087f2b149d40ceb8aaae81be18991be06ac3b5b4c5e559dbefa33267e6dc24a138e508611bcc565b80929160018082961614611b5a575050565b5f516020611d895f395f51905f528093945080929550809106810306930681030690565b505f516020611d895f395f51905f52811015611a9a565b50505f905f905f905f90565b508115611a78565b90611bb382611d20565b915f516020611d895f395f51905f528380090361152a57565b915f516020611d895f395f51905f527f183227397098d014dc2822db40c0ac2ecbc0b548b438e5469e10460b6c3e7ea481611c2493969496611c1682808a8009818a800908611ba9565b90611d14575b860809611ba9565b925f516020611d895f395f51905f52600285096040519060208252602080830152602060408301528060608301527f30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd4560808301525f516020611d895f395f51905f5260a083015260208260c08160055afa9151911561152a575f516020611d895f395f51905f5282600192090361152a575f516020611d895f395f51905f52908209925f516020611d895f395f51905f528080808780090681030681878009081490811591611cf5575b5061152a57565b90505f516020611d895f395f51905f528084860960020914155f611cee565b81809106810306611c1c565b9060405191602083526020808401526020604084015260608301527f0c19139cb84c680a6e14116da060561765e05aa45a1c72a34f082305b61f3f5260808301525f516020611d895f395f51905f5260a083015260208260c08160055afa9151911561152a5756fe30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd4730644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001a2646970667358221220821e7433112f0ed47efdc17d5ecd65a5783050fabd5e0142fc809419bff696b564736f6c634300081c0033",hC=s=>s.length>1;class C5 extends yu.ContractFactory{constructor(...t){hC(t)?super(...t):super(Df,d9,t[0])}getDeployTransaction(t){return super.getDeployTransaction(t||{})}deploy(t){return super.deploy(t||{})}connect(t){return super.connect(t)}static createInterface(){return new yu.Interface(Df)}static connect(t,e){return new yu.Contract(t,Df,e)}}Tl.StateTransitionVerifierGroth16__factory=C5;C5.bytecode=d9;C5.abi=Df;(function(s){var t=Xt&&Xt.__createBinding||(Object.create?function(r,o,f,l){l===void 0&&(l=f);var c=Object.getOwnPropertyDescriptor(o,f);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[f]}}),Object.defineProperty(r,l,c)}:function(r,o,f,l){l===void 0&&(l=f),r[l]=o[f]}),e=Xt&&Xt.__setModuleDefault||(Object.create?function(r,o){Object.defineProperty(r,"default",{enumerable:!0,value:o})}:function(r,o){r.default=o}),n=Xt&&Xt.__importStar||function(r){if(r&&r.__esModule)return r;var o={};if(r!=null)for(var f in r)f!=="default"&&Object.prototype.hasOwnProperty.call(r,f)&&t(o,r,f);return e(o,r),o};Object.defineProperty(s,"__esModule",{value:!0}),s.StateTransitionVerifierGroth16__factory=s.ResultsVerifierGroth16__factory=s.statetransitionVkeySol=s.resultsverifierVkeySol=void 0,s.resultsverifierVkeySol=n(r9),s.statetransitionVkeySol=n(c9);var a=Il;Object.defineProperty(s,"ResultsVerifierGroth16__factory",{enumerable:!0,get:function(){return a.ResultsVerifierGroth16__factory}});var i=Tl;Object.defineProperty(s,"StateTransitionVerifierGroth16__factory",{enumerable:!0,get:function(){return i.StateTransitionVerifierGroth16__factory}})})(i9);var Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.OrganizationRegistry__factory=void 0;const mu=Qn,zf=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyAdministrator",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidMetadataURI",type:"error"},{inputs:[],name:"InvalidOrganizationID",type:"error"},{inputs:[],name:"InvalidOrganizationName",type:"error"},{inputs:[],name:"NotAdministrator",type:"error"},{inputs:[],name:"OrganizationAlreadyExists",type:"error"},{inputs:[],name:"OrganizationNotFound",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"id",type:"address"},{indexed:!0,internalType:"address",name:"administrator",type:"address"}],name:"AdministratorAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"id",type:"address"},{indexed:!0,internalType:"address",name:"administrator",type:"address"},{indexed:!0,internalType:"address",name:"remover",type:"address"}],name:"AdministratorRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"id",type:"address"}],name:"OrganizationCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"id",type:"address"},{indexed:!0,internalType:"address",name:"updater",type:"address"}],name:"OrganizationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"id",type:"address"},{internalType:"address",name:"administrator",type:"address"}],name:"addAdministrator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address[]",name:"administrators",type:"address[]"}],name:"createOrganization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"}],name:"deleteOrganization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"}],name:"getOrganization",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address[]",name:"administrators",type:"address[]"}],internalType:"struct IOrganizationRegistry.Organization",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"},{internalType:"address",name:"account",type:"address"}],name:"isAdministrator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"organizationCount",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"organizations",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"},{internalType:"address",name:"administrator",type:"address"}],name:"removeAdministrator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"id",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"}],name:"updateOrganization",outputs:[],stateMutability:"nonpayable",type:"function"}],u9="0x608080604052346071573315605e575f8054336001600160a01b0319821681178355916001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a36111af90816100768239f35b631e4fbdf760e01b5f525f60045260245ffd5b5f80fdfe60806040526004361015610011575f80fd5b5f3560e01c80631c2e3d8214610cd85780633c10eee514610b485780635a1f740614610ada5780636cca67bf14610810578063715018a6146107b957806375f1373f146103e35780637acbb8af146102fb5780638da5cb5b146102d4578063c1af6e031461029e578063d2c30a6d14610196578063f1c6210414610173578063f2fde38b146100ee5763f6a3d24e146100a8575f80fd5b346100ea5760203660031901126100ea576001600160a01b036100c9610dbc565b165f52600160205260206100e060405f2054610de8565b1515604051908152f35b5f80fd5b346100ea5760203660031901126100ea57610107610dbc565b61010f611153565b6001600160a01b03168015610160575f80546001600160a01b03198116831782556001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3005b631e4fbdf760e01b5f525f60045260245ffd5b346100ea575f3660031901126100ea57602063ffffffff60025416604051908152f35b346100ea5760203660031901126100ea576101af610dbc565b6060604080516101be81610e20565b828152826020820152015260018060a01b03165f52600160205261023d60405f20604051906101ec82610e20565b6101f581610e5c565b8252610250610219600261020b60018501610e5c565b936020860194855201611026565b91604084019283526040519485946020865251606060208701526080860190610efc565b9051848203601f19016040860152610efc565b905190601f19838203016060840152602080835192838152019201905f5b81811061027c575050500390f35b82516001600160a01b031684528594506020938401939092019160010161026e565b346100ea5760403660031901126100ea5760206102ca6102bc610dbc565b6102c4610dd2565b90611077565b6040519015158152f35b346100ea575f3660031901126100ea575f546040516001600160a01b039091168152602090f35b346100ea5760203660031901126100ea576001600160a01b0361031c610dbc565b16805f52600160205261033260405f2054610de8565b156103d4578033036103c6575f526001602052600260405f2061035481610fd8565b61036060018201610fd8565b0180545f8255806103ac575b505060025463ffffffff811680156103985763ffffffff199091165f1990910163ffffffff1617600255005b634e487b7160e01b5f52601160045260245ffd5b6103bf915f5260205f2090810190610f9e565b808061036c565b6282b42960e81b5f5260045ffd5b639551f8b360e01b5f5260045ffd5b346100ea5760603660031901126100ea576004356001600160401b0381116100ea57610413903690600401610f20565b906024356001600160401b0381116100ea57610433903690600401610f20565b90604435916001600160401b0383116100ea57366023840112156100ea578260040135946001600160401b0386116100ea576024840193602436918860051b0101116100ea5780156107aa57335f52600160205261049460405f2054610de8565b61079b57335f52600160205260405f20946001600160401b0382116106e8576104bd8654610de8565b601f811161076b575b505f90601f8311600114610707576104f592915f91836106fc575b50508160011b915f199060031b1c19161790565b84555b60018401916001600160401b0382116106e8576105158354610de8565b601f81116106ad575b505f90601f83116001146106495761054c92915f918361063e5750508160011b915f199060031b1c19161790565b90555b826105b7575b5061056591506002339101610f76565b60025463ffffffff811663ffffffff811461039857600163ffffffff9101169063ffffffff191617600255337f47b688936cae1ca5de00ac709e05309381fb9f18b4c5adb358a5b542ce67caea5f80a2005b60028201905f5b8481106105cc575050610555565b6001600160a01b036105e76105e2838886610fb4565b610fc4565b161561062f57600190336001600160a01b036106076105e2848a88610fb4565b161461062a5761062461061e6105e2838987610fb4565b85610f76565b016105be565b610624565b63e6c4247b60e01b5f5260045ffd5b0135905087806104e1565b601f19831691845f5260205f20925f5b818110610695575090846001959493921061067c575b505050811b01905561054f565b01355f19600384901b60f8161c1916905586808061066f565b91936020600181928787013581550195019201610659565b6106d890845f5260205f20601f850160051c810191602086106106de575b601f0160051c0190610f9e565b8661051e565b90915081906106cb565b634e487b7160e01b5f52604160045260245ffd5b0135905088806104e1565b601f19831691875f5260205f20925f5b818110610753575090846001959493921061073a575b505050811b0184556104f8565b01355f19600384901b60f8161c1916905587808061072d565b91936020600181928787013581550195019201610717565b61079590875f5260205f20601f850160051c810191602086106106de57601f0160051c0190610f9e565b876104c6565b6369c24f0b60e01b5f5260045ffd5b631b0b678d60e31b5f5260045ffd5b346100ea575f3660031901126100ea576107d1611153565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b346100ea5760603660031901126100ea57610829610dbc565b6024356001600160401b0381116100ea57610848903690600401610f20565b906044356001600160401b0381116100ea57610868903690600401610f20565b919093610874816110f6565b15610acb5783156107aa578215610abc5760018060a01b031692835f5260016020526108a360405f2054610de8565b156103d457835f52600160205260405f20916001600160401b0382116106e8576108cd8354610de8565b601f8111610a8c575b505f90601f8311600114610a2557918061090892600195945f926106fc5750508160011b915f199060031b1c19161790565b81555b01906001600160401b0381116106e8576109258254610de8565b601f81116109f5575b505f601f821160011461099357819061095d9394955f926109885750508160011b915f199060031b1c19161790565b90555b33907fdcd663553eb7f5f57b83637c17d95d22a764affd6dbcc98f8ce9dcbac3e239f65f80a3005b0135905085806104e1565b601f19821694835f5260205f20915f5b8781106109dd5750836001959697106109c4575b505050811b019055610960565b01355f19600384901b60f8161c191690558480806109b7565b909260206001819286860135815501940191016109a3565b610a1f90835f5260205f20601f840160051c810191602085106106de57601f0160051c0190610f9e565b8461092e565b601f19831691845f5260205f20925f5b818110610a745750916001959492918387959310610a5b575b505050811b01815561090b565b01355f19600384901b60f8161c19169055878080610a4e565b91936020600181928787013581550195019201610a35565b610ab690845f5260205f20601f850160051c810191602086106106de57601f0160051c0190610f9e565b866108d6565b630eec403f60e41b5f5260045ffd5b63e85bbb2160e01b5f5260045ffd5b346100ea5760203660031901126100ea576001600160a01b03610afb610dbc565b165f526001602052610b3660405f20610b44610b226001610b1b84610e5c565b9301610e5c565b604051938493604085526040850190610efc565b908382036020850152610efc565b0390f35b346100ea5760403660031901126100ea57610b61610dbc565b610b69610dd2565b610b72826110f6565b15610acb576001600160a01b039091169033829003610cd1575b815f526001602052610ba160405f2054610de8565b156103d4576001600160a01b0316801561062f575f90825f526001602052600260405f20015f5b815480821015610cc85783610bdd8385610f4d565b905460039190911b1c6001600160a01b031614610bfd5750600101610bc8565b9293506001925f1981019190821161039857610c38610c1f610c5c9385610f4d565b905460039190911b1c6001600160a01b03169184610f4d565b81546001600160a01b0393841660039290921b91821b9390911b1916919091179055565b80548015610cb4575f190190610c728282610f4d565b81549060018060a01b039060031b1b19169055555b15610acb5733917f9312053150f18090e219209afedf7c42617a23f1202a19d2289891a2aa6d7fd75f80a4005b634e487b7160e01b5f52603160045260245ffd5b50505090610c87565b5033610b8c565b346100ea5760403660031901126100ea57610cf1610dbc565b610cf9610dd2565b906001600160a01b0316338190036103c657805f526001602052610d2060405f2054610de8565b156103d4576001600160a01b03821690811561062f575f818152600160205260408120600201805494915b858110610d83575090610d5d91610f76565b7fa2f792d5cab45450daed47916f25d9bd3443d275c51ecbccfbeb727a3b4eda0e5f80a3005b84610d8e8284610f4d565b905460039190911b1c6001600160a01b031614610dad57600101610d4b565b63b598ce3d60e01b5f5260045ffd5b600435906001600160a01b03821682036100ea57565b602435906001600160a01b03821682036100ea57565b90600182811c92168015610e16575b6020831014610e0257565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610df7565b606081019081106001600160401b038211176106e857604052565b90601f801991011681019081106001600160401b038211176106e857604052565b9060405191825f825492610e6f84610de8565b8084529360018116908115610eda5750600114610e96575b50610e9492500383610e3b565b565b90505f9291925260205f20905f915b818310610ebe575050906020610e94928201015f610e87565b6020919350806001915483858901015201910190918492610ea5565b905060209250610e9494915060ff191682840152151560051b8201015f610e87565b805180835260209291819084018484015e5f828201840152601f01601f1916010190565b9181601f840112156100ea578235916001600160401b0383116100ea57602083818601950101116100ea57565b8054821015610f62575f5260205f2001905f90565b634e487b7160e01b5f52603260045260245ffd5b90815491680100000000000000008310156106e85782610c38916001610e9495018155610f4d565b818110610fa9575050565b5f8155600101610f9e565b9190811015610f625760051b0190565b356001600160a01b03811681036100ea5790565b610fe28154610de8565b9081610fec575050565b81601f5f9311600114610ffd575055565b8183526020832061101991601f0160051c810190600101610f9e565b8082528160208120915555565b90604051918281549182825260208201905f5260205f20925f5b818110611055575050610e9492500383610e3b565b84546001600160a01b0316835260019485019487945060209093019201611040565b6001600160a01b03165f8181526001602052604090205461109790610de8565b156103d4575f5260016020526110b2600260405f2001611026565b805191905f5b838110156110ee57600581901b8201602001516001600160a01b038481169116146110e5576001016110b8565b50505050600190565b505050505f90565b6001600160a01b03165f9081526001602052604081206002018054915b828110611121575050505f90565b61112b8183610f4d565b905460039190911b1c6001600160a01b0316331461114b57600101611113565b505050600190565b5f546001600160a01b0316330361116657565b63118cdaa760e01b5f523360045260245ffdfea264697066735822122073810d6a4817d363ec19d318f1b8972f0a698de18c1f9332b367c4c4173e8f7664736f6c634300081c0033",bC=s=>s.length>1;class v5 extends mu.ContractFactory{constructor(...t){bC(t)?super(...t):super(zf,u9,t[0])}getDeployTransaction(t){return super.getDeployTransaction(t||{})}deploy(t){return super.deploy(t||{})}connect(t){return super.connect(t)}static createInterface(){return new mu.Interface(zf)}static connect(t,e){return new mu.Contract(t,zf,e)}}Bl.OrganizationRegistry__factory=v5;v5.bytecode=u9;v5.abi=zf;var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.ProcessRegistry__factory=void 0;const _u=Qn,qf=[{inputs:[{internalType:"uint32",name:"_chainID",type:"uint32"},{internalType:"address",name:"_stVerifier",type:"address"},{internalType:"address",name:"_rVerifier",type:"address"},{internalType:"bool",name:"_blobsDA",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BlobNotFoundInTx",type:"error"},{inputs:[],name:"CannotAcceptResult",type:"error"},{inputs:[],name:"CensusNotUpdatable",type:"error"},{inputs:[{internalType:"uint8",name:"limbIndex",type:"uint8"}],name:"InvalidBlobCommitmentLimb",type:"error"},{inputs:[],name:"InvalidBlockNumber",type:"error"},{inputs:[],name:"InvalidCensusAddress",type:"error"},{inputs:[],name:"InvalidCensusConfig",type:"error"},{inputs:[],name:"InvalidCensusOrigin",type:"error"},{inputs:[],name:"InvalidCensusRoot",type:"error"},{inputs:[],name:"InvalidCensusURI",type:"error"},{inputs:[],name:"InvalidDuration",type:"error"},{inputs:[],name:"InvalidMaxCount",type:"error"},{inputs:[],name:"InvalidMaxMinValueBounds",type:"error"},{inputs:[],name:"InvalidMaxValue",type:"error"},{inputs:[],name:"InvalidMaxValueSum",type:"error"},{inputs:[],name:"InvalidMaxVoters",type:"error"},{inputs:[],name:"InvalidMinTotalCost",type:"error"},{inputs:[],name:"InvalidMinValue",type:"error"},{inputs:[],name:"InvalidProcessId",type:"error"},{inputs:[],name:"InvalidStartTime",type:"error"},{inputs:[],name:"InvalidStateRoot",type:"error"},{inputs:[],name:"InvalidStatus",type:"error"},{inputs:[],name:"InvalidTimeBounds",type:"error"},{inputs:[],name:"InvalidUniqueValues",type:"error"},{inputs:[],name:"InvalidValueSumBounds",type:"error"},{inputs:[],name:"MaxVotersReached",type:"error"},{inputs:[],name:"ProcessAlreadyExists",type:"error"},{inputs:[],name:"ProcessNotEnded",type:"error"},{inputs:[],name:"ProcessNotFound",type:"error"},{inputs:[],name:"ProofInvalid",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"UnknownProcessIdPrefix",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"censusRoot",type:"bytes32"},{indexed:!1,internalType:"string",name:"censusURI",type:"string"}],name:"CensusUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!0,internalType:"address",name:"creator",type:"address"}],name:"ProcessCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"duration",type:"uint256"}],name:"ProcessDurationChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"maxVoters",type:"uint256"}],name:"ProcessMaxVotersChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256[]",name:"result",type:"uint256[]"}],name:"ProcessResultsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"oldStateRoot",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStateRoot",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newVotersCount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newOverwrittenVotesCount",type:"uint256"}],name:"ProcessStateTransitioned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"processId",type:"bytes32"},{indexed:!1,internalType:"enum IProcessRegistry.ProcessStatus",name:"oldStatus",type:"uint8"},{indexed:!1,internalType:"enum IProcessRegistry.ProcessStatus",name:"newStatus",type:"uint8"}],name:"ProcessStatusChanged",type:"event"},{inputs:[],name:"BLOB_INDEX",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_CENSUS_ORIGIN",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STATUS",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"blobsDA",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"chainID",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organizationId",type:"address"}],name:"getNextProcessId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"}],name:"getProcess",outputs:[{components:[{internalType:"enum IProcessRegistry.ProcessStatus",name:"status",type:"uint8"},{internalType:"address",name:"organizationId",type:"address"},{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"}],internalType:"struct IProcessRegistry.EncryptionKey",name:"encryptionKey",type:"tuple"},{internalType:"uint256",name:"latestStateRoot",type:"uint256"},{internalType:"uint256[]",name:"result",type:"uint256[]"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"maxVoters",type:"uint256"},{internalType:"uint256",name:"votersCount",type:"uint256"},{internalType:"uint256",name:"overwrittenVotesCount",type:"uint256"},{internalType:"uint256",name:"creationBlock",type:"uint256"},{internalType:"uint256",name:"batchNumber",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"},{components:[{internalType:"bool",name:"costFromWeight",type:"bool"},{internalType:"bool",name:"uniqueValues",type:"bool"},{internalType:"uint8",name:"numFields",type:"uint8"},{internalType:"uint8",name:"costExponent",type:"uint8"},{internalType:"uint256",name:"maxValue",type:"uint256"},{internalType:"uint256",name:"minValue",type:"uint256"},{internalType:"uint256",name:"maxValueSum",type:"uint256"},{internalType:"uint256",name:"minValueSum",type:"uint256"}],internalType:"struct IProcessRegistry.BallotMode",name:"ballotMode",type:"tuple"},{components:[{internalType:"enum IProcessRegistry.CensusOrigin",name:"censusOrigin",type:"uint8"},{internalType:"bytes32",name:"censusRoot",type:"bytes32"},{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"censusURI",type:"string"},{internalType:"bool",name:"onchainAllowAnyValidRoot",type:"bool"}],internalType:"struct IProcessRegistry.Census",name:"census",type:"tuple"}],internalType:"struct IProcessRegistry.Process",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"}],name:"getProcessEndTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRVerifierVKeyHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSTVerifierVKeyHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IProcessRegistry.ProcessStatus",name:"status",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"maxVoters",type:"uint256"},{components:[{internalType:"bool",name:"costFromWeight",type:"bool"},{internalType:"bool",name:"uniqueValues",type:"bool"},{internalType:"uint8",name:"numFields",type:"uint8"},{internalType:"uint8",name:"costExponent",type:"uint8"},{internalType:"uint256",name:"maxValue",type:"uint256"},{internalType:"uint256",name:"minValue",type:"uint256"},{internalType:"uint256",name:"maxValueSum",type:"uint256"},{internalType:"uint256",name:"minValueSum",type:"uint256"}],internalType:"struct IProcessRegistry.BallotMode",name:"ballotMode",type:"tuple"},{components:[{internalType:"enum IProcessRegistry.CensusOrigin",name:"censusOrigin",type:"uint8"},{internalType:"bytes32",name:"censusRoot",type:"bytes32"},{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"censusURI",type:"string"},{internalType:"bool",name:"onchainAllowAnyValidRoot",type:"bool"}],internalType:"struct IProcessRegistry.Census",name:"census",type:"tuple"},{internalType:"string",name:"metadata",type:"string"},{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"}],internalType:"struct IProcessRegistry.EncryptionKey",name:"encryptionKey",type:"tuple"},{internalType:"uint256",name:"initStateRoot",type:"uint256"}],name:"newProcess",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pidPrefix",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"processCount",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"processNonce",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"processes",outputs:[{internalType:"enum IProcessRegistry.ProcessStatus",name:"status",type:"uint8"},{internalType:"address",name:"organizationId",type:"address"},{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"}],internalType:"struct IProcessRegistry.EncryptionKey",name:"encryptionKey",type:"tuple"},{internalType:"uint256",name:"latestStateRoot",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"maxVoters",type:"uint256"},{internalType:"uint256",name:"votersCount",type:"uint256"},{internalType:"uint256",name:"overwrittenVotesCount",type:"uint256"},{internalType:"uint256",name:"creationBlock",type:"uint256"},{internalType:"uint256",name:"batchNumber",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"},{components:[{internalType:"bool",name:"costFromWeight",type:"bool"},{internalType:"bool",name:"uniqueValues",type:"bool"},{internalType:"uint8",name:"numFields",type:"uint8"},{internalType:"uint8",name:"costExponent",type:"uint8"},{internalType:"uint256",name:"maxValue",type:"uint256"},{internalType:"uint256",name:"minValue",type:"uint256"},{internalType:"uint256",name:"maxValueSum",type:"uint256"},{internalType:"uint256",name:"minValueSum",type:"uint256"}],internalType:"struct IProcessRegistry.BallotMode",name:"ballotMode",type:"tuple"},{components:[{internalType:"enum IProcessRegistry.CensusOrigin",name:"censusOrigin",type:"uint8"},{internalType:"bytes32",name:"censusRoot",type:"bytes32"},{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"censusURI",type:"string"},{internalType:"bool",name:"onchainAllowAnyValidRoot",type:"bool"}],internalType:"struct IProcessRegistry.Census",name:"census",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"rVerifier",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{components:[{internalType:"enum IProcessRegistry.CensusOrigin",name:"censusOrigin",type:"uint8"},{internalType:"bytes32",name:"censusRoot",type:"bytes32"},{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"censusURI",type:"string"},{internalType:"bool",name:"onchainAllowAnyValidRoot",type:"bool"}],internalType:"struct IProcessRegistry.Census",name:"census",type:"tuple"}],name:"setProcessCensus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"uint256",name:"_duration",type:"uint256"}],name:"setProcessDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"uint256",name:"_maxVoters",type:"uint256"}],name:"setProcessMaxVoters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"bytes",name:"proof",type:"bytes"},{internalType:"bytes",name:"input",type:"bytes"}],name:"setProcessResults",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"enum IProcessRegistry.ProcessStatus",name:"newStatus",type:"uint8"}],name:"setProcessStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stVerifier",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"processId",type:"bytes32"},{internalType:"bytes",name:"proof",type:"bytes"},{internalType:"bytes",name:"input",type:"bytes"}],name:"submitStateTransition",outputs:[],stateMutability:"nonpayable",type:"function"}],h9="0x6080806040523461011e57608081612821803803809161001f8285610122565b83398101031261011e57805163ffffffff8116810361011e5761004460208301610159565b606061005260408501610159565b9301519182151580930361011e5760028054600354600160201b600160e01b0319909116604094851b600160401b600160e01b031617602084811b67ffffffff000000001691909117909255925160e09290921b6001600160e01b0319169082019081523060601b6024830152601882526100ce603883610122565b9051902063ffffffff60a01b60a09190911b166001600160a01b03939093166001600160c81b0319919091161760ff60c01b60c09290921b9190911617176003556040516126b3908161016e8239f35b5f80fd5b601f909101601f19168101906001600160401b0382119082101761014557604052565b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b038216820361011e5756fe60a0806040526004361015610012575f80fd5b5f905f3560e01c90816302cc919a14611fd4575080630535fece14611eb55780630970639214611e8b57806314b39b421461175657806326795bc31461173c5780634c0acc56146116ec57806356a6f1e21461159b57806362fa11fc1461155657806368141f2c146114e857806372c628ef146114cd57806374e07826146113d9578063848df540146113b6578063992bc45b146110d55780639c18deaf146110ad578063a5b110de14610d38578063a5f01e1914610be7578063adc879e914610bc1578063aeaa8b0f1461080f578063c718c01f146106a3578063cddf08bc1461067c578063cdf497c814610656578063d71d072e146101b05763f9aa44991461011b575f80fd5b346101ad57806003193601126101ad5760035460405163233ace1160e01b81529190602090839060049082906001600160a01b03165afa9081156101a1579061016a575b602090604051908152f35b506020813d602011610199575b816101846020938361205b565b81010312610195576020905161015f565b5f80fd5b3d9150610177565b604051903d90823e3d90fd5b80fd5b50346101ad576101bf36612390565b939291908315610647576003549463ffffffff808760a01c161663ffffffff8660401c160361063857848752866020526040872093845460018060a01b038160081c16156106295760ff16610213816121d6565b61061a5761022a60058601546006870154906123e5565b42101561060b57610239612490565b5081830192610100818503126106075783601f820112156106075760405193610100610265818761205b565b859083019182116106035782905b8282106105f3575050508351946020850151946040810151966060820151968c8a600360ff601260808801519360a08901519660e060c08b01519a0151986040516080526102c260805161203f565b60805152602060805101526040608051019e8f526060608051019d8e52608080510194855260a06080510196875260c06080510198895260e06080510197885201541661030e816121d6565b14610533575b5050608051519860038b01998a54036105245751885161033391612483565b9b8c151580610512575b610503579060ff8e9897969594939260c01c16610450575b505060025460401c6001600160a01b0316919050813b1561044157859361039260405196879586948594635c73957b60e11b8652600486016124ec565b03915afa80156104455761042c575b5050600b916020608051015190556103be600884019586546123e5565b80955551916103d2600982019384546123e5565b809355016103e08154612516565b90556080515192602060805101516040519485526020850152604084015260608301527f43b1a882c73bc84ae667608d3a61baececd99134224962eba9d13eb63c595ae160803393a380f35b816104369161205b565b61044157855f6103a1565b8580fd5b6040513d84823e3d90fd5b90919293949596505191519051906040519261046d60608561205b565b60308452602084019060403683378060801c6104ef5760801b90528060801c6104db5760801b60308301528060801c6104c7576104ba8c96959493926104bf9260801b604082015261260f565b61264c565b5f8080610355565b6316416a3d60e01b8c52600260045260248cfd5b6316416a3d60e01b8d52600160045260248dfd5b6316416a3d60e01b8f5260048f905260248ffd5b6357d18d5360e11b8e5260048efd5b5060088b015460078c0154111561033d565b630b6fac0360e41b8e5260048efd5b60148c0154905160405163650e5fcf60e01b8152600481019190915290602090829060249082906001600160a01b03165afa9182156101a157916105bd575b5060ff60168c0154161590816105af575b81156105a5575b50610596578c5f610314565b635e32eadd60e01b8d5260048dfd5b905043105f61058a565b600a8c015481109150610583565b90506020813d6020116105eb575b816105d86020938361205b565b810103126105e757515f610572565b8d80fd5b3d91506105cb565b8135815260209182019101610273565b8a80fd5b8880fd5b63e843c5eb60e01b8852600488fd5b6307a92f1960e51b8852600488fd5b634d36eb6960e01b8952600489fd5b632299770d60e11b8752600487fd5b63cbf4a64560e01b8652600486fd5b50346101ad57806003193601126101ad57602060ff60035460c01c166040519015158152f35b50346101ad57806003193601126101ad57602063ffffffff60035460a01c16604051908152f35b50346101ad576106b236612347565b81156108005763ffffffff8060035460a01c161663ffffffff8360401c16036107f1578183526020839052604083208054600881901c6001600160a01b031680156107e25733036107d45760ff16610709816121d6565b80151590816107bf575b506107b05760066005820154910190815490831591821561079b575b821561077c575b505061076d57817f0f759826327c668a220d576485ac38ddc4f83fbc414b984c00e79f669b649f469260209255604051908152a280f35b637616640160e01b8452600484fd5b81925061078c85610792936123e5565b926123e5565b10155f80610736565b91506107a784826123e5565b4210159161072f565b6307a92f1960e51b8452600484fd5b600391506107cc816121d6565b14155f610713565b6282b42960e81b8552600485fd5b634d36eb6960e01b8652600486fd5b632299770d60e11b8352600483fd5b63cbf4a64560e01b8352600483fd5b50346101ad5760403660031901126101ad576004356024356001600160401b038111610bbd578060040160a06003198336030112610bb9578215610baa5763ffffffff8060035460a01c161663ffffffff8460401c1603610b9b5782845260208490526040842080549190600883901c6001600160a01b03168015610b8c573303610b7e5760ff601282015416926108a6846121d6565b60028403610b6f5782356005811015610b6b576108c2816121d6565b6108cb856121d6565b8403610b5c576024850135948515610b4d5760648101946108ec8686612451565b905015610b3e576003906108ff816121d6565b149081610b20575b50610b115760ff16610918816121d6565b8015159081610afc575b50610aed5761093a60058201546006830154906123e5565b421015610ade5783601382015560156109538484612451565b91909201916001600160401b038211610aca57610970835461209a565b601f8111610a8f575b508790601f8311600114610a015792826109f096937f87e1c82bc035c552e997ec2f1cf023790ced0cc01098d516dc6e7200835ffb279896936109d5968c926109f6575b50508160011b915f199060031b1c1916179055612451565b929060405193849384526040602085015260408401916124cc565b0390a280f35b013590505f806109bd565b8389526020892091601f1984168a5b818110610a775750937f87e1c82bc035c552e997ec2f1cf023790ced0cc01098d516dc6e7200835ffb279896936109d59693600193836109f09b9810610a5e575b505050811b019055612451565b01355f19600384901b60f8161c191690555f8080610a51565b91936020600181928787013581550195019201610a10565b610aba90848a5260208a20601f850160051c81019160208610610ac0575b601f0160051c019061240a565b5f610979565b9091508190610aad565b634e487b7160e01b88526041600452602488fd5b63e843c5eb60e01b8652600486fd5b6307a92f1960e51b8652600486fd5b60039150610b09816121d6565b14155f610922565b63562e597160e11b8752600487fd5b6001600160a01b039150610b369060440161243d565b16155f610907565b630f8b932160e11b8952600489fd5b635e32eadd60e01b8852600488fd5b63f37f7b5d60e01b8752600487fd5b8780fd5b63050b77c760e21b8752600487fd5b6282b42960e81b8652600486fd5b634d36eb6960e01b8752600487fd5b632299770d60e11b8452600484fd5b63cbf4a64560e01b8452600484fd5b8380fd5b8280fd5b50346101ad57806003193601126101ad57602063ffffffff600254821c16604051908152f35b50346101ad5760203660031901126101ad57600435815280602052604081209060405190610c1482611fed565b825460ff8116610c23816121d6565b835260081c6001600160a01b03166020830152610c426001840161207c565b60408301526003830154606083015260048301604051918260208354918281520192825260208220915b818110610d22576020610d1a888888610c87818a038261205b565b608082015260058201549060a081019182526101c0610d0e601260068601549560c08501968752600781015460e086015260088101546101008601526009810154610120860152600a810154610140860152600b810154610160860152610cf0600c82016120d2565b610180860152610d02600d8201612172565b6101a0860152016121f4565b910152519051906123e5565b604051908152f35b8254845260209093019260019283019201610c6c565b503461019557610d4736612390565b849192949593951561109e576003549063ffffffff808360a01c161663ffffffff8460401c160361108f57825f525f60205260405f209687549660018060a01b038860081c16156110805760ff881693610da0856121d6565b60028514801561106d575b61105e57610db8856121d6565b600185141580611043575b611034576001600160a01b031691823b156101955783925f928892610dfe60405196879586948594635c73957b60e11b8652600486016124ec565b03915afa801561102957611014575b508301610120848203126110105780601f85011215611010576101209060405194610e38838761205b565b8590838101928311610b6b57905b828210611000575050508351600388015403610ff15760405196610e6a828961205b565b600888526020880191601f190136833760015b6009811015610eda578060051b8601515f198201828111610ec6578a51811015610eb25760051b8a0160200152600101610e7d565b634e487b7160e01b89526032600452602489fd5b634e487b7160e01b89526011600452602489fd5b50879450600490818860ff1916178155018451916001600160401b038311610fdd57680100000000000000008311610fdd578154838355808410610fc2575b50908493929190875260208720875b838110610fab575050505060407f2f25f350b681441b5bb45430fbe61e78d0170cff4ad02cb0aa48a6427909aa8c91815190610f63816121d6565b815260046020820152a27f5da8009aeb11de7ef64598b0de897a03d2f93efabda8507a70e29cca4530cf5d6040516020815280610fa53395602083019061235d565b0390a380f35b825181830155869550602090920191600101610f28565b82885260208820610fd791810190850161240a565b87610f19565b634e487b7160e01b87526041600452602487fd5b630b6fac0360e41b8552600485fd5b8135815260209182019101610e46565b8480fd5b6110219195505f9061205b565b5f935f610e0d565b6040513d5f823e3d90fd5b63e843c5eb60e01b5f5260045ffd5b5061105760058b015460068c0154906123e5565b4210610dc3565b6307a92f1960e51b5f5260045ffd5b50611077856121d6565b60048514610dab565b634d36eb6960e01b5f5260045ffd5b632299770d60e11b5f5260045ffd5b63cbf4a64560e01b5f5260045ffd5b34610195575f366003190112610195576003546040516001600160a01b039091168152602090f35b34610195576020366003190112610195576040516110f281611fed565b5f81525f602082015260405161110781612009565b5f81525f602082015260408201525f6060820152606060808201525f60a08201525f60c08201525f60e08201525f6101008201525f6101208201525f6101408201525f6101608201526060610180820152611160612490565b6101a08201526101c06040519161117683612024565b5f83525f60208401525f60408401526060808401525f608084015201526004355f525f60205260405f20604051906111ad82611fed565b80549060ff82166111bd816121d6565b835260089190911c6001600160a01b031660208301908152906111e26001820161207c565b9260408101938452600382015460608201908152600483019060405180928391602082549182815201915f5260205f20905f5b81811061139d575050500361122a908361205b565b6080830191825260058401549160a08401928352600685015460c08501908152600786015460e08601908152600887015461010087019081526009880154916101208801928352600a890154936101408901948552600b8a0154956101608a01968752600c8b0161129a906120d2565b6101808b01908152976112af600d8d01612172565b9b6101a08c019c8d526012016112c4906121f4565b9a6101c081019b8c526040519e8f9e8f9260208452516112e3816121d6565b6020840152600160a01b60019003905116604083015251805160608301526020015190608001525160a08d01525160c08c016102e090526103008c016113289161235d565b975160e08c0152516101008b0152516101208a0152516101408901525161016088015251610180870152516101a086015251848203601f19016101c08601526113719190612250565b91516101e0840161138191612274565b51828203601f19016102e084015261139991906122c9565b0390f35b8254845286945060209093019260019283019201611215565b34610195575f36600319011261019557602063ffffffff60025416604051908152f35b34610195576113e736612347565b811561109e5763ffffffff8060035460a01c161663ffffffff8360401c160361108f575f8281526020819052604090208054600881901c6001600160a01b031680156110805733036114bf5760ff1661143f816121d6565b80151590816114aa575b5061105e578115801561149d575b61148e57817fdbed30289c8edb9c8e40449ce45792cee5b9eba7c798afbadbcb4345699f1e249260076020930155604051908152a2005b632c45be6f60e01b5f5260045ffd5b5060088101548210611457565b600391506114b7816121d6565b141584611449565b6282b42960e81b5f5260045ffd5b34610195575f36600319011261019557602060405160048152f35b34610195576020366003190112610195576004356001600160a01b03811690818103610195576003545f92835260016020908152604090932054606092831b6bffffffffffffffffffffffff19169190921c63ffffffff60401b16176001600160401b039190911617610d1a565b34610195576020366003190112610195576004356001600160a01b03811690819003610195575f52600160205260206001600160401b0360405f205416604051908152f35b3461019557604036600319011261019557600435602435600581101561019557811561109e5763ffffffff8060035460a01c161663ffffffff8360401c160361108f576115e7816121d6565b600460ff82161161105e57815f525f60205260405f2090815460018060a01b038160081c1680156110805733036114bf5760ff16906116268183612524565b1561105e578383611658837f2f25f350b681441b5bb45430fbe61e78d0170cff4ad02cb0aa48a6427909aa8c966123f2565b611661836121d6565b6001831461168f575b505060405191611679816121d6565b8252611684816121d6565b6020820152604090a2005b602060067f0f759826327c668a220d576485ac38ddc4f83fbc414b984c00e79f669b649f46926005810154804210155f146116e2576116ce9042612483565b9182915b0155604051908152a2838561166a565b505f9182916116d2565b34610195575f366003190112610195576002546040805163233ace1160e01b81529160209183916004918391901c6001600160a01b03165afa8015611029575f9061016a57602090604051908152f35b34610195575f3660031901126101955760206040515f8152f35b3461019557610220366003190112610195576004356005811015610195576064356044356024356101003660831901126101955761018435916001600160401b03831161019557826004019160a06003198536030112610195576101a4356001600160401b038111610195576117d090369060040161231a565b92909660406101c31936011261019557600354335f81815260016020526040902054949889959092606092831b6bffffffffffffffffffffffff1916921c63ffffffff60401b16919091176001600160401b03919091161798895f525f6020523360018060a01b0360405f205460081c1614611e7c5760ff61185061242d565b16158015611e68575b611e5957610144359061ffff8211611e4a5761012435906101043597888311611e3b576101643594848611611e2c57801561148e578a35976005891015610195576118a3896121d6565b60ff89169760058911611e1d576118b98a6121d6565b60038a1415808f81611e04575b50611df5578e906118d68c6121d6565b15611dbd576024013515611dae578c9a6118f68f6064905b01809d612451565b905015611d9f57611906826121d6565b600460ff8316118015611d78575b61105e5715611d70575b8e4211611d61578e6119318342926123e5565b1115611d52578f5f525f60205260405f209e8f9161194f90836123f2565b60058201556006015560078d01558b54610100600160a81b0319163360081b610100600160a81b0316178c556101c43560018d01556101e43560028d01556102043560038d0155600c8c01916001600160401b038211611c9c5781906119b5845461209a565b601f8111611d22575b505f90601f8311600114611cbb575f92611cb0575b50508160011b915f199060031b1c19161790555b600d8a0196608435801515810361019557885490151560ff1660ff199190911617885560a4359788151598898103610195575080549862ff0000611a2961242d565b60101b1660e4359a60ff8c168c036101955761ff0063ff0000008d611ac69e5060181b169360081b169063ffffff0019161717179055600e8b0155600f8a015560108901556011880155611a8060128801926121d6565b815460ff191617905560248401356013860155601485016001600160a01b03611aab6044870161243d565b82546001600160a01b03191691161790556015850192612451565b906001600160401b038211611c9c57611adf835461209a565b601f8111611c6c575b505f90601f8311600114611bfe579282608493611b3a9693611b25965f92611bf3575b50508160011b915f199060031b1c19161790555b01612420565b601683019060ff801983541691151516179055565b600a4391015560025463ffffffff811663ffffffff8114611bdf57600163ffffffff9101169063ffffffff191617600255335f52600160205260405f20908154916001600160401b038316926001600160401b038414611bdf576001600160401b0360016020950116906001600160401b0319161790556040519033817fada6f87a2a16a0c9c169ca36754c5f33f7c1a973b575d068f888a549ed4faefa5f80a38152f35b634e487b7160e01b5f52601160045260245ffd5b013590508980611b0b565b601f19831691845f5260205f20925f5b818110611c54575093611b3a9693611b2596936001938360849810611c3b575b505050811b019055611b1f565b01355f19600384901b60f8161c19169055898080611c2e565b91936020600181928787013581550195019201611c0e565b611c9690845f5260205f20601f850160051c81019160208610610ac057601f0160051c019061240a565b86611ae8565b634e487b7160e01b5f52604160045260245ffd5b013590508e806119d3565b909150601f19831691845f5260205f20925f5b818110611d0a5750908460019594939210611cf1575b505050811b0190556119e7565b01355f19600384901b60f8161c191690558e8080611ce4565b91936020600181928787013581550195019201611cce565b611d4c90855f5260205f20601f850160051c81019160208610610ac057601f0160051c019061240a565b8f6119be565b637616640160e01b5f5260045ffd5b632ca4094f60e21b5f5260045ffd5b429e5061191e565b50611d82826121d6565b81151580156119145750611d95826121d6565b6003821415611914565b630f8b932160e11b5f5260045ffd5b635e32eadd60e01b5f5260045ffd5b6001600160a01b0390611dd29060440161243d565b1615611de6578c9a6118f68f6064906118ee565b63562e597160e11b5f5260045ffd5b63f545b7bf60e01b5f5260045ffd5b600191506084611e149101612420565b1515148f6118c6565b63f37f7b5d60e01b5f5260045ffd5b636d403ec760e11b5f5260045ffd5b63207ea56d60e01b5f5260045ffd5b634dba795160e01b5f5260045ffd5b63ac38930b60e01b5f5260045ffd5b50600860ff611e7561242d565b1611611859565b635040c4d360e11b5f5260045ffd5b34610195575f366003190112610195576002546040805191901c6001600160a01b03168152602090f35b34610195576020366003190112610195576004355f525f60205260405f2080549060ff82169060018101611ee89061207c565b9060038101546005820154600683015460078401546008850154600986015491600a87015493600b88015495600c8901611f21906120d2565b97611f2e600d8b01612172565b99601201611f3b906121f4565b9a604051809e8e829f611f4d906121d6565b825260081c6001600160a01b0316602091820152815160408f0152015160608d015260808c015260a08b015260c08a015260e08901526101008801526101208701526101408601526101608501526102c06101808501819052611fb39190850190612250565b906101a08401611fc291612274565b8281036102a0840152611399916122c9565b34610195575f3660031901126101955780600560209252f35b6101e081019081106001600160401b03821117611c9c57604052565b604081019081106001600160401b03821117611c9c57604052565b60a081019081106001600160401b03821117611c9c57604052565b61010081019081106001600160401b03821117611c9c57604052565b90601f801991011681019081106001600160401b03821117611c9c57604052565b9060405161208981612009565b602060018294805484520154910152565b90600182811c921680156120c8575b60208310146120b457565b634e487b7160e01b5f52602260045260245ffd5b91607f16916120a9565b9060405191825f8254926120e58461209a565b8084529360018116908115612150575060011461210c575b5061210a9250038361205b565b565b90505f9291925260205f20905f915b81831061213457505090602061210a928201015f6120fd565b602091935080600191548385890101520191019091849261211b565b90506020925061210a94915060ff191682840152151560051b8201015f6120fd565b9060405161217f8161203f565b60e06004829460ff815481811615158652818160081c1615156020870152818160101c16604087015260181c16606085015260018101546080850152600281015460a0850152600381015460c08501520154910152565b600511156121e057565b634e487b7160e01b5f52602160045260245ffd5b9060405161220181612024565b608060ff6004839582815416612216816121d6565b85526001810154602086015260028101546001600160a01b03166040860152612241600382016120d2565b60608601520154161515910152565b805180835260209291819084018484015e5f828201840152601f01601f1916010190565b60e0809180511515845260208101511515602085015260ff604082015116604085015260ff60608201511660608501526080810151608085015260a081015160a085015260c081015160c08501520151910152565b9081516122d5816121d6565b81526020820151602082015260018060a01b03604083015116604082015260808061230f606085015160a0606086015260a0850190612250565b930151151591015290565b9181601f84011215610195578235916001600160401b038311610195576020838186019501011161019557565b6040906003190112610195576004359060243590565b90602080835192838152019201905f5b81811061237a5750505090565b825184526020938401939092019160010161236d565b90606060031983011261019557600435916024356001600160401b03811161019557816123bf9160040161231a565b92909291604435906001600160401b038211610195576123e19160040161231a565b9091565b91908201809211611bdf57565b906123fc816121d6565b60ff80198354169116179055565b818110612415575050565b5f815560010161240a565b3580151581036101955790565b60c43560ff811681036101955790565b356001600160a01b03811681036101955790565b903590601e198136030182121561019557018035906001600160401b0382116101955760200191813603831361019557565b91908203918211611bdf57565b6040519061249d8261203f565b5f60e0838281528260208201528260408201528260608201528260808201528260a08201528260c08201520152565b908060209392818452848401375f828201840152601f01601f1916010190565b92906125059061251395936040865260408601916124cc565b9260208185039101526124cc565b90565b5f198114611bdf5760010190565b61252d816121d6565b612536826121d6565b8082146125e357612546816121d6565b6002811480156125fc575b80156125e9575b6125e357612565816121d6565b80156125c457600390612577816121d6565b1461258157505f90565b61258a816121d6565b80159081156125af575b811561259e575090565b600191506125ab816121d6565b1490565b90506125ba816121d6565b6002811490612594565b506125ce816121d6565b600381149081156125af57811561259e575090565b50505f90565b506125f3816121d6565b60018114612558565b50612606816121d6565b60048114612551565b80519081156125e35760205f9183829460405193849301835e8101838152039060025afa15611029575f516001600160f81b0316600160f81b1790565b5f5b8049801561266e57821461266a5761266590612516565b61264e565b5050565b630110b90960e61b5f5260045ffdfea2646970667358221220b9bc83a75759260c608acac3a5b4dc016b0ee1de90998884071bc5c90f25026b64736f6c634300081c0033",pC=s=>s.length>1;class P5 extends _u.ContractFactory{constructor(...t){pC(t)?super(...t):super(qf,h9,t[0])}getDeployTransaction(t,e,n,a,i){return super.getDeployTransaction(t,e,n,a,i||{})}deploy(t,e,n,a,i){return super.deploy(t,e,n,a,i||{})}connect(t){return super.connect(t)}static createInterface(){return new _u.Interface(qf)}static connect(t,e){return new _u.Contract(t,qf,e)}}Sl.ProcessRegistry__factory=P5;P5.bytecode=h9;P5.abi=qf;(function(s){var t=Xt&&Xt.__createBinding||(Object.create?function(r,o,f,l){l===void 0&&(l=f);var c=Object.getOwnPropertyDescriptor(o,f);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[f]}}),Object.defineProperty(r,l,c)}:function(r,o,f,l){l===void 0&&(l=f),r[l]=o[f]}),e=Xt&&Xt.__setModuleDefault||(Object.create?function(r,o){Object.defineProperty(r,"default",{enumerable:!0,value:o})}:function(r,o){r.default=o}),n=Xt&&Xt.__importStar||function(r){if(r&&r.__esModule)return r;var o={};if(r!=null)for(var f in r)f!=="default"&&Object.prototype.hasOwnProperty.call(r,f)&&t(o,r,f);return e(o,r),o};Object.defineProperty(s,"__esModule",{value:!0}),s.ProcessRegistry__factory=s.OrganizationRegistry__factory=s.verifiers=s.libraries=s.interfaces=void 0,s.interfaces=n(X4),s.libraries=n(s9),s.verifiers=n(i9);var a=Bl;Object.defineProperty(s,"OrganizationRegistry__factory",{enumerable:!0,get:function(){return a.OrganizationRegistry__factory}});var i=Sl;Object.defineProperty(s,"ProcessRegistry__factory",{enumerable:!0,get:function(){return i.ProcessRegistry__factory}})})(Z4);var gC=Xt&&Xt.__createBinding||(Object.create?function(s,t,e,n){n===void 0&&(n=e);var a=Object.getOwnPropertyDescriptor(t,e);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(s,n,a)}:function(s,t,e,n){n===void 0&&(n=e),s[n]=t[e]}),yC=Xt&&Xt.__setModuleDefault||(Object.create?function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}:function(s,t){s.default=t}),b9=Xt&&Xt.__importStar||function(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var e in s)e!=="default"&&Object.prototype.hasOwnProperty.call(s,e)&&gC(t,s,e);return yC(t,s),t};Object.defineProperty(ic,"__esModule",{value:!0});ic.src=ic.openzeppelin=void 0;ic.openzeppelin=b9(V1);ic.src=b9(Z4);(function(s){var t=Xt&&Xt.__createBinding||(Object.create?function(A,w,I,v){v===void 0&&(v=I);var F=Object.getOwnPropertyDescriptor(w,I);(!F||("get"in F?!w.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return w[I]}}),Object.defineProperty(A,v,F)}:function(A,w,I,v){v===void 0&&(v=I),A[v]=w[I]}),e=Xt&&Xt.__setModuleDefault||(Object.create?function(A,w){Object.defineProperty(A,"default",{enumerable:!0,value:w})}:function(A,w){A.default=w}),n=Xt&&Xt.__importStar||function(A){if(A&&A.__esModule)return A;var w={};if(A!=null)for(var I in A)I!=="default"&&Object.prototype.hasOwnProperty.call(A,I)&&t(w,A,I);return e(w,A),w};Object.defineProperty(s,"__esModule",{value:!0}),s.StateTransitionVerifierGroth16__factory=s.ResultsVerifierGroth16__factory=s.Verifier__factory=s.ProcessRegistry__factory=s.OrganizationRegistry__factory=s.BlobsLib__factory=s.IZKVerifier__factory=s.IProcessRegistry__factory=s.IOrganizationRegistry__factory=s.ICensusValidator__factory=s.Ownable__factory=s.factories=void 0,s.factories=n(ic);var a=dl;Object.defineProperty(s,"Ownable__factory",{enumerable:!0,get:function(){return a.Ownable__factory}});var i=Ll;Object.defineProperty(s,"ICensusValidator__factory",{enumerable:!0,get:function(){return i.ICensusValidator__factory}});var r=Al;Object.defineProperty(s,"IOrganizationRegistry__factory",{enumerable:!0,get:function(){return r.IOrganizationRegistry__factory}});var o=El;Object.defineProperty(s,"IProcessRegistry__factory",{enumerable:!0,get:function(){return o.IProcessRegistry__factory}});var f=Cl;Object.defineProperty(s,"IZKVerifier__factory",{enumerable:!0,get:function(){return f.IZKVerifier__factory}});var l=vl;Object.defineProperty(s,"BlobsLib__factory",{enumerable:!0,get:function(){return l.BlobsLib__factory}});var c=Bl;Object.defineProperty(s,"OrganizationRegistry__factory",{enumerable:!0,get:function(){return c.OrganizationRegistry__factory}});var h=Sl;Object.defineProperty(s,"ProcessRegistry__factory",{enumerable:!0,get:function(){return h.ProcessRegistry__factory}});var m=Pl;Object.defineProperty(s,"Verifier__factory",{enumerable:!0,get:function(){return m.Verifier__factory}});var p=Il;Object.defineProperty(s,"ResultsVerifierGroth16__factory",{enumerable:!0,get:function(){return p.ResultsVerifierGroth16__factory}});var C=Tl;Object.defineProperty(s,"StateTransitionVerifierGroth16__factory",{enumerable:!0,get:function(){return C.StateTransitionVerifierGroth16__factory}})})(x6);const mC=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];function wd(s,t){if(!t||t==10)return BigInt(s);if(t==16)return s.slice(0,2)=="0x"?BigInt(s):BigInt("0x"+s)}const Le=wd;function _C(s,t){let e=BigInt(0);t=BigInt(t);for(let n=0;n<s.length;n++)e=e*t+BigInt(s[n]);return e}function Ol(s){const t=s.toString(16);return(t.length-1)*4+mC[parseInt(t[0],16)]}function p9(s){return BigInt(s)<BigInt(0)}function g9(s){return!s}function h1(s,t){return BigInt(s)<<BigInt(t)}function ao(s,t){return BigInt(s)>>BigInt(t)}const xC=h1,wC=ao;function I5(s){return(BigInt(s)&BigInt(1))==BigInt(1)}function LC(s){let t=BigInt(s);const e=[];for(;t;){if(t&BigInt(1)){const n=2-Number(t%BigInt(4));e.push(n),t=t-BigInt(n)}else e.push(0);t=t>>BigInt(1)}return e}function y9(s){let t=BigInt(s);const e=[];for(;t;)t&BigInt(1)?e.push(1):e.push(0),t=t>>BigInt(1);return e}function m9(s){if(s>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("Number too big");return Number(s)}function AC(s,t){const e=[];let n=BigInt(s);for(t=BigInt(t);n;)e.unshift(Number(n%t)),n=n/t;return e}function T5(s,t){return BigInt(s)+BigInt(t)}function ya(s,t){return BigInt(s)-BigInt(t)}function _9(s){return-BigInt(s)}function x9(s,t){return BigInt(s)*BigInt(t)}function EC(s){return BigInt(s)*BigInt(s)}function Rl(s,t){return BigInt(s)**BigInt(t)}function CC(s,t){return BigInt(s)**BigInt(t)}function vC(s){return BigInt(s)>=0?BigInt(s):-BigInt(s)}function Cc(s,t){return BigInt(s)/BigInt(t)}function vs(s,t){return BigInt(s)%BigInt(t)}function Ii(s,t){return BigInt(s)==BigInt(t)}function PC(s,t){return BigInt(s)!=BigInt(t)}function IC(s,t){return BigInt(s)<BigInt(t)}function H2(s,t){return BigInt(s)>BigInt(t)}function TC(s,t){return BigInt(s)<=BigInt(t)}function w9(s,t){return BigInt(s)>=BigInt(t)}function B5(s,t){return BigInt(s)&BigInt(t)}function BC(s,t){return BigInt(s)|BigInt(t)}function SC(s,t){return BigInt(s)^BigInt(t)}function OC(s,t){return BigInt(s)&&BigInt(t)}function RC(s,t){return BigInt(s)||BigInt(t)}function FC(s){return!BigInt(s)}function k0(s,t,e,n){const a="0000000"+e.toString(16),i=new Uint32Array(s.buffer,s.byteOffset+t,n/4),r=((a.length-7)*4-1>>5)+1;for(let o=0;o<r;o++)i[o]=parseInt(a.substring(a.length-8*o-8,a.length-8*o),16);for(let o=r;o<i.length;o++)i[o]=0;for(let o=i.length*4;o<n;o++)s[o]=m9(B5(ao(e,o*8),255))}function L9(s,t,e,n){const a="0000000"+e.toString(16),i=new DataView(s.buffer,s.byteOffset+t,n),r=((a.length-7)*4-1>>5)+1;for(let o=0;o<r;o++)i.setUint32(n-o*4-4,parseInt(a.substring(a.length-8*o-8,a.length-8*o),16),!1);for(let o=0;o<n/4-r;o++)i[o]=0}function U0(s,t,e){e=e||s.byteLength,t=t||0;const n=new Uint32Array(s.buffer,s.byteOffset+t,e/4),a=new Array(e/4);return n.forEach((i,r)=>a[a.length-r-1]=i.toString(16).padStart(8,"0")),wd(a.join(""),16)}function A9(s,t,e){e=e||s.byteLength,t=t||0;const n=new DataView(s.buffer,s.byteOffset+t,e),a=new Array(e/4);for(let i=0;i<e/4;i++)a[i]=n.getUint32(i*4,!1).toString(16).padStart(8,"0");return wd(a.join(""),16)}function E9(s,t){return s.toString(t)}function vc(s){const t=new Uint8Array(Math.floor((Ol(s)-1)/8)+1);return k0(t,0,s,t.byteLength),t}const C9=Le(0),Ti=Le(1);var NC=Object.freeze({__proto__:null,abs:vC,add:T5,band:B5,bitLength:Ol,bits:y9,bor:BC,bxor:SC,div:Cc,e:Le,eq:Ii,exp:CC,fromArray:_C,fromRprBE:A9,fromRprLE:U0,fromString:wd,geq:w9,gt:H2,isNegative:p9,isOdd:I5,isZero:g9,land:OC,leq:TC,lnot:FC,lor:RC,lt:IC,mod:vs,mul:x9,naf:LC,neg:_9,neq:PC,one:Ti,pow:Rl,shiftLeft:h1,shiftRight:ao,shl:xC,shr:wC,square:EC,sub:ya,toArray:AC,toLEBuff:vc,toNumber:m9,toRprBE:L9,toRprLE:k0,toString:E9,zero:C9});function K3(s,t,e){if(g9(e))return s.one;const n=y9(e);if(n.length==0)return s.one;let a=t;for(let i=n.length-2;i>=0;i--)a=s.square(a),n[i]&&(a=s.mul(a,t));return a}function kC(s){if(s.m%2==1)if(Ii(vs(s.p,4),1))if(Ii(vs(s.p,8),1))if(Ii(vs(s.p,16),1))UC(s);else if(Ii(vs(s.p,16),9))MC(s);else throw new Error("Field withot sqrt");else if(Ii(vs(s.p,8),5))DC(s);else throw new Error("Field withot sqrt");else Ii(vs(s.p,4),3)&&zC(s);else{const t=vs(Rl(s.p,s.m/2),4);t==1?qC(s):t==3?VC(s):GC(s)}}function UC(s){for(s.sqrt_q=Rl(s.p,s.m),s.sqrt_s=0,s.sqrt_t=ya(s.sqrt_q,1);!I5(s.sqrt_t);)s.sqrt_s=s.sqrt_s+1,s.sqrt_t=Cc(s.sqrt_t,2);let t=s.one;for(;s.eq(t,s.one);){const e=s.random();s.sqrt_z=s.pow(e,s.sqrt_t),t=s.pow(s.sqrt_z,2**(s.sqrt_s-1))}s.sqrt_tm1d2=Cc(ya(s.sqrt_t,1),2),s.sqrt=function(e){const n=this;if(n.isZero(e))return n.zero;let a=n.pow(e,n.sqrt_tm1d2);const i=n.pow(n.mul(n.square(a),e),2**(n.sqrt_s-1));if(n.eq(i,n.negone))return null;let r=n.sqrt_s,o=n.mul(e,a),f=n.mul(o,a),l=n.sqrt_z;for(;!n.eq(f,n.one);){let c=n.square(f),h=1;for(;!n.eq(c,n.one);)c=n.square(c),h++;a=l;for(let m=0;m<r-h-1;m++)a=n.square(a);l=n.square(a),f=n.mul(f,l),o=n.mul(o,a),r=h}return n.geq(o,n.zero)?o:n.neg(o)}}function MC(s){s.sqrt=function(){throw new Error("Sqrt alg 4 not implemented")}}function DC(s){s.sqrt=function(){throw new Error("Sqrt alg 3 not implemented")}}function zC(s){s.sqrt_q=Rl(s.p,s.m),s.sqrt_e1=Cc(ya(s.sqrt_q,3),4),s.sqrt=function(t){if(this.isZero(t))return this.zero;const e=this.pow(t,this.sqrt_e1),n=this.mul(this.square(e),t);if(this.eq(n,this.negone))return null;const a=this.mul(e,t);return s.geq(a,s.zero)?a:s.neg(a)}}function qC(s){s.sqrt=function(){throw new Error("Sqrt alg 10 not implemented")}}function VC(s){s.sqrt_q=Rl(s.p,s.m/2),s.sqrt_e34=Cc(ya(s.sqrt_q,3),4),s.sqrt_e12=Cc(ya(s.sqrt_q,1),2),s.frobenius=function(t,e){return t%2==1?s.conjugate(e):e},s.sqrt=function(t){const e=this,n=e.pow(t,e.sqrt_e34),a=e.mul(e.square(n),t),i=e.mul(e.frobenius(1,a),a);if(e.eq(i,e.negone))return null;const r=e.mul(n,t);let o;if(e.eq(a,e.negone))o=e.mul(r,[e.F.zero,e.F.one]);else{const f=e.pow(e.add(e.one,a),e.sqrt_e12);o=e.mul(f,r)}return e.geq(o,e.zero)?o:e.neg(o)}}function GC(s){s.sqrt=function(){throw new Error("Sqrt alg 8 not implemented")}}function Fa(s,t,e,n,a){s[t]=s[t]+s[e]>>>0,s[a]=(s[a]^s[t])>>>0,s[a]=(s[a]<<16|s[a]>>>16&65535)>>>0,s[n]=s[n]+s[a]>>>0,s[e]=(s[e]^s[n])>>>0,s[e]=(s[e]<<12|s[e]>>>20&4095)>>>0,s[t]=s[t]+s[e]>>>0,s[a]=(s[a]^s[t])>>>0,s[a]=(s[a]<<8|s[a]>>>24&255)>>>0,s[n]=s[n]+s[a]>>>0,s[e]=(s[e]^s[n])>>>0,s[e]=(s[e]<<7|s[e]>>>25&127)>>>0}function HC(s){Fa(s,0,4,8,12),Fa(s,1,5,9,13),Fa(s,2,6,10,14),Fa(s,3,7,11,15),Fa(s,0,5,10,15),Fa(s,1,6,11,12),Fa(s,2,7,8,13),Fa(s,3,4,9,14)}class jC{constructor(t){t=t||[0,0,0,0,0,0,0,0],this.state=[1634760805,857760878,2036477234,1797285236,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],0,0,0,0],this.idx=16,this.buff=new Array(16)}nextU32(){return this.idx==16&&this.update(),this.buff[this.idx++]}nextU64(){return T5(x9(this.nextU32(),4294967296),this.nextU32())}nextBool(){return(this.nextU32()&1)==1}update(){for(let t=0;t<16;t++)this.buff[t]=this.state[t];for(let t=0;t<10;t++)HC(this.buff);for(let t=0;t<16;t++)this.buff[t]=this.buff[t]+this.state[t]>>>0;this.idx=0,this.state[12]=this.state[12]+1>>>0,this.state[12]==0&&(this.state[13]=this.state[13]+1>>>0,this.state[13]==0&&(this.state[14]=this.state[14]+1>>>0,this.state[14]==0&&(this.state[15]=this.state[15]+1>>>0)))}}function v9(s){let t=new Uint8Array(s);if(typeof globalThis.crypto<"u")globalThis.crypto.getRandomValues(t);else for(let e=0;e<s;e++)t[e]=Math.random()*4294967296>>>0;return t}function KC(){const s=v9(32),t=new Uint32Array(s.buffer),e=[];for(let n=0;n<8;n++)e.push(t[n]);return e}let lf=null;function S5(){return lf||(lf=new jC(KC()),lf)}class $C{constructor(t,e,n){this.F=e,this.G=t,this.opMulGF=n;let a=e.sqrt_t||e.t,i=e.sqrt_s||e.s,r=e.one;for(;e.eq(e.pow(r,e.half),e.one);)r=e.add(r,e.one);this.w=new Array(i+1),this.wi=new Array(i+1),this.w[i]=this.F.pow(r,a),this.wi[i]=this.F.inv(this.w[i]);let o=i-1;for(;o>=0;)this.w[o]=this.F.square(this.w[o+1]),this.wi[o]=this.F.square(this.wi[o+1]),o--;this.roots=[],this._setRoots(Math.min(i,15))}_setRoots(t){for(let e=t;e>=0&&!this.roots[e];e--){let n=this.F.one;const a=1<<e,i=new Array(a);for(let r=0;r<a;r++)i[r]=n,n=this.F.mul(n,this.w[e]);this.roots[e]=i}}fft(t){if(t.length<=1)return t;const e=$3(t.length-1)+1;this._setRoots(e);const n=1<<e;if(t.length!=n)throw new Error("Size must be multiple of 2");return b1(this,t,e,0,1)}ifft(t){if(t.length<=1)return t;const e=$3(t.length-1)+1;this._setRoots(e);const n=1<<e;if(t.length!=n)throw new Error("Size must be multiple of 2");const a=b1(this,t,e,0,1),i=this.F.inv(this.F.mulScalar(this.F.one,n)),r=new Array(n);for(let o=0;o<n;o++)r[o]=this.opMulGF(a[(n-o)%n],i);return r}}function $3(s){return(s&4294901760?(s&=4294901760,16):0)|(s&4278255360?(s&=4278255360,8):0)|(s&4042322160?(s&=4042322160,4):0)|(s&3435973836?(s&=3435973836,2):0)|(s&2863311530)!==0}function b1(s,t,e,n,a){const i=1<<e;if(i==1)return[t[n]];if(i==2)return[s.G.add(t[n],t[n+a]),s.G.sub(t[n],t[n+a])];const r=i>>1,o=b1(s,t,e-1,n,a*2),f=b1(s,t,e-1,n+a,a*2),l=new Array(i);for(let c=0;c<r;c++)l[c]=s.G.add(o[c],s.opMulGF(f[c],s.roots[e][c])),l[c+r]=s.G.sub(o[c],s.opMulGF(f[c],s.roots[e][c]));return l}class QC{constructor(t){this.type="F1",this.one=BigInt(1),this.zero=BigInt(0),this.p=BigInt(t),this.m=1,this.negone=this.p-this.one,this.two=BigInt(2),this.half=this.p>>this.one,this.bitLength=Ol(this.p),this.mask=(this.one<<BigInt(this.bitLength))-this.one,this.n64=Math.floor((this.bitLength-1)/64)+1,this.n32=this.n64*2,this.n8=this.n64*8,this.R=this.e(this.one<<BigInt(this.n64*64)),this.Ri=this.inv(this.R);const e=this.negone>>this.one;this.nqr=this.two;let n=this.pow(this.nqr,e);for(;!this.eq(n,this.negone);)this.nqr=this.nqr+this.one,n=this.pow(this.nqr,e);for(this.s=0,this.t=this.negone;(this.t&this.one)==this.zero;)this.s=this.s+1,this.t=this.t>>this.one;this.nqr_to_t=this.pow(this.nqr,this.t),kC(this),this.FFT=new $C(this,this,this.mul.bind(this)),this.fft=this.FFT.fft.bind(this.FFT),this.ifft=this.FFT.ifft.bind(this.FFT),this.w=this.FFT.w,this.wi=this.FFT.wi,this.shift=this.square(this.nqr),this.k=this.exp(this.nqr,2**this.s)}e(t,e){let n;if(e?e==16&&(n=BigInt("0x"+t)):n=BigInt(t),n<0){let a=-n;return a>=this.p&&(a=a%this.p),this.p-a}else return n>=this.p?n%this.p:n}add(t,e){const n=t+e;return n>=this.p?n-this.p:n}sub(t,e){return t>=e?t-e:this.p-e+t}neg(t){return t&&this.p-t}mul(t,e){return t*e%this.p}mulScalar(t,e){return t*this.e(e)%this.p}square(t){return t*t%this.p}eq(t,e){return t==e}neq(t,e){return t!=e}lt(t,e){const n=t>this.half?t-this.p:t,a=e>this.half?e-this.p:e;return n<a}gt(t,e){const n=t>this.half?t-this.p:t,a=e>this.half?e-this.p:e;return n>a}leq(t,e){const n=t>this.half?t-this.p:t,a=e>this.half?e-this.p:e;return n<=a}geq(t,e){const n=t>this.half?t-this.p:t,a=e>this.half?e-this.p:e;return n>=a}div(t,e){return this.mul(t,this.inv(e))}idiv(t,e){if(!e)throw new Error("Division by zero");return t/e}inv(t){if(!t)throw new Error("Division by zero");let e=this.zero,n=this.p,a=this.one,i=t%this.p;for(;i;){let r=n/i;[e,a]=[a,e-r*a],[n,i]=[i,n-r*i]}return e<this.zero&&(e+=this.p),e}mod(t,e){return t%e}pow(t,e){return K3(this,t,e)}exp(t,e){return K3(this,t,e)}band(t,e){const n=t&e&this.mask;return n>=this.p?n-this.p:n}bor(t,e){const n=(t|e)&this.mask;return n>=this.p?n-this.p:n}bxor(t,e){const n=(t^e)&this.mask;return n>=this.p?n-this.p:n}bnot(t){const e=t^this.mask;return e>=this.p?e-this.p:e}shl(t,e){if(Number(e)<this.bitLength){const n=t<<e&this.mask;return n>=this.p?n-this.p:n}else{const n=this.p-e;return Number(n)<this.bitLength?t>>n:this.zero}}shr(t,e){if(Number(e)<this.bitLength)return t>>e;{const n=this.p-e;if(Number(n)<this.bitLength){const a=t<<n&this.mask;return a>=this.p?a-this.p:a}else return 0}}land(t,e){return t&&e?this.one:this.zero}lor(t,e){return t||e?this.one:this.zero}lnot(t){return t?this.zero:this.one}sqrt_old(t){if(t==this.zero)return this.zero;if(this.pow(t,this.negone>>this.one)!=this.one)return null;let n=this.s,a=this.nqr_to_t,i=this.pow(t,this.t),r=this.pow(t,this.add(this.t,this.one)>>this.one);for(;i!=this.one;){let o=this.square(i),f=1;for(;o!=this.one;)f++,o=this.square(o);let l=a;for(let c=0;c<n-f-1;c++)l=this.square(l);n=f,a=this.square(l),i=this.mul(i,a),r=this.mul(r,l)}return r>this.p>>this.one&&(r=this.neg(r)),r}normalize(t,e){if(t=BigInt(t,e),t<0){let n=-t;return n>=this.p&&(n=n%this.p),this.p-n}else return t>=this.p?t%this.p:t}random(){const t=this.bitLength*2/8;let e=this.zero;for(let n=0;n<t;n++)e=(e<<BigInt(8))+BigInt(v9(1)[0]);return e%this.p}toString(t,e){e=e||10;let n;return t>this.half&&e==10?n="-"+(this.p-t).toString(e):n=t.toString(e),n}isZero(t){return t==this.zero}fromRng(t){let e;do{e=this.zero;for(let n=0;n<this.n64;n++)e+=t.nextU64()<<BigInt(64*n);e&=this.mask}while(e>=this.p);return e=e*this.Ri%this.p,e}fft(t){return this.FFT.fft(t)}ifft(t){return this.FFT.ifft(t)}toRprLE(t,e,n){k0(t,e,n,this.n64*8)}toRprBE(t,e,n){L9(t,e,n,this.n64*8)}toRprBEM(t,e,n){return this.toRprBE(t,e,this.mul(this.R,n))}toRprLEM(t,e,n){return this.toRprLE(t,e,this.mul(this.R,n))}fromRprLE(t,e){return U0(t,e,this.n8)}fromRprBE(t,e){return A9(t,e,this.n8)}fromRprLEM(t,e){return this.mul(this.fromRprLE(t,e),this.Ri)}fromRprBEM(t,e){return this.mul(this.fromRprBE(t,e),this.Ri)}toObject(t){return t}}var yi={};yi.bigInt2BytesLE=function(t,e){const n=Array(e);let a=BigInt(t);for(let i=0;i<e;i++)n[i]=Number(a&0xFFn),a=a>>8n;return n};yi.bigInt2U32LE=function(t,e){const n=Array(e);let a=BigInt(t);for(let i=0;i<e;i++)n[i]=Number(a&0xFFFFFFFFn),a=a>>32n;return n};yi.isOcamNum=function(s){return!(!Array.isArray(s)||s.length!=3||typeof s[0]!="number"||typeof s[1]!="number"||!Array.isArray(s[2]))};var JC=function(t,e,n){const a=n||"int";if(t.modules[a])return a;t.modules[a]={};const i=e*2,r=e*8;function o(){const P=t.addFunction(a+"_copy");P.addParam("px","i32"),P.addParam("pr","i32");const u=P.getCodeBuilder();for(let _=0;_<e;_++)P.addCode(u.i64_store(u.getLocal("pr"),_*8,u.i64_load(u.getLocal("px"),_*8)))}function f(){const P=t.addFunction(a+"_zero");P.addParam("pr","i32");const u=P.getCodeBuilder();for(let _=0;_<e;_++)P.addCode(u.i64_store(u.getLocal("pr"),_*8,u.i64_const(0)))}function l(){const P=t.addFunction(a+"_one");P.addParam("pr","i32");const u=P.getCodeBuilder();P.addCode(u.i64_store(u.getLocal("pr"),0,u.i64_const(1)));for(let _=1;_<e;_++)P.addCode(u.i64_store(u.getLocal("pr"),_*8,u.i64_const(0)))}function c(){const P=t.addFunction(a+"_isZero");P.addParam("px","i32"),P.setReturnType("i32");const u=P.getCodeBuilder();function _(G){return G==0?u.ret(u.i64_eqz(u.i64_load(u.getLocal("px")))):u.if(u.i64_eqz(u.i64_load(u.getLocal("px"),G*8)),_(G-1),u.ret(u.i32_const(0)))}P.addCode(_(e-1)),P.addCode(u.ret(u.i32_const(0)))}function h(){const P=t.addFunction(a+"_eq");P.addParam("px","i32"),P.addParam("py","i32"),P.setReturnType("i32");const u=P.getCodeBuilder();function _(G){return G==0?u.ret(u.i64_eq(u.i64_load(u.getLocal("px")),u.i64_load(u.getLocal("py")))):u.if(u.i64_eq(u.i64_load(u.getLocal("px"),G*8),u.i64_load(u.getLocal("py"),G*8)),_(G-1),u.ret(u.i32_const(0)))}P.addCode(_(e-1)),P.addCode(u.ret(u.i32_const(0)))}function m(){const P=t.addFunction(a+"_gte");P.addParam("px","i32"),P.addParam("py","i32"),P.setReturnType("i32");const u=P.getCodeBuilder();function _(G){return G==0?u.ret(u.i64_ge_u(u.i64_load(u.getLocal("px")),u.i64_load(u.getLocal("py")))):u.if(u.i64_lt_u(u.i64_load(u.getLocal("px"),G*8),u.i64_load(u.getLocal("py"),G*8)),u.ret(u.i32_const(0)),u.if(u.i64_gt_u(u.i64_load(u.getLocal("px"),G*8),u.i64_load(u.getLocal("py"),G*8)),u.ret(u.i32_const(1)),_(G-1)))}P.addCode(_(e-1)),P.addCode(u.ret(u.i32_const(0)))}function p(){const P=t.addFunction(a+"_add");P.addParam("x","i32"),P.addParam("y","i32"),P.addParam("r","i32"),P.setReturnType("i32"),P.addLocal("c","i64");const u=P.getCodeBuilder();P.addCode(u.setLocal("c",u.i64_add(u.i64_load32_u(u.getLocal("x")),u.i64_load32_u(u.getLocal("y"))))),P.addCode(u.i64_store32(u.getLocal("r"),u.getLocal("c")));for(let _=1;_<i;_++)P.addCode(u.setLocal("c",u.i64_add(u.i64_add(u.i64_load32_u(u.getLocal("x"),4*_),u.i64_load32_u(u.getLocal("y"),4*_)),u.i64_shr_u(u.getLocal("c"),u.i64_const(32))))),P.addCode(u.i64_store32(u.getLocal("r"),_*4,u.getLocal("c")));P.addCode(u.i32_wrap_i64(u.i64_shr_u(u.getLocal("c"),u.i64_const(32))))}function C(){const P=t.addFunction(a+"_sub");P.addParam("x","i32"),P.addParam("y","i32"),P.addParam("r","i32"),P.setReturnType("i32"),P.addLocal("c","i64");const u=P.getCodeBuilder();P.addCode(u.setLocal("c",u.i64_sub(u.i64_load32_u(u.getLocal("x")),u.i64_load32_u(u.getLocal("y"))))),P.addCode(u.i64_store32(u.getLocal("r"),u.i64_and(u.getLocal("c"),u.i64_const("0xFFFFFFFF"))));for(let _=1;_<i;_++)P.addCode(u.setLocal("c",u.i64_add(u.i64_sub(u.i64_load32_u(u.getLocal("x"),4*_),u.i64_load32_u(u.getLocal("y"),4*_)),u.i64_shr_s(u.getLocal("c"),u.i64_const(32))))),P.addCode(u.i64_store32(u.getLocal("r"),_*4,u.i64_and(u.getLocal("c"),u.i64_const("0xFFFFFFFF"))));P.addCode(u.i32_wrap_i64(u.i64_shr_s(u.getLocal("c"),u.i64_const(32))))}function A(){const P=t.addFunction(a+"_mul");P.addParam("x","i32"),P.addParam("y","i32"),P.addParam("r","i32"),P.addLocal("c0","i64"),P.addLocal("c1","i64");for(let E=0;E<i;E++)P.addLocal("x"+E,"i64"),P.addLocal("y"+E,"i64");const u=P.getCodeBuilder(),_=[],G=[];function H(E,M){let N,$;return _[E]?N=u.getLocal("x"+E):(N=u.teeLocal("x"+E,u.i64_load32_u(u.getLocal("x"),E*4)),_[E]=!0),G[M]?$=u.getLocal("y"+M):($=u.teeLocal("y"+M,u.i64_load32_u(u.getLocal("y"),M*4)),G[M]=!0),u.i64_mul(N,$)}let J="c0",U="c1";for(let E=0;E<i*2-1;E++){for(let M=Math.max(0,E-i+1);M<=E&&M<i;M++){const N=E-M;P.addCode(u.setLocal(J,u.i64_add(u.i64_and(u.getLocal(J),u.i64_const(4294967295)),H(M,N)))),P.addCode(u.setLocal(U,u.i64_add(u.getLocal(U),u.i64_shr_u(u.getLocal(J),u.i64_const(32)))))}P.addCode(u.i64_store32(u.getLocal("r"),E*4,u.getLocal(J))),[J,U]=[U,J],P.addCode(u.setLocal(U,u.i64_shr_u(u.getLocal(J),u.i64_const(32))))}P.addCode(u.i64_store32(u.getLocal("r"),i*4*2-4,u.getLocal(J)))}function w(){const P=t.addFunction(a+"_square");P.addParam("x","i32"),P.addParam("r","i32"),P.addLocal("c0","i64"),P.addLocal("c1","i64"),P.addLocal("c0_old","i64"),P.addLocal("c1_old","i64");for(let M=0;M<i;M++)P.addLocal("x"+M,"i64");const u=P.getCodeBuilder(),_=[];function G(M,N){let $,X;return _[M]?$=u.getLocal("x"+M):($=u.teeLocal("x"+M,u.i64_load32_u(u.getLocal("x"),M*4)),_[M]=!0),_[N]?X=u.getLocal("x"+N):(X=u.teeLocal("x"+N,u.i64_load32_u(u.getLocal("x"),N*4)),_[N]=!0),u.i64_mul($,X)}let H="c0",J="c1",U="c0_old",E="c1_old";for(let M=0;M<i*2-1;M++){P.addCode(u.setLocal(H,u.i64_const(0)),u.setLocal(J,u.i64_const(0)));for(let N=Math.max(0,M-i+1);N<M+1>>1&&N<i;N++){const $=M-N;P.addCode(u.setLocal(H,u.i64_add(u.i64_and(u.getLocal(H),u.i64_const(4294967295)),G(N,$)))),P.addCode(u.setLocal(J,u.i64_add(u.getLocal(J),u.i64_shr_u(u.getLocal(H),u.i64_const(32)))))}P.addCode(u.setLocal(H,u.i64_shl(u.i64_and(u.getLocal(H),u.i64_const(4294967295)),u.i64_const(1)))),P.addCode(u.setLocal(J,u.i64_add(u.i64_shl(u.getLocal(J),u.i64_const(1)),u.i64_shr_u(u.getLocal(H),u.i64_const(32))))),M%2==0&&(P.addCode(u.setLocal(H,u.i64_add(u.i64_and(u.getLocal(H),u.i64_const(4294967295)),G(M>>1,M>>1)))),P.addCode(u.setLocal(J,u.i64_add(u.getLocal(J),u.i64_shr_u(u.getLocal(H),u.i64_const(32)))))),M>0&&(P.addCode(u.setLocal(H,u.i64_add(u.i64_and(u.getLocal(H),u.i64_const(4294967295)),u.i64_and(u.getLocal(U),u.i64_const(4294967295))))),P.addCode(u.setLocal(J,u.i64_add(u.i64_add(u.getLocal(J),u.i64_shr_u(u.getLocal(H),u.i64_const(32))),u.getLocal(E))))),P.addCode(u.i64_store32(u.getLocal("r"),M*4,u.getLocal(H))),P.addCode(u.setLocal(U,u.getLocal(J)),u.setLocal(E,u.i64_shr_u(u.getLocal(U),u.i64_const(32))))}P.addCode(u.i64_store32(u.getLocal("r"),i*4*2-4,u.getLocal(U)))}function I(){const P=t.addFunction(a+"_squareOld");P.addParam("x","i32"),P.addParam("r","i32");const u=P.getCodeBuilder();P.addCode(u.call(a+"_mul",u.getLocal("x"),u.getLocal("x"),u.getLocal("r")))}function v(){const P=t.addFunction(a+"__mul1");P.addParam("px","i32"),P.addParam("y","i64"),P.addParam("pr","i32"),P.addLocal("c","i64");const u=P.getCodeBuilder();P.addCode(u.setLocal("c",u.i64_mul(u.i64_load32_u(u.getLocal("px"),0,0),u.getLocal("y")))),P.addCode(u.i64_store32(u.getLocal("pr"),0,0,u.getLocal("c")));for(let _=1;_<i;_++)P.addCode(u.setLocal("c",u.i64_add(u.i64_mul(u.i64_load32_u(u.getLocal("px"),4*_,0),u.getLocal("y")),u.i64_shr_u(u.getLocal("c"),u.i64_const(32))))),P.addCode(u.i64_store32(u.getLocal("pr"),_*4,0,u.getLocal("c")))}function F(){const P=t.addFunction(a+"__add1");P.addParam("x","i32"),P.addParam("y","i64"),P.addLocal("c","i64"),P.addLocal("px","i32");const u=P.getCodeBuilder();P.addCode(u.setLocal("px",u.getLocal("x"))),P.addCode(u.setLocal("c",u.i64_add(u.i64_load32_u(u.getLocal("px"),0,0),u.getLocal("y")))),P.addCode(u.i64_store32(u.getLocal("px"),0,0,u.getLocal("c"))),P.addCode(u.setLocal("c",u.i64_shr_u(u.getLocal("c"),u.i64_const(32)))),P.addCode(u.block(u.loop(u.br_if(1,u.i64_eqz(u.getLocal("c"))),u.setLocal("px",u.i32_add(u.getLocal("px"),u.i32_const(4))),u.setLocal("c",u.i64_add(u.i64_load32_u(u.getLocal("px"),0,0),u.getLocal("c"))),u.i64_store32(u.getLocal("px"),0,0,u.getLocal("c")),u.setLocal("c",u.i64_shr_u(u.getLocal("c"),u.i64_const(32))),u.br(0))))}function S(){v(),F();const P=t.addFunction(a+"_div");P.addParam("x","i32"),P.addParam("y","i32"),P.addParam("c","i32"),P.addParam("r","i32"),P.addLocal("rr","i32"),P.addLocal("cc","i32"),P.addLocal("eX","i32"),P.addLocal("eY","i32"),P.addLocal("sy","i64"),P.addLocal("sx","i64"),P.addLocal("ec","i32");const u=P.getCodeBuilder(),_=u.i32_const(t.alloc(r)),G=u.i32_const(t.alloc(r)),H=u.i32_const(t.alloc(r)),J=u.getLocal("cc"),U=u.getLocal("rr"),E=t.alloc(r*2),M=u.i32_const(E),N=u.i32_const(E+r);P.addCode(u.if(u.getLocal("c"),u.setLocal("cc",u.getLocal("c")),u.setLocal("cc",G))),P.addCode(u.if(u.getLocal("r"),u.setLocal("rr",u.getLocal("r")),u.setLocal("rr",H))),P.addCode(u.call(a+"_copy",u.getLocal("x"),U)),P.addCode(u.call(a+"_copy",u.getLocal("y"),_)),P.addCode(u.call(a+"_zero",J)),P.addCode(u.call(a+"_zero",M)),P.addCode(u.setLocal("eX",u.i32_const(r-1))),P.addCode(u.setLocal("eY",u.i32_const(r-1))),P.addCode(u.block(u.loop(u.br_if(1,u.i32_or(u.i32_load8_u(u.i32_add(_,u.getLocal("eY")),0,0),u.i32_eq(u.getLocal("eY"),u.i32_const(3)))),u.setLocal("eY",u.i32_sub(u.getLocal("eY"),u.i32_const(1))),u.br(0)))),P.addCode(u.setLocal("sy",u.i64_add(u.i64_load32_u(u.i32_sub(u.i32_add(_,u.getLocal("eY")),u.i32_const(3)),0,0),u.i64_const(1)))),P.addCode(u.if(u.i64_eq(u.getLocal("sy"),u.i64_const(1)),u.drop(u.i64_div_u(u.i64_const(0),u.i64_const(0))))),P.addCode(u.block(u.loop(u.block(u.loop(u.br_if(1,u.i32_or(u.i32_load8_u(u.i32_add(U,u.getLocal("eX")),0,0),u.i32_eq(u.getLocal("eX"),u.i32_const(7)))),u.setLocal("eX",u.i32_sub(u.getLocal("eX"),u.i32_const(1))),u.br(0))),u.setLocal("sx",u.i64_load(u.i32_sub(u.i32_add(U,u.getLocal("eX")),u.i32_const(7)),0,0)),u.setLocal("sx",u.i64_div_u(u.getLocal("sx"),u.getLocal("sy"))),u.setLocal("ec",u.i32_sub(u.i32_sub(u.getLocal("eX"),u.getLocal("eY")),u.i32_const(4))),u.block(u.loop(u.br_if(1,u.i32_and(u.i64_eqz(u.i64_and(u.getLocal("sx"),u.i64_const("0xFFFFFFFF00000000"))),u.i32_ge_s(u.getLocal("ec"),u.i32_const(0)))),u.setLocal("sx",u.i64_shr_u(u.getLocal("sx"),u.i64_const(8))),u.setLocal("ec",u.i32_add(u.getLocal("ec"),u.i32_const(1))),u.br(0))),u.if(u.i64_eqz(u.getLocal("sx")),[...u.br_if(2,u.i32_eqz(u.call(a+"_gte",U,_))),...u.setLocal("sx",u.i64_const(1)),...u.setLocal("ec",u.i32_const(0))]),u.call(a+"__mul1",_,u.getLocal("sx"),N),u.drop(u.call(a+"_sub",U,u.i32_sub(N,u.getLocal("ec")),U)),u.call(a+"__add1",u.i32_add(J,u.getLocal("ec")),u.getLocal("sx")),u.br(0))))}function D(){const P=t.addFunction(a+"_inverseMod");P.addParam("px","i32"),P.addParam("pm","i32"),P.addParam("pr","i32"),P.addLocal("t","i32"),P.addLocal("newt","i32"),P.addLocal("r","i32"),P.addLocal("qq","i32"),P.addLocal("qr","i32"),P.addLocal("newr","i32"),P.addLocal("swp","i32"),P.addLocal("x","i32"),P.addLocal("signt","i32"),P.addLocal("signnewt","i32"),P.addLocal("signx","i32");const u=P.getCodeBuilder(),_=u.i32_const(t.alloc(r)),G=u.i32_const(t.alloc(r)),H=u.i32_const(t.alloc(r)),J=u.i32_const(t.alloc(r)),U=u.i32_const(t.alloc(r)),E=u.i32_const(t.alloc(r)),M=u.i32_const(t.alloc(r*2)),N=u.i32_const(t.alloc(r));P.addCode(u.setLocal("t",_),u.call(a+"_zero",_),u.setLocal("signt",u.i32_const(0))),P.addCode(u.setLocal("r",G),u.call(a+"_copy",u.getLocal("pm"),G)),P.addCode(u.setLocal("newt",H),u.call(a+"_one",H),u.setLocal("signnewt",u.i32_const(0))),P.addCode(u.setLocal("newr",J),u.call(a+"_copy",u.getLocal("px"),J)),P.addCode(u.setLocal("qq",U)),P.addCode(u.setLocal("qr",E)),P.addCode(u.setLocal("x",N)),P.addCode(u.block(u.loop(u.br_if(1,u.call(a+"_isZero",u.getLocal("newr"))),u.call(a+"_div",u.getLocal("r"),u.getLocal("newr"),u.getLocal("qq"),u.getLocal("qr")),u.call(a+"_mul",u.getLocal("qq"),u.getLocal("newt"),M),u.if(u.getLocal("signt"),u.if(u.getLocal("signnewt"),u.if(u.call(a+"_gte",M,u.getLocal("t")),[...u.drop(u.call(a+"_sub",M,u.getLocal("t"),u.getLocal("x"))),...u.setLocal("signx",u.i32_const(0))],[...u.drop(u.call(a+"_sub",u.getLocal("t"),M,u.getLocal("x"))),...u.setLocal("signx",u.i32_const(1))]),[...u.drop(u.call(a+"_add",M,u.getLocal("t"),u.getLocal("x"))),...u.setLocal("signx",u.i32_const(1))]),u.if(u.getLocal("signnewt"),[...u.drop(u.call(a+"_add",M,u.getLocal("t"),u.getLocal("x"))),...u.setLocal("signx",u.i32_const(0))],u.if(u.call(a+"_gte",u.getLocal("t"),M),[...u.drop(u.call(a+"_sub",u.getLocal("t"),M,u.getLocal("x"))),...u.setLocal("signx",u.i32_const(0))],[...u.drop(u.call(a+"_sub",M,u.getLocal("t"),u.getLocal("x"))),...u.setLocal("signx",u.i32_const(1))]))),u.setLocal("swp",u.getLocal("t")),u.setLocal("t",u.getLocal("newt")),u.setLocal("newt",u.getLocal("x")),u.setLocal("x",u.getLocal("swp")),u.setLocal("signt",u.getLocal("signnewt")),u.setLocal("signnewt",u.getLocal("signx")),u.setLocal("swp",u.getLocal("r")),u.setLocal("r",u.getLocal("newr")),u.setLocal("newr",u.getLocal("qr")),u.setLocal("qr",u.getLocal("swp")),u.br(0)))),P.addCode(u.if(u.getLocal("signt"),u.drop(u.call(a+"_sub",u.getLocal("pm"),u.getLocal("t"),u.getLocal("pr"))),u.call(a+"_copy",u.getLocal("t"),u.getLocal("pr"))))}return o(),f(),c(),l(),h(),m(),p(),C(),A(),w(),I(),S(),D(),t.exportFunction(a+"_copy"),t.exportFunction(a+"_zero"),t.exportFunction(a+"_one"),t.exportFunction(a+"_isZero"),t.exportFunction(a+"_eq"),t.exportFunction(a+"_gte"),t.exportFunction(a+"_add"),t.exportFunction(a+"_sub"),t.exportFunction(a+"_mul"),t.exportFunction(a+"_square"),t.exportFunction(a+"_squareOld"),t.exportFunction(a+"_div"),t.exportFunction(a+"_inverseMod"),a},O5=function(t,e,n,a,i,r,o){const f=t.addFunction(e);f.addParam("base","i32"),f.addParam("scalar","i32"),f.addParam("scalarLength","i32"),f.addParam("r","i32"),f.addLocal("i","i32"),f.addLocal("b","i32");const l=f.getCodeBuilder(),c=l.i32_const(t.alloc(n));f.addCode(l.if(l.i32_eqz(l.getLocal("scalarLength")),[...l.call(o,l.getLocal("r")),...l.ret([])])),f.addCode(l.call(r,l.getLocal("base"),c)),f.addCode(l.call(o,l.getLocal("r"))),f.addCode(l.setLocal("i",l.getLocal("scalarLength"))),f.addCode(l.block(l.loop(l.setLocal("i",l.i32_sub(l.getLocal("i"),l.i32_const(1))),l.setLocal("b",l.i32_load8_u(l.i32_add(l.getLocal("scalar"),l.getLocal("i")))),...h(),l.br_if(1,l.i32_eqz(l.getLocal("i"))),l.br(0))));function h(){const m=[];for(let p=0;p<8;p++)m.push(...l.call(i,l.getLocal("r"),l.getLocal("r")),...l.if(l.i32_ge_u(l.getLocal("b"),l.i32_const(128>>p)),[...l.setLocal("b",l.i32_sub(l.getLocal("b"),l.i32_const(128>>p))),...l.call(a,l.getLocal("r"),c,l.getLocal("r"))]));return m}},R5=WC;function WC(s,t){const e=s.modules[t].n64*8,n=s.addFunction(t+"_batchInverse");n.addParam("pIn","i32"),n.addParam("inStep","i32"),n.addParam("n","i32"),n.addParam("pOut","i32"),n.addParam("outStep","i32"),n.addLocal("itAux","i32"),n.addLocal("itIn","i32"),n.addLocal("itOut","i32"),n.addLocal("i","i32");const a=n.getCodeBuilder(),i=a.i32_const(s.alloc(e));n.addCode(a.setLocal("itAux",a.i32_load(a.i32_const(0))),a.i32_store(a.i32_const(0),a.i32_add(a.getLocal("itAux"),a.i32_mul(a.i32_add(a.getLocal("n"),a.i32_const(1)),a.i32_const(e))))),n.addCode(a.call(t+"_one",a.getLocal("itAux")),a.setLocal("itIn",a.getLocal("pIn")),a.setLocal("itAux",a.i32_add(a.getLocal("itAux"),a.i32_const(e))),a.setLocal("i",a.i32_const(0)),a.block(a.loop(a.br_if(1,a.i32_eq(a.getLocal("i"),a.getLocal("n"))),a.if(a.call(t+"_isZero",a.getLocal("itIn")),a.call(t+"_copy",a.i32_sub(a.getLocal("itAux"),a.i32_const(e)),a.getLocal("itAux")),a.call(t+"_mul",a.getLocal("itIn"),a.i32_sub(a.getLocal("itAux"),a.i32_const(e)),a.getLocal("itAux"))),a.setLocal("itIn",a.i32_add(a.getLocal("itIn"),a.getLocal("inStep"))),a.setLocal("itAux",a.i32_add(a.getLocal("itAux"),a.i32_const(e))),a.setLocal("i",a.i32_add(a.getLocal("i"),a.i32_const(1))),a.br(0))),a.setLocal("itIn",a.i32_sub(a.getLocal("itIn"),a.getLocal("inStep"))),a.setLocal("itAux",a.i32_sub(a.getLocal("itAux"),a.i32_const(e))),a.setLocal("itOut",a.i32_add(a.getLocal("pOut"),a.i32_mul(a.i32_sub(a.getLocal("n"),a.i32_const(1)),a.getLocal("outStep")))),a.call(t+"_inverse",a.getLocal("itAux"),a.getLocal("itAux")),a.block(a.loop(a.br_if(1,a.i32_eqz(a.getLocal("i"))),a.if(a.call(t+"_isZero",a.getLocal("itIn")),[...a.call(t+"_copy",a.getLocal("itAux"),a.i32_sub(a.getLocal("itAux"),a.i32_const(e))),...a.call(t+"_zero",a.getLocal("itOut"))],[...a.call(t+"_copy",a.i32_sub(a.getLocal("itAux"),a.i32_const(e)),i),...a.call(t+"_mul",a.getLocal("itAux"),a.getLocal("itIn"),a.i32_sub(a.getLocal("itAux"),a.i32_const(e))),...a.call(t+"_mul",a.getLocal("itAux"),i,a.getLocal("itOut"))]),a.setLocal("itIn",a.i32_sub(a.getLocal("itIn"),a.getLocal("inStep"))),a.setLocal("itOut",a.i32_sub(a.getLocal("itOut"),a.getLocal("outStep"))),a.setLocal("itAux",a.i32_sub(a.getLocal("itAux"),a.i32_const(e))),a.setLocal("i",a.i32_sub(a.getLocal("i"),a.i32_const(1))),a.br(0)))),n.addCode(a.i32_store(a.i32_const(0),a.getLocal("itAux")))}var P9=ZC;function ZC(s,t,e,n,a,i){typeof i>"u"&&(n<a?i=!0:i=!1);const r=s.addFunction(t);r.addParam("pIn","i32"),r.addParam("n","i32"),r.addParam("pOut","i32"),r.addLocal("i","i32"),r.addLocal("itIn","i32"),r.addLocal("itOut","i32");const o=r.getCodeBuilder();i?r.addCode(o.setLocal("itIn",o.i32_add(o.getLocal("pIn"),o.i32_mul(o.i32_sub(o.getLocal("n"),o.i32_const(1)),o.i32_const(n)))),o.setLocal("itOut",o.i32_add(o.getLocal("pOut"),o.i32_mul(o.i32_sub(o.getLocal("n"),o.i32_const(1)),o.i32_const(a)))),o.setLocal("i",o.i32_const(0)),o.block(o.loop(o.br_if(1,o.i32_eq(o.getLocal("i"),o.getLocal("n"))),o.call(e,o.getLocal("itIn"),o.getLocal("itOut")),o.setLocal("itIn",o.i32_sub(o.getLocal("itIn"),o.i32_const(n))),o.setLocal("itOut",o.i32_sub(o.getLocal("itOut"),o.i32_const(a))),o.setLocal("i",o.i32_add(o.getLocal("i"),o.i32_const(1))),o.br(0)))):r.addCode(o.setLocal("itIn",o.getLocal("pIn")),o.setLocal("itOut",o.getLocal("pOut")),o.setLocal("i",o.i32_const(0)),o.block(o.loop(o.br_if(1,o.i32_eq(o.getLocal("i"),o.getLocal("n"))),o.call(e,o.getLocal("itIn"),o.getLocal("itOut")),o.setLocal("itIn",o.i32_add(o.getLocal("itIn"),o.i32_const(n))),o.setLocal("itOut",o.i32_add(o.getLocal("itOut"),o.i32_const(a))),o.setLocal("i",o.i32_add(o.getLocal("i"),o.i32_const(1))),o.br(0))))}var XC=YC;function YC(s,t,e,n,a,i){typeof i>"u"&&(n<a?i=!0:i=!1);const r=s.addFunction(t);r.addParam("pIn1","i32"),r.addParam("pIn2","i32"),r.addParam("n","i32"),r.addParam("pOut","i32"),r.addLocal("i","i32"),r.addLocal("itIn1","i32"),r.addLocal("itIn2","i32"),r.addLocal("itOut","i32");const o=r.getCodeBuilder();i?r.addCode(o.setLocal("itIn1",o.i32_add(o.getLocal("pIn1"),o.i32_mul(o.i32_sub(o.getLocal("n"),o.i32_const(1)),o.i32_const(n)))),o.setLocal("itIn2",o.i32_add(o.getLocal("pIn2"),o.i32_mul(o.i32_sub(o.getLocal("n"),o.i32_const(1)),o.i32_const(n)))),o.setLocal("itOut",o.i32_add(o.getLocal("pOut"),o.i32_mul(o.i32_sub(o.getLocal("n"),o.i32_const(1)),o.i32_const(a)))),o.setLocal("i",o.i32_const(0)),o.block(o.loop(o.br_if(1,o.i32_eq(o.getLocal("i"),o.getLocal("n"))),o.call(e,o.getLocal("itIn1"),o.getLocal("itIn2"),o.getLocal("itOut")),o.setLocal("itIn1",o.i32_sub(o.getLocal("itIn1"),o.i32_const(n))),o.setLocal("itIn2",o.i32_sub(o.getLocal("itIn2"),o.i32_const(n))),o.setLocal("itOut",o.i32_sub(o.getLocal("itOut"),o.i32_const(a))),o.setLocal("i",o.i32_add(o.getLocal("i"),o.i32_const(1))),o.br(0)))):r.addCode(o.setLocal("itIn1",o.getLocal("pIn1")),o.setLocal("itIn2",o.getLocal("pIn2")),o.setLocal("itOut",o.getLocal("pOut")),o.setLocal("i",o.i32_const(0)),o.block(o.loop(o.br_if(1,o.i32_eq(o.getLocal("i"),o.getLocal("n"))),o.call(e,o.getLocal("itIn1"),o.getLocal("itIn2"),o.getLocal("itOut")),o.setLocal("itIn1",o.i32_add(o.getLocal("itIn1"),o.i32_const(n))),o.setLocal("itIn2",o.i32_add(o.getLocal("itIn2"),o.i32_const(n))),o.setLocal("itOut",o.i32_add(o.getLocal("itOut"),o.i32_const(a))),o.setLocal("i",o.i32_add(o.getLocal("i"),o.i32_const(1))),o.br(0))))}var en={};function I9(s,t){return s===t?0:s>t?1:-1}function F5(s){return s*s}function T9(s){return s%2n!==0n}function N5(s){return s%2n===0n}function Ld(s){return s<0n}function tv(s){return s>0n}function B9(s){return Ld(s)?s.toString(2).length-1:s.toString(2).length}function Fl(s){return s<0n?-s:s}function Pc(s){return Fl(s)===1n}function S9(s,t){for(var e=0n,n=1n,a=t,i=Fl(s),r,o,f;i!==0n;)r=a/i,o=e,f=a,e=n,a=i,n=o-r*n,i=f-r*i;if(!Pc(a))throw new Error(s.toString()+" and "+t.toString()+" are not co-prime");return I9(e,0n)===-1&&(e=e+t),Ld(s)?-e:e}function O9(s,t,e){if(e===0n)throw new Error("Cannot take modPow with modulus 0");var n=1n,a=s%e;for(Ld(t)&&(t=t*-1n,a=S9(a,e));tv(t);){if(a===0n)return 0n;T9(t)&&(n=n*a%e),t=t/2n,a=F5(a)%e}return n}function ev(s,t){return s=s>=0n?s:-s,t=t>=0n?t:-t,s===t?0:s>t?1:-1}function Q3(s,t){return t===0n?!1:Pc(t)?!0:ev(t,2n)===0?N5(s):s%t===0n}function nv(s){var t=Fl(s);if(Pc(t))return!1;if(t===2n||t===3n||t===5n)return!0;if(N5(t)||Q3(t,3n)||Q3(t,5n))return!1;if(t<49n)return!0}function sv(s){return s-1n}function J3(s,t){for(var e=sv(s),n=e,a=0,i,r,o;N5(n);)n=n/2n,a++;t:for(r=0;r<t.length;r++)if(!(s<t[r])&&(o=O9(BigInt(t[r]),n,s),!(Pc(o)||o===e))){for(i=a-1;i!=0;i--){if(o=F5(o)%s,Pc(o))return!1;if(o===e)continue t}return!1}return!0}function av(s){var t=nv(s);if(t!==void 0)return t;var e=Fl(s),n=B9(e);if(n<=64)return J3(e,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var a=Math.log(2)*Number(n),i=Math.ceil(a),r=[],o=0;o<i;o++)r.push(BigInt(o+2));return J3(e,r)}en.bitLength=B9;en.isOdd=T9;en.isNegative=Ld;en.abs=Fl;en.isUnit=Pc;en.compare=I9;en.modInv=S9;en.modPow=O9;en.isPrime=av;en.square=F5;const iv=JC,Qs=yi,rv=O5,ov=R5,xu=P9,wu=XC,{bitLength:cv,modInv:Lu,modPow:W3,isPrime:Z3,isOdd:lv,square:fv}=en;var k5=function(t,e,n,a){const i=BigInt(e),r=Math.floor((cv(i-1n)-1)/64)+1,o=r*2,f=r*8,l=n||"f1m";if(t.modules[l])return l;const c=iv(t,r,a),h=t.alloc(f,Qs.bigInt2BytesLE(i,f)),m=t.alloc(Qs.bigInt2BytesLE(fv(1n<<BigInt(r*64))%i,f)),p=t.alloc(Qs.bigInt2BytesLE((1n<<BigInt(r*64))%i,f)),C=t.alloc(Qs.bigInt2BytesLE(0n,f)),A=i-1n,w=A>>1n,I=t.alloc(f,Qs.bigInt2BytesLE(w,f)),v=w+1n,F=t.alloc(f,Qs.bigInt2BytesLE(v,f));t.modules[l]={pq:h,pR2:m,n64:r,q:i,pOne:p,pZero:C,pePlusOne:F};function S(){const k=t.addFunction(l+"_one");k.addParam("pr","i32");const x=k.getCodeBuilder();k.addCode(x.call(c+"_copy",x.i32_const(p),x.getLocal("pr")))}function D(){const k=t.addFunction(l+"_add");k.addParam("x","i32"),k.addParam("y","i32"),k.addParam("r","i32");const x=k.getCodeBuilder();k.addCode(x.if(x.call(c+"_add",x.getLocal("x"),x.getLocal("y"),x.getLocal("r")),x.drop(x.call(c+"_sub",x.getLocal("r"),x.i32_const(h),x.getLocal("r"))),x.if(x.call(c+"_gte",x.getLocal("r"),x.i32_const(h)),x.drop(x.call(c+"_sub",x.getLocal("r"),x.i32_const(h),x.getLocal("r"))))))}function P(){const k=t.addFunction(l+"_sub");k.addParam("x","i32"),k.addParam("y","i32"),k.addParam("r","i32");const x=k.getCodeBuilder();k.addCode(x.if(x.call(c+"_sub",x.getLocal("x"),x.getLocal("y"),x.getLocal("r")),x.drop(x.call(c+"_add",x.getLocal("r"),x.i32_const(h),x.getLocal("r")))))}function u(){const k=t.addFunction(l+"_neg");k.addParam("x","i32"),k.addParam("r","i32");const x=k.getCodeBuilder();k.addCode(x.call(l+"_sub",x.i32_const(C),x.getLocal("x"),x.getLocal("r")))}function _(){const k=t.addFunction(l+"_isNegative");k.addParam("x","i32"),k.setReturnType("i32");const x=k.getCodeBuilder(),at=x.i32_const(t.alloc(f));k.addCode(x.call(l+"_fromMontgomery",x.getLocal("x"),at),x.call(c+"_gte",at,x.i32_const(F)))}function G(){const k=t.addFunction(l+"_sign");k.addParam("x","i32"),k.setReturnType("i32");const x=k.getCodeBuilder(),at=x.i32_const(t.alloc(f));k.addCode(x.if(x.call(c+"_isZero",x.getLocal("x")),x.ret(x.i32_const(0))),x.call(l+"_fromMontgomery",x.getLocal("x"),at),x.if(x.call(c+"_gte",at,x.i32_const(F)),x.ret(x.i32_const(-1))),x.ret(x.i32_const(1)))}function H(){const k=t.alloc(o*o*8),x=t.addFunction(l+"_mReduct");x.addParam("t","i32"),x.addParam("r","i32"),x.addLocal("np32","i64"),x.addLocal("c","i64"),x.addLocal("m","i64");const at=x.getCodeBuilder(),yt=Number(0x100000000n-Lu(i,0x100000000n));x.addCode(at.setLocal("np32",at.i64_const(yt)));for(let gt=0;gt<o;gt++){x.addCode(at.setLocal("c",at.i64_const(0))),x.addCode(at.setLocal("m",at.i64_and(at.i64_mul(at.i64_load32_u(at.getLocal("t"),gt*4),at.getLocal("np32")),at.i64_const("0xFFFFFFFF"))));for(let _t=0;_t<o;_t++)x.addCode(at.setLocal("c",at.i64_add(at.i64_add(at.i64_load32_u(at.getLocal("t"),(gt+_t)*4),at.i64_shr_u(at.getLocal("c"),at.i64_const(32))),at.i64_mul(at.i64_load32_u(at.i32_const(h),_t*4),at.getLocal("m"))))),x.addCode(at.i64_store32(at.getLocal("t"),(gt+_t)*4,at.getLocal("c")));x.addCode(at.i64_store32(at.i32_const(k),gt*4,at.i64_shr_u(at.getLocal("c"),at.i64_const(32))))}x.addCode(at.call(l+"_add",at.i32_const(k),at.i32_add(at.getLocal("t"),at.i32_const(o*4)),at.getLocal("r")))}function J(){const k=t.addFunction(l+"_mul");k.addParam("x","i32"),k.addParam("y","i32"),k.addParam("r","i32"),k.addLocal("c0","i64"),k.addLocal("c1","i64"),k.addLocal("np32","i64");for(let vt=0;vt<o;vt++)k.addLocal("x"+vt,"i64"),k.addLocal("y"+vt,"i64"),k.addLocal("m"+vt,"i64"),k.addLocal("q"+vt,"i64");const x=k.getCodeBuilder(),at=Number(0x100000000n-Lu(i,0x100000000n));k.addCode(x.setLocal("np32",x.i64_const(at)));const yt=[],gt=[],_t=[];function Rt(vt,xt){let Nt,Zt;return yt[vt]?Nt=x.getLocal("x"+vt):(Nt=x.teeLocal("x"+vt,x.i64_load32_u(x.getLocal("x"),vt*4)),yt[vt]=!0),gt[xt]?Zt=x.getLocal("y"+xt):(Zt=x.teeLocal("y"+xt,x.i64_load32_u(x.getLocal("y"),xt*4)),gt[xt]=!0),x.i64_mul(Nt,Zt)}function Lt(vt,xt){let Nt,Zt;return _t[vt]?Nt=x.getLocal("q"+vt):(Nt=x.teeLocal("q"+vt,x.i64_load32_u(x.i32_const(0),h+vt*4)),_t[vt]=!0),Zt=x.getLocal("m"+xt),x.i64_mul(Nt,Zt)}let Ot="c0",$t="c1";for(let vt=0;vt<o*2-1;vt++){for(let xt=Math.max(0,vt-o+1);xt<=vt&&xt<o;xt++){const Nt=vt-xt;k.addCode(x.setLocal(Ot,x.i64_add(x.i64_and(x.getLocal(Ot),x.i64_const(4294967295)),Rt(xt,Nt)))),k.addCode(x.setLocal($t,x.i64_add(x.getLocal($t),x.i64_shr_u(x.getLocal(Ot),x.i64_const(32)))))}for(let xt=Math.max(1,vt-o+1);xt<=vt&&xt<o;xt++){const Nt=vt-xt;k.addCode(x.setLocal(Ot,x.i64_add(x.i64_and(x.getLocal(Ot),x.i64_const(4294967295)),Lt(xt,Nt)))),k.addCode(x.setLocal($t,x.i64_add(x.getLocal($t),x.i64_shr_u(x.getLocal(Ot),x.i64_const(32)))))}vt<o&&(k.addCode(x.setLocal("m"+vt,x.i64_and(x.i64_mul(x.i64_and(x.getLocal(Ot),x.i64_const(4294967295)),x.getLocal("np32")),x.i64_const("0xFFFFFFFF")))),k.addCode(x.setLocal(Ot,x.i64_add(x.i64_and(x.getLocal(Ot),x.i64_const(4294967295)),Lt(0,vt)))),k.addCode(x.setLocal($t,x.i64_add(x.getLocal($t),x.i64_shr_u(x.getLocal(Ot),x.i64_const(32)))))),vt>=o&&k.addCode(x.i64_store32(x.getLocal("r"),(vt-o)*4,x.getLocal(Ot))),[Ot,$t]=[$t,Ot],k.addCode(x.setLocal($t,x.i64_shr_u(x.getLocal(Ot),x.i64_const(32))))}k.addCode(x.i64_store32(x.getLocal("r"),o*4-4,x.getLocal(Ot))),k.addCode(x.if(x.i32_wrap_i64(x.getLocal($t)),x.drop(x.call(c+"_sub",x.getLocal("r"),x.i32_const(h),x.getLocal("r"))),x.if(x.call(c+"_gte",x.getLocal("r"),x.i32_const(h)),x.drop(x.call(c+"_sub",x.getLocal("r"),x.i32_const(h),x.getLocal("r"))))))}function U(){const k=t.addFunction(l+"_square");k.addParam("x","i32"),k.addParam("r","i32"),k.addLocal("c0","i64"),k.addLocal("c1","i64"),k.addLocal("c0_old","i64"),k.addLocal("c1_old","i64"),k.addLocal("np32","i64");for(let xt=0;xt<o;xt++)k.addLocal("x"+xt,"i64"),k.addLocal("m"+xt,"i64"),k.addLocal("q"+xt,"i64");const x=k.getCodeBuilder(),at=Number(0x100000000n-Lu(i,0x100000000n));k.addCode(x.setLocal("np32",x.i64_const(at)));const yt=[],gt=[];function _t(xt,Nt){let Zt,Ee;return yt[xt]?Zt=x.getLocal("x"+xt):(Zt=x.teeLocal("x"+xt,x.i64_load32_u(x.getLocal("x"),xt*4)),yt[xt]=!0),yt[Nt]?Ee=x.getLocal("x"+Nt):(Ee=x.teeLocal("x"+Nt,x.i64_load32_u(x.getLocal("x"),Nt*4)),yt[Nt]=!0),x.i64_mul(Zt,Ee)}function Rt(xt,Nt){let Zt,Ee;return gt[xt]?Zt=x.getLocal("q"+xt):(Zt=x.teeLocal("q"+xt,x.i64_load32_u(x.i32_const(0),h+xt*4)),gt[xt]=!0),Ee=x.getLocal("m"+Nt),x.i64_mul(Zt,Ee)}let Lt="c0",Ot="c1",$t="c0_old",vt="c1_old";for(let xt=0;xt<o*2-1;xt++){k.addCode(x.setLocal(Lt,x.i64_const(0)),x.setLocal(Ot,x.i64_const(0)));for(let Nt=Math.max(0,xt-o+1);Nt<xt+1>>1&&Nt<o;Nt++){const Zt=xt-Nt;k.addCode(x.setLocal(Lt,x.i64_add(x.i64_and(x.getLocal(Lt),x.i64_const(4294967295)),_t(Nt,Zt)))),k.addCode(x.setLocal(Ot,x.i64_add(x.getLocal(Ot),x.i64_shr_u(x.getLocal(Lt),x.i64_const(32)))))}k.addCode(x.setLocal(Lt,x.i64_shl(x.i64_and(x.getLocal(Lt),x.i64_const(4294967295)),x.i64_const(1)))),k.addCode(x.setLocal(Ot,x.i64_add(x.i64_shl(x.getLocal(Ot),x.i64_const(1)),x.i64_shr_u(x.getLocal(Lt),x.i64_const(32))))),xt%2==0&&(k.addCode(x.setLocal(Lt,x.i64_add(x.i64_and(x.getLocal(Lt),x.i64_const(4294967295)),_t(xt>>1,xt>>1)))),k.addCode(x.setLocal(Ot,x.i64_add(x.getLocal(Ot),x.i64_shr_u(x.getLocal(Lt),x.i64_const(32)))))),xt>0&&(k.addCode(x.setLocal(Lt,x.i64_add(x.i64_and(x.getLocal(Lt),x.i64_const(4294967295)),x.i64_and(x.getLocal($t),x.i64_const(4294967295))))),k.addCode(x.setLocal(Ot,x.i64_add(x.i64_add(x.getLocal(Ot),x.i64_shr_u(x.getLocal(Lt),x.i64_const(32))),x.getLocal(vt)))));for(let Nt=Math.max(1,xt-o+1);Nt<=xt&&Nt<o;Nt++){const Zt=xt-Nt;k.addCode(x.setLocal(Lt,x.i64_add(x.i64_and(x.getLocal(Lt),x.i64_const(4294967295)),Rt(Nt,Zt)))),k.addCode(x.setLocal(Ot,x.i64_add(x.getLocal(Ot),x.i64_shr_u(x.getLocal(Lt),x.i64_const(32)))))}xt<o&&(k.addCode(x.setLocal("m"+xt,x.i64_and(x.i64_mul(x.i64_and(x.getLocal(Lt),x.i64_const(4294967295)),x.getLocal("np32")),x.i64_const("0xFFFFFFFF")))),k.addCode(x.setLocal(Lt,x.i64_add(x.i64_and(x.getLocal(Lt),x.i64_const(4294967295)),Rt(0,xt)))),k.addCode(x.setLocal(Ot,x.i64_add(x.getLocal(Ot),x.i64_shr_u(x.getLocal(Lt),x.i64_const(32)))))),xt>=o&&k.addCode(x.i64_store32(x.getLocal("r"),(xt-o)*4,x.getLocal(Lt))),k.addCode(x.setLocal($t,x.getLocal(Ot)),x.setLocal(vt,x.i64_shr_u(x.getLocal($t),x.i64_const(32))))}k.addCode(x.i64_store32(x.getLocal("r"),o*4-4,x.getLocal($t))),k.addCode(x.if(x.i32_wrap_i64(x.getLocal(vt)),x.drop(x.call(c+"_sub",x.getLocal("r"),x.i32_const(h),x.getLocal("r"))),x.if(x.call(c+"_gte",x.getLocal("r"),x.i32_const(h)),x.drop(x.call(c+"_sub",x.getLocal("r"),x.i32_const(h),x.getLocal("r"))))))}function E(){const k=t.addFunction(l+"_squareOld");k.addParam("x","i32"),k.addParam("r","i32");const x=k.getCodeBuilder();k.addCode(x.call(l+"_mul",x.getLocal("x"),x.getLocal("x"),x.getLocal("r")))}function M(){const k=t.addFunction(l+"_toMontgomery");k.addParam("x","i32"),k.addParam("r","i32");const x=k.getCodeBuilder();k.addCode(x.call(l+"_mul",x.getLocal("x"),x.i32_const(m),x.getLocal("r")))}function N(){const k=t.alloc(f*2),x=t.addFunction(l+"_fromMontgomery");x.addParam("x","i32"),x.addParam("r","i32");const at=x.getCodeBuilder();x.addCode(at.call(c+"_copy",at.getLocal("x"),at.i32_const(k))),x.addCode(at.call(c+"_zero",at.i32_const(k+f))),x.addCode(at.call(l+"_mReduct",at.i32_const(k),at.getLocal("r")))}function $(){const k=t.addFunction(l+"_inverse");k.addParam("x","i32"),k.addParam("r","i32");const x=k.getCodeBuilder();k.addCode(x.call(l+"_fromMontgomery",x.getLocal("x"),x.getLocal("r"))),k.addCode(x.call(c+"_inverseMod",x.getLocal("r"),x.i32_const(h),x.getLocal("r"))),k.addCode(x.call(l+"_toMontgomery",x.getLocal("r"),x.getLocal("r")))}let X=2n;if(Z3(i))for(;W3(X,w,i)!==A;)X=X+1n;let K=0,ot=A;for(;!lv(ot)&&ot!==0n;)K++,ot=ot>>1n;const tt=t.alloc(f,Qs.bigInt2BytesLE(ot,f)),lt=W3(X,ot,i),Tt=t.alloc(Qs.bigInt2BytesLE((lt<<BigInt(r*64))%i,f)),Bt=ot+1n>>1n,Et=t.alloc(f,Qs.bigInt2BytesLE(Bt,f));function R(){const k=t.addFunction(l+"_sqrt");k.addParam("n","i32"),k.addParam("r","i32"),k.addLocal("m","i32"),k.addLocal("i","i32"),k.addLocal("j","i32");const x=k.getCodeBuilder(),at=x.i32_const(p),yt=x.i32_const(t.alloc(f)),gt=x.i32_const(t.alloc(f)),_t=x.i32_const(t.alloc(f)),Rt=x.i32_const(t.alloc(f)),Lt=x.i32_const(t.alloc(f));k.addCode(x.if(x.call(l+"_isZero",x.getLocal("n")),x.ret(x.call(l+"_zero",x.getLocal("r")))),x.setLocal("m",x.i32_const(K)),x.call(l+"_copy",x.i32_const(Tt),yt),x.call(l+"_exp",x.getLocal("n"),x.i32_const(tt),x.i32_const(f),gt),x.call(l+"_exp",x.getLocal("n"),x.i32_const(Et),x.i32_const(f),_t),x.block(x.loop(x.br_if(1,x.call(l+"_eq",gt,at)),x.call(l+"_square",gt,Rt),x.setLocal("i",x.i32_const(1)),x.block(x.loop(x.br_if(1,x.call(l+"_eq",Rt,at)),x.call(l+"_square",Rt,Rt),x.setLocal("i",x.i32_add(x.getLocal("i"),x.i32_const(1))),x.br(0))),x.call(l+"_copy",yt,Lt),x.setLocal("j",x.i32_sub(x.i32_sub(x.getLocal("m"),x.getLocal("i")),x.i32_const(1))),x.block(x.loop(x.br_if(1,x.i32_eqz(x.getLocal("j"))),x.call(l+"_square",Lt,Lt),x.setLocal("j",x.i32_sub(x.getLocal("j"),x.i32_const(1))),x.br(0))),x.setLocal("m",x.getLocal("i")),x.call(l+"_square",Lt,yt),x.call(l+"_mul",gt,yt,gt),x.call(l+"_mul",_t,Lt,_t),x.br(0))),x.if(x.call(l+"_isNegative",_t),x.call(l+"_neg",_t,x.getLocal("r")),x.call(l+"_copy",_t,x.getLocal("r"))))}function d(){const k=t.addFunction(l+"_isSquare");k.addParam("n","i32"),k.setReturnType("i32");const x=k.getCodeBuilder(),at=x.i32_const(p),yt=x.i32_const(t.alloc(f));k.addCode(x.if(x.call(l+"_isZero",x.getLocal("n")),x.ret(x.i32_const(1))),x.call(l+"_exp",x.getLocal("n"),x.i32_const(I),x.i32_const(f),yt),x.call(l+"_eq",yt,at))}function B(){const k=t.addFunction(l+"_load");k.addParam("scalar","i32"),k.addParam("scalarLen","i32"),k.addParam("r","i32"),k.addLocal("p","i32"),k.addLocal("l","i32"),k.addLocal("i","i32"),k.addLocal("j","i32");const x=k.getCodeBuilder(),at=x.i32_const(t.alloc(f)),yt=t.alloc(f),gt=x.i32_const(yt);k.addCode(x.call(c+"_zero",x.getLocal("r")),x.setLocal("i",x.i32_const(f)),x.setLocal("p",x.getLocal("scalar")),x.block(x.loop(x.br_if(1,x.i32_gt_u(x.getLocal("i"),x.getLocal("scalarLen"))),x.if(x.i32_eq(x.getLocal("i"),x.i32_const(f)),x.call(l+"_one",at),x.call(l+"_mul",at,x.i32_const(m),at)),x.call(l+"_mul",x.getLocal("p"),at,gt),x.call(l+"_add",x.getLocal("r"),gt,x.getLocal("r")),x.setLocal("p",x.i32_add(x.getLocal("p"),x.i32_const(f))),x.setLocal("i",x.i32_add(x.getLocal("i"),x.i32_const(f))),x.br(0))),x.setLocal("l",x.i32_rem_u(x.getLocal("scalarLen"),x.i32_const(f))),x.if(x.i32_eqz(x.getLocal("l")),x.ret([])),x.call(c+"_zero",gt),x.setLocal("j",x.i32_const(0)),x.block(x.loop(x.br_if(1,x.i32_eq(x.getLocal("j"),x.getLocal("l"))),x.i32_store8(x.getLocal("j"),yt,x.i32_load8_u(x.getLocal("p"))),x.setLocal("p",x.i32_add(x.getLocal("p"),x.i32_const(1))),x.setLocal("j",x.i32_add(x.getLocal("j"),x.i32_const(1))),x.br(0))),x.if(x.i32_eq(x.getLocal("i"),x.i32_const(f)),x.call(l+"_one",at),x.call(l+"_mul",at,x.i32_const(m),at)),x.call(l+"_mul",gt,at,gt),x.call(l+"_add",x.getLocal("r"),gt,x.getLocal("r")))}function b(){const k=t.addFunction(l+"_timesScalar");k.addParam("x","i32"),k.addParam("scalar","i32"),k.addParam("scalarLen","i32"),k.addParam("r","i32");const x=k.getCodeBuilder(),at=x.i32_const(t.alloc(f));k.addCode(x.call(l+"_load",x.getLocal("scalar"),x.getLocal("scalarLen"),at),x.call(l+"_toMontgomery",at,at),x.call(l+"_mul",x.getLocal("x"),at,x.getLocal("r")))}function Z(){const k=t.addFunction(l+"_isOne");k.addParam("x","i32"),k.setReturnType("i32");const x=k.getCodeBuilder();k.addCode(x.ret(x.call(c+"_eq",x.getLocal("x"),x.i32_const(p))))}return t.exportFunction(c+"_copy",l+"_copy"),t.exportFunction(c+"_zero",l+"_zero"),t.exportFunction(c+"_isZero",l+"_isZero"),t.exportFunction(c+"_eq",l+"_eq"),Z(),D(),P(),u(),H(),J(),U(),E(),M(),N(),_(),G(),$(),S(),B(),b(),ov(t,l),xu(t,l+"_batchToMontgomery",l+"_toMontgomery",f,f),xu(t,l+"_batchFromMontgomery",l+"_fromMontgomery",f,f),xu(t,l+"_batchNeg",l+"_neg",f,f),wu(t,l+"_batchAdd",l+"_add",f,f),wu(t,l+"_batchSub",l+"_sub",f,f),wu(t,l+"_batchMul",l+"_mul",f,f),t.exportFunction(l+"_add"),t.exportFunction(l+"_sub"),t.exportFunction(l+"_neg"),t.exportFunction(l+"_isNegative"),t.exportFunction(l+"_isOne"),t.exportFunction(l+"_sign"),t.exportFunction(l+"_mReduct"),t.exportFunction(l+"_mul"),t.exportFunction(l+"_square"),t.exportFunction(l+"_squareOld"),t.exportFunction(l+"_fromMontgomery"),t.exportFunction(l+"_toMontgomery"),t.exportFunction(l+"_inverse"),t.exportFunction(l+"_one"),t.exportFunction(l+"_load"),t.exportFunction(l+"_timesScalar"),rv(t,l+"_exp",f,l+"_mul",l+"_square",c+"_copy",l+"_one"),t.exportFunction(l+"_exp"),t.exportFunction(l+"_batchInverse"),Z3(i)&&(R(),d(),t.exportFunction(l+"_sqrt"),t.exportFunction(l+"_isSquare")),t.exportFunction(l+"_batchToMontgomery"),t.exportFunction(l+"_batchFromMontgomery"),l};const dv=k5,{bitLength:uv}=en;var R9=function(t,e,n,a,i){const r=BigInt(e),o=Math.floor((uv(r-1n)-1)/64)+1,f=o*8,l=n||"f1";if(t.modules[l])return l;t.modules[l]={n64:o};const c=i||"int",h=dv(t,r,a,c),m=t.modules[h].pR2,p=t.modules[h].pq,C=t.modules[h].pePlusOne;function A(){const F=t.alloc(f),S=t.addFunction(l+"_mul");S.addParam("x","i32"),S.addParam("y","i32"),S.addParam("r","i32");const D=S.getCodeBuilder();S.addCode(D.call(h+"_mul",D.getLocal("x"),D.getLocal("y"),D.i32_const(F))),S.addCode(D.call(h+"_mul",D.i32_const(F),D.i32_const(m),D.getLocal("r")))}function w(){const F=t.addFunction(l+"_square");F.addParam("x","i32"),F.addParam("r","i32");const S=F.getCodeBuilder();F.addCode(S.call(l+"_mul",S.getLocal("x"),S.getLocal("x"),S.getLocal("r")))}function I(){const F=t.addFunction(l+"_inverse");F.addParam("x","i32"),F.addParam("r","i32");const S=F.getCodeBuilder();F.addCode(S.call(c+"_inverseMod",S.getLocal("x"),S.i32_const(p),S.getLocal("r")))}function v(){const F=t.addFunction(l+"_isNegative");F.addParam("x","i32"),F.setReturnType("i32");const S=F.getCodeBuilder();F.addCode(S.call(c+"_gte",S.getLocal("x"),S.i32_const(C)))}return A(),w(),I(),v(),t.exportFunction(h+"_add",l+"_add"),t.exportFunction(h+"_sub",l+"_sub"),t.exportFunction(h+"_neg",l+"_neg"),t.exportFunction(l+"_mul"),t.exportFunction(l+"_square"),t.exportFunction(l+"_inverse"),t.exportFunction(l+"_isNegative"),t.exportFunction(h+"_copy",l+"_copy"),t.exportFunction(h+"_zero",l+"_zero"),t.exportFunction(h+"_one",l+"_one"),t.exportFunction(h+"_isZero",l+"_isZero"),t.exportFunction(h+"_eq",l+"_eq"),l};const hv=O5,bv=R5,Au=yi;var F9=function(t,e,n,a){if(t.modules[n])return n;const i=t.modules[a].n64*8,r=t.modules[a].q;t.modules[n]={n64:t.modules[a].n64*2};function o(){const U=t.addFunction(n+"_add");U.addParam("x","i32"),U.addParam("y","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("y"),X=E.i32_add(E.getLocal("y"),E.i32_const(i)),K=E.getLocal("r"),ot=E.i32_add(E.getLocal("r"),E.i32_const(i));U.addCode(E.call(a+"_add",M,$,K),E.call(a+"_add",N,X,ot))}function f(){const U=t.addFunction(n+"_timesScalar");U.addParam("x","i32"),U.addParam("scalar","i32"),U.addParam("scalarLen","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("r"),X=E.i32_add(E.getLocal("r"),E.i32_const(i));U.addCode(E.call(a+"_timesScalar",M,E.getLocal("scalar"),E.getLocal("scalarLen"),$),E.call(a+"_timesScalar",N,E.getLocal("scalar"),E.getLocal("scalarLen"),X))}function l(){const U=t.addFunction(n+"_sub");U.addParam("x","i32"),U.addParam("y","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("y"),X=E.i32_add(E.getLocal("y"),E.i32_const(i)),K=E.getLocal("r"),ot=E.i32_add(E.getLocal("r"),E.i32_const(i));U.addCode(E.call(a+"_sub",M,$,K),E.call(a+"_sub",N,X,ot))}function c(){const U=t.addFunction(n+"_neg");U.addParam("x","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("r"),X=E.i32_add(E.getLocal("r"),E.i32_const(i));U.addCode(E.call(a+"_neg",M,$),E.call(a+"_neg",N,X))}function h(){const U=t.addFunction(n+"_conjugate");U.addParam("x","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("r"),X=E.i32_add(E.getLocal("r"),E.i32_const(i));U.addCode(E.call(a+"_copy",M,$),E.call(a+"_neg",N,X))}function m(){const U=t.addFunction(n+"_isNegative");U.addParam("x","i32"),U.setReturnType("i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i));U.addCode(E.if(E.call(a+"_isZero",N),E.ret(E.call(a+"_isNegative",M))),E.ret(E.call(a+"_isNegative",N)))}function p(){const U=t.addFunction(n+"_mul");U.addParam("x","i32"),U.addParam("y","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("y"),X=E.i32_add(E.getLocal("y"),E.i32_const(i)),K=E.getLocal("r"),ot=E.i32_add(E.getLocal("r"),E.i32_const(i)),tt=E.i32_const(t.alloc(i)),lt=E.i32_const(t.alloc(i)),Tt=E.i32_const(t.alloc(i)),Bt=E.i32_const(t.alloc(i));U.addCode(E.call(a+"_mul",M,$,tt),E.call(a+"_mul",N,X,lt),E.call(a+"_add",M,N,Tt),E.call(a+"_add",$,X,Bt),E.call(a+"_mul",Tt,Bt,Tt),E.call(e,lt,K),E.call(a+"_add",tt,K,K),E.call(a+"_add",tt,lt,ot),E.call(a+"_sub",Tt,ot,ot))}function C(){const U=t.addFunction(n+"_mul1");U.addParam("x","i32"),U.addParam("y","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("y"),X=E.getLocal("r"),K=E.i32_add(E.getLocal("r"),E.i32_const(i));U.addCode(E.call(a+"_mul",M,$,X),E.call(a+"_mul",N,$,K))}function A(){const U=t.addFunction(n+"_square");U.addParam("x","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("r"),X=E.i32_add(E.getLocal("r"),E.i32_const(i)),K=E.i32_const(t.alloc(i)),ot=E.i32_const(t.alloc(i)),tt=E.i32_const(t.alloc(i)),lt=E.i32_const(t.alloc(i));U.addCode(E.call(a+"_mul",M,N,K),E.call(a+"_add",M,N,ot),E.call(e,N,tt),E.call(a+"_add",M,tt,tt),E.call(e,K,lt),E.call(a+"_add",lt,K,lt),E.call(a+"_mul",ot,tt,$),E.call(a+"_sub",$,lt,$),E.call(a+"_add",K,K,X))}function w(){const U=t.addFunction(n+"_toMontgomery");U.addParam("x","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("r"),X=E.i32_add(E.getLocal("r"),E.i32_const(i));U.addCode(E.call(a+"_toMontgomery",M,$),E.call(a+"_toMontgomery",N,X))}function I(){const U=t.addFunction(n+"_fromMontgomery");U.addParam("x","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("r"),X=E.i32_add(E.getLocal("r"),E.i32_const(i));U.addCode(E.call(a+"_fromMontgomery",M,$),E.call(a+"_fromMontgomery",N,X))}function v(){const U=t.addFunction(n+"_copy");U.addParam("x","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("r"),X=E.i32_add(E.getLocal("r"),E.i32_const(i));U.addCode(E.call(a+"_copy",M,$),E.call(a+"_copy",N,X))}function F(){const U=t.addFunction(n+"_zero");U.addParam("x","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i));U.addCode(E.call(a+"_zero",M),E.call(a+"_zero",N))}function S(){const U=t.addFunction(n+"_one");U.addParam("x","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i));U.addCode(E.call(a+"_one",M),E.call(a+"_zero",N))}function D(){const U=t.addFunction(n+"_eq");U.addParam("x","i32"),U.addParam("y","i32"),U.setReturnType("i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("y"),X=E.i32_add(E.getLocal("y"),E.i32_const(i));U.addCode(E.i32_and(E.call(a+"_eq",M,$),E.call(a+"_eq",N,X)))}function P(){const U=t.addFunction(n+"_isZero");U.addParam("x","i32"),U.setReturnType("i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i));U.addCode(E.i32_and(E.call(a+"_isZero",M),E.call(a+"_isZero",N)))}function u(){const U=t.addFunction(n+"_inverse");U.addParam("x","i32"),U.addParam("r","i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i)),$=E.getLocal("r"),X=E.i32_add(E.getLocal("r"),E.i32_const(i)),K=E.i32_const(t.alloc(i)),ot=E.i32_const(t.alloc(i)),tt=E.i32_const(t.alloc(i)),lt=E.i32_const(t.alloc(i));U.addCode(E.call(a+"_square",M,K),E.call(a+"_square",N,ot),E.call(e,ot,tt),E.call(a+"_sub",K,tt,tt),E.call(a+"_inverse",tt,lt),E.call(a+"_mul",M,lt,$),E.call(a+"_mul",N,lt,X),E.call(a+"_neg",X,X))}function _(){const U=t.addFunction(n+"_sign");U.addParam("x","i32"),U.addLocal("s","i32"),U.setReturnType("i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i));U.addCode(E.setLocal("s",E.call(a+"_sign",N)),E.if(E.getLocal("s"),E.ret(E.getLocal("s"))),E.ret(E.call(a+"_sign",M)))}function G(){const U=t.addFunction(n+"_isOne");U.addParam("x","i32"),U.setReturnType("i32");const E=U.getCodeBuilder(),M=E.getLocal("x"),N=E.i32_add(E.getLocal("x"),E.i32_const(i));U.addCode(E.ret(E.i32_and(E.call(a+"_isOne",M),E.call(a+"_isZero",N))))}function H(){const U=t.addFunction(n+"_sqrt");U.addParam("a","i32"),U.addParam("pr","i32");const E=U.getCodeBuilder(),M=E.i32_const(t.alloc(Au.bigInt2BytesLE((BigInt(r||0)-3n)/4n,i))),N=E.i32_const(t.alloc(Au.bigInt2BytesLE((BigInt(r||0)-1n)/2n,i))),$=E.getLocal("a"),X=E.i32_const(t.alloc(i*2)),K=E.i32_const(t.alloc(i*2)),ot=E.i32_const(t.alloc(i*2)),tt=t.alloc(i*2),lt=E.i32_const(tt),Tt=E.i32_const(tt),Bt=E.i32_const(tt+i),Et=E.i32_const(t.alloc(i*2)),R=E.i32_const(t.alloc(i*2));U.addCode(E.call(n+"_one",lt),E.call(n+"_neg",lt,lt),E.call(n+"_exp",$,M,E.i32_const(i),X),E.call(n+"_square",X,K),E.call(n+"_mul",$,K,K),E.call(n+"_conjugate",K,ot),E.call(n+"_mul",ot,K,ot),E.if(E.call(n+"_eq",ot,lt),E.unreachable()),E.call(n+"_mul",X,$,Et),E.if(E.call(n+"_eq",K,lt),[...E.call(a+"_zero",Tt),...E.call(a+"_one",Bt),...E.call(n+"_mul",lt,Et,E.getLocal("pr"))],[...E.call(n+"_one",R),...E.call(n+"_add",R,K,R),...E.call(n+"_exp",R,N,E.i32_const(i),R),...E.call(n+"_mul",R,Et,E.getLocal("pr"))]))}function J(){const U=t.addFunction(n+"_isSquare");U.addParam("a","i32"),U.setReturnType("i32");const E=U.getCodeBuilder(),M=E.i32_const(t.alloc(Au.bigInt2BytesLE((BigInt(r||0)-3n)/4n,i))),N=E.getLocal("a"),$=E.i32_const(t.alloc(i*2)),X=E.i32_const(t.alloc(i*2)),K=E.i32_const(t.alloc(i*2)),ot=t.alloc(i*2),tt=E.i32_const(ot);U.addCode(E.call(n+"_one",tt),E.call(n+"_neg",tt,tt),E.call(n+"_exp",N,M,E.i32_const(i),$),E.call(n+"_square",$,X),E.call(n+"_mul",N,X,X),E.call(n+"_conjugate",X,K),E.call(n+"_mul",K,X,K),E.if(E.call(n+"_eq",K,tt),E.ret(E.i32_const(0))),E.ret(E.i32_const(1)))}return P(),G(),F(),S(),v(),p(),C(),A(),o(),l(),c(),h(),w(),I(),D(),u(),f(),_(),m(),t.exportFunction(n+"_isZero"),t.exportFunction(n+"_isOne"),t.exportFunction(n+"_zero"),t.exportFunction(n+"_one"),t.exportFunction(n+"_copy"),t.exportFunction(n+"_mul"),t.exportFunction(n+"_mul1"),t.exportFunction(n+"_square"),t.exportFunction(n+"_add"),t.exportFunction(n+"_sub"),t.exportFunction(n+"_neg"),t.exportFunction(n+"_sign"),t.exportFunction(n+"_conjugate"),t.exportFunction(n+"_fromMontgomery"),t.exportFunction(n+"_toMontgomery"),t.exportFunction(n+"_eq"),t.exportFunction(n+"_inverse"),bv(t,n),hv(t,n+"_exp",i*2,n+"_mul",n+"_square",n+"_copy",n+"_one"),H(),J(),t.exportFunction(n+"_exp"),t.exportFunction(n+"_timesScalar"),t.exportFunction(n+"_batchInverse"),t.exportFunction(n+"_sqrt"),t.exportFunction(n+"_isSquare"),t.exportFunction(n+"_isNegative"),n};const pv=O5,gv=R5;var N9=function(t,e,n,a){if(t.modules[n])return n;const i=t.modules[a].n64*8;t.modules[n]={n64:t.modules[a].n64*3};function r(){const u=t.addFunction(n+"_add");u.addParam("x","i32"),u.addParam("y","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("y"),E=_.i32_add(_.getLocal("y"),_.i32_const(i)),M=_.i32_add(_.getLocal("y"),_.i32_const(2*i)),N=_.getLocal("r"),$=_.i32_add(_.getLocal("r"),_.i32_const(i)),X=_.i32_add(_.getLocal("r"),_.i32_const(2*i));u.addCode(_.call(a+"_add",G,U,N),_.call(a+"_add",H,E,$),_.call(a+"_add",J,M,X))}function o(){const u=t.addFunction(n+"_timesScalar");u.addParam("x","i32"),u.addParam("scalar","i32"),u.addParam("scalarLen","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("r"),E=_.i32_add(_.getLocal("r"),_.i32_const(i)),M=_.i32_add(_.getLocal("r"),_.i32_const(2*i));u.addCode(_.call(a+"_timesScalar",G,_.getLocal("scalar"),_.getLocal("scalarLen"),U),_.call(a+"_timesScalar",H,_.getLocal("scalar"),_.getLocal("scalarLen"),E),_.call(a+"_timesScalar",J,_.getLocal("scalar"),_.getLocal("scalarLen"),M))}function f(){const u=t.addFunction(n+"_sub");u.addParam("x","i32"),u.addParam("y","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("y"),E=_.i32_add(_.getLocal("y"),_.i32_const(i)),M=_.i32_add(_.getLocal("y"),_.i32_const(2*i)),N=_.getLocal("r"),$=_.i32_add(_.getLocal("r"),_.i32_const(i)),X=_.i32_add(_.getLocal("r"),_.i32_const(2*i));u.addCode(_.call(a+"_sub",G,U,N),_.call(a+"_sub",H,E,$),_.call(a+"_sub",J,M,X))}function l(){const u=t.addFunction(n+"_neg");u.addParam("x","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("r"),E=_.i32_add(_.getLocal("r"),_.i32_const(i)),M=_.i32_add(_.getLocal("r"),_.i32_const(2*i));u.addCode(_.call(a+"_neg",G,U),_.call(a+"_neg",H,E),_.call(a+"_neg",J,M))}function c(){const u=t.addFunction(n+"_isNegative");u.addParam("x","i32"),u.setReturnType("i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i));u.addCode(_.if(_.call(a+"_isZero",J),_.if(_.call(a+"_isZero",H),_.ret(_.call(a+"_isNegative",G)),_.ret(_.call(a+"_isNegative",H)))),_.ret(_.call(a+"_isNegative",J)))}function h(){const u=t.addFunction(n+"_mul");u.addParam("x","i32"),u.addParam("y","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("y"),E=_.i32_add(_.getLocal("y"),_.i32_const(i)),M=_.i32_add(_.getLocal("y"),_.i32_const(2*i)),N=_.getLocal("r"),$=_.i32_add(_.getLocal("r"),_.i32_const(i)),X=_.i32_add(_.getLocal("r"),_.i32_const(2*i)),K=_.i32_const(t.alloc(i)),ot=_.i32_const(t.alloc(i)),tt=_.i32_const(t.alloc(i)),lt=_.i32_const(t.alloc(i)),Tt=_.i32_const(t.alloc(i)),Bt=_.i32_const(t.alloc(i)),Et=_.i32_const(t.alloc(i)),R=_.i32_const(t.alloc(i)),d=_.i32_const(t.alloc(i)),B=_.i32_const(t.alloc(i)),b=_.i32_const(t.alloc(i)),Z=_.i32_const(t.alloc(i)),k=_.i32_const(t.alloc(i));u.addCode(_.call(a+"_mul",G,U,K),_.call(a+"_mul",H,E,ot),_.call(a+"_mul",J,M,tt),_.call(a+"_add",G,H,lt),_.call(a+"_add",U,E,Tt),_.call(a+"_add",G,J,Bt),_.call(a+"_add",U,M,Et),_.call(a+"_add",H,J,R),_.call(a+"_add",E,M,d),_.call(a+"_add",K,ot,B),_.call(a+"_add",K,tt,b),_.call(a+"_add",ot,tt,Z),_.call(a+"_mul",R,d,N),_.call(a+"_sub",N,Z,N),_.call(e,N,N),_.call(a+"_add",K,N,N),_.call(a+"_mul",lt,Tt,$),_.call(a+"_sub",$,B,$),_.call(e,tt,k),_.call(a+"_add",$,k,$),_.call(a+"_mul",Bt,Et,X),_.call(a+"_sub",X,b,X),_.call(a+"_add",X,ot,X))}function m(){const u=t.addFunction(n+"_square");u.addParam("x","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("r"),E=_.i32_add(_.getLocal("r"),_.i32_const(i)),M=_.i32_add(_.getLocal("r"),_.i32_const(2*i)),N=_.i32_const(t.alloc(i)),$=_.i32_const(t.alloc(i)),X=_.i32_const(t.alloc(i)),K=_.i32_const(t.alloc(i)),ot=_.i32_const(t.alloc(i)),tt=_.i32_const(t.alloc(i)),lt=_.i32_const(t.alloc(i));u.addCode(_.call(a+"_square",G,N),_.call(a+"_mul",G,H,$),_.call(a+"_add",$,$,X),_.call(a+"_sub",G,H,K),_.call(a+"_add",K,J,K),_.call(a+"_square",K,K),_.call(a+"_mul",H,J,ot),_.call(a+"_add",ot,ot,tt),_.call(a+"_square",J,lt),_.call(e,tt,U),_.call(a+"_add",N,U,U),_.call(e,lt,E),_.call(a+"_add",X,E,E),_.call(a+"_add",N,lt,M),_.call(a+"_sub",tt,M,M),_.call(a+"_add",K,M,M),_.call(a+"_add",X,M,M))}function p(){const u=t.addFunction(n+"_toMontgomery");u.addParam("x","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("r"),E=_.i32_add(_.getLocal("r"),_.i32_const(i)),M=_.i32_add(_.getLocal("r"),_.i32_const(2*i));u.addCode(_.call(a+"_toMontgomery",G,U),_.call(a+"_toMontgomery",H,E),_.call(a+"_toMontgomery",J,M))}function C(){const u=t.addFunction(n+"_fromMontgomery");u.addParam("x","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("r"),E=_.i32_add(_.getLocal("r"),_.i32_const(i)),M=_.i32_add(_.getLocal("r"),_.i32_const(2*i));u.addCode(_.call(a+"_fromMontgomery",G,U),_.call(a+"_fromMontgomery",H,E),_.call(a+"_fromMontgomery",J,M))}function A(){const u=t.addFunction(n+"_copy");u.addParam("x","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("r"),E=_.i32_add(_.getLocal("r"),_.i32_const(i)),M=_.i32_add(_.getLocal("r"),_.i32_const(2*i));u.addCode(_.call(a+"_copy",G,U),_.call(a+"_copy",H,E),_.call(a+"_copy",J,M))}function w(){const u=t.addFunction(n+"_zero");u.addParam("x","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i));u.addCode(_.call(a+"_zero",G),_.call(a+"_zero",H),_.call(a+"_zero",J))}function I(){const u=t.addFunction(n+"_one");u.addParam("x","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i));u.addCode(_.call(a+"_one",G),_.call(a+"_zero",H),_.call(a+"_zero",J))}function v(){const u=t.addFunction(n+"_eq");u.addParam("x","i32"),u.addParam("y","i32"),u.setReturnType("i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("y"),E=_.i32_add(_.getLocal("y"),_.i32_const(i)),M=_.i32_add(_.getLocal("y"),_.i32_const(2*i));u.addCode(_.i32_and(_.i32_and(_.call(a+"_eq",G,U),_.call(a+"_eq",H,E)),_.call(a+"_eq",J,M)))}function F(){const u=t.addFunction(n+"_isZero");u.addParam("x","i32"),u.setReturnType("i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i));u.addCode(_.i32_and(_.i32_and(_.call(a+"_isZero",G),_.call(a+"_isZero",H)),_.call(a+"_isZero",J)))}function S(){const u=t.addFunction(n+"_inverse");u.addParam("x","i32"),u.addParam("r","i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i)),U=_.getLocal("r"),E=_.i32_add(_.getLocal("r"),_.i32_const(i)),M=_.i32_add(_.getLocal("r"),_.i32_const(2*i)),N=_.i32_const(t.alloc(i)),$=_.i32_const(t.alloc(i)),X=_.i32_const(t.alloc(i)),K=_.i32_const(t.alloc(i)),ot=_.i32_const(t.alloc(i)),tt=_.i32_const(t.alloc(i)),lt=_.i32_const(t.alloc(i)),Tt=_.i32_const(t.alloc(i)),Bt=_.i32_const(t.alloc(i)),Et=_.i32_const(t.alloc(i)),R=_.i32_const(t.alloc(i));u.addCode(_.call(a+"_square",G,N),_.call(a+"_square",H,$),_.call(a+"_square",J,X),_.call(a+"_mul",G,H,K),_.call(a+"_mul",G,J,ot),_.call(a+"_mul",H,J,tt),_.call(e,tt,lt),_.call(a+"_sub",N,lt,lt),_.call(e,X,Tt),_.call(a+"_sub",Tt,K,Tt),_.call(a+"_sub",$,ot,Bt),_.call(a+"_mul",J,Tt,Et),_.call(a+"_mul",H,Bt,R),_.call(a+"_add",Et,R,Et),_.call(e,Et,Et),_.call(a+"_mul",G,lt,R),_.call(a+"_add",R,Et,Et),_.call(a+"_inverse",Et,Et),_.call(a+"_mul",Et,lt,U),_.call(a+"_mul",Et,Tt,E),_.call(a+"_mul",Et,Bt,M))}function D(){const u=t.addFunction(n+"_sign");u.addParam("x","i32"),u.addLocal("s","i32"),u.setReturnType("i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(2*i));u.addCode(_.setLocal("s",_.call(a+"_sign",J)),_.if(_.getLocal("s"),_.ret(_.getLocal("s"))),_.setLocal("s",_.call(a+"_sign",H)),_.if(_.getLocal("s"),_.ret(_.getLocal("s"))),_.ret(_.call(a+"_sign",G)))}function P(){const u=t.addFunction(n+"_isOne");u.addParam("x","i32"),u.setReturnType("i32");const _=u.getCodeBuilder(),G=_.getLocal("x"),H=_.i32_add(_.getLocal("x"),_.i32_const(i)),J=_.i32_add(_.getLocal("x"),_.i32_const(i*2));u.addCode(_.ret(_.i32_and(_.i32_and(_.call(a+"_isOne",G),_.call(a+"_isZero",H)),_.call(a+"_isZero",J))))}return F(),P(),w(),I(),A(),h(),m(),r(),f(),l(),D(),p(),C(),v(),S(),o(),c(),t.exportFunction(n+"_isZero"),t.exportFunction(n+"_isOne"),t.exportFunction(n+"_zero"),t.exportFunction(n+"_one"),t.exportFunction(n+"_copy"),t.exportFunction(n+"_mul"),t.exportFunction(n+"_square"),t.exportFunction(n+"_add"),t.exportFunction(n+"_sub"),t.exportFunction(n+"_neg"),t.exportFunction(n+"_sign"),t.exportFunction(n+"_fromMontgomery"),t.exportFunction(n+"_toMontgomery"),t.exportFunction(n+"_eq"),t.exportFunction(n+"_inverse"),gv(t,n),pv(t,n+"_exp",i*3,n+"_mul",n+"_square",n+"_copy",n+"_one"),t.exportFunction(n+"_exp"),t.exportFunction(n+"_timesScalar"),t.exportFunction(n+"_batchInverse"),t.exportFunction(n+"_isNegative"),n},yv=function(t,e,n,a,i,r,o,f){const l=t.addFunction(e);l.addParam("base","i32"),l.addParam("scalar","i32"),l.addParam("scalarLength","i32"),l.addParam("r","i32"),l.addLocal("old0","i32"),l.addLocal("nbits","i32"),l.addLocal("i","i32"),l.addLocal("last","i32"),l.addLocal("cur","i32"),l.addLocal("carry","i32"),l.addLocal("p","i32");const c=l.getCodeBuilder(),h=c.i32_const(t.alloc(n));function m(C){return c.i32_and(c.i32_shr_u(c.i32_load(c.i32_add(c.getLocal("scalar"),c.i32_and(c.i32_shr_u(C,c.i32_const(3)),c.i32_const(4294967292)))),c.i32_and(C,c.i32_const(31))),c.i32_const(1))}function p(C){return[...c.i32_store8(c.getLocal("p"),c.i32_const(C)),...c.setLocal("p",c.i32_add(c.getLocal("p"),c.i32_const(1)))]}l.addCode(c.if(c.i32_eqz(c.getLocal("scalarLength")),[...c.call(f,c.getLocal("r")),...c.ret([])]),c.setLocal("nbits",c.i32_shl(c.getLocal("scalarLength"),c.i32_const(3))),c.setLocal("old0",c.i32_load(c.i32_const(0))),c.setLocal("p",c.getLocal("old0")),c.i32_store(c.i32_const(0),c.i32_and(c.i32_add(c.i32_add(c.getLocal("old0"),c.i32_const(32)),c.getLocal("nbits")),c.i32_const(4294967288))),c.setLocal("i",c.i32_const(1)),c.setLocal("last",m(c.i32_const(0))),c.setLocal("carry",c.i32_const(0)),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("i"),c.getLocal("nbits"))),c.setLocal("cur",m(c.getLocal("i"))),c.if(c.getLocal("last"),c.if(c.getLocal("cur"),c.if(c.getLocal("carry"),[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(1)),...p(1)],[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(1)),...p(255)]),c.if(c.getLocal("carry"),[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(1)),...p(255)],[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(0)),...p(1)])),c.if(c.getLocal("cur"),c.if(c.getLocal("carry"),[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(1)),...p(0)],[...c.setLocal("last",c.i32_const(1)),...c.setLocal("carry",c.i32_const(0)),...p(0)]),c.if(c.getLocal("carry"),[...c.setLocal("last",c.i32_const(1)),...c.setLocal("carry",c.i32_const(0)),...p(0)],[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(0)),...p(0)]))),c.setLocal("i",c.i32_add(c.getLocal("i"),c.i32_const(1))),c.br(0))),c.if(c.getLocal("last"),c.if(c.getLocal("carry"),[...p(255),...p(0),...p(1)],[...p(1)]),c.if(c.getLocal("carry"),[...p(0),...p(1)])),c.setLocal("p",c.i32_sub(c.getLocal("p"),c.i32_const(1))),c.call(o,c.getLocal("base"),h),c.call(f,c.getLocal("r")),c.block(c.loop(c.call(i,c.getLocal("r"),c.getLocal("r")),c.setLocal("cur",c.i32_load8_u(c.getLocal("p"))),c.if(c.getLocal("cur"),c.if(c.i32_eq(c.getLocal("cur"),c.i32_const(1)),c.call(a,c.getLocal("r"),h,c.getLocal("r")),c.call(r,c.getLocal("r"),h,c.getLocal("r")))),c.br_if(1,c.i32_eq(c.getLocal("old0"),c.getLocal("p"))),c.setLocal("p",c.i32_sub(c.getLocal("p"),c.i32_const(1))),c.br(0))),c.i32_store(c.i32_const(0),c.getLocal("old0")))},mv=function(t,e,n,a,i){const o=t.modules[e].n64*8;function f(){const m=t.addFunction(n+"_getChunk");m.addParam("pScalar","i32"),m.addParam("scalarSize","i32"),m.addParam("startBit","i32"),m.addParam("chunkSize","i32"),m.addLocal("bitsToEnd","i32"),m.addLocal("mask","i32"),m.setReturnType("i32");const p=m.getCodeBuilder();m.addCode(p.setLocal("bitsToEnd",p.i32_sub(p.i32_mul(p.getLocal("scalarSize"),p.i32_const(8)),p.getLocal("startBit"))),p.if(p.i32_gt_s(p.getLocal("chunkSize"),p.getLocal("bitsToEnd")),p.setLocal("mask",p.i32_sub(p.i32_shl(p.i32_const(1),p.getLocal("bitsToEnd")),p.i32_const(1))),p.setLocal("mask",p.i32_sub(p.i32_shl(p.i32_const(1),p.getLocal("chunkSize")),p.i32_const(1)))),p.i32_and(p.i32_shr_u(p.i32_load(p.i32_add(p.getLocal("pScalar"),p.i32_shr_u(p.getLocal("startBit"),p.i32_const(3))),0,0),p.i32_and(p.getLocal("startBit"),p.i32_const(7))),p.getLocal("mask")))}function l(){const m=t.addFunction(n+"_chunk");m.addParam("pBases","i32"),m.addParam("pScalars","i32"),m.addParam("scalarSize","i32"),m.addParam("n","i32"),m.addParam("startBit","i32"),m.addParam("chunkSize","i32"),m.addParam("pr","i32"),m.addLocal("nChunks","i32"),m.addLocal("itScalar","i32"),m.addLocal("endScalar","i32"),m.addLocal("itBase","i32"),m.addLocal("i","i32"),m.addLocal("j","i32"),m.addLocal("nTable","i32"),m.addLocal("pTable","i32"),m.addLocal("idx","i32"),m.addLocal("pIdxTable","i32");const p=m.getCodeBuilder();m.addCode(p.if(p.i32_eqz(p.getLocal("n")),[...p.call(e+"_zero",p.getLocal("pr")),...p.ret([])]),p.setLocal("nTable",p.i32_shl(p.i32_const(1),p.getLocal("chunkSize"))),p.setLocal("pTable",p.i32_load(p.i32_const(0))),p.i32_store(p.i32_const(0),p.i32_add(p.getLocal("pTable"),p.i32_mul(p.getLocal("nTable"),p.i32_const(o)))),p.setLocal("j",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("j"),p.getLocal("nTable"))),p.call(e+"_zero",p.i32_add(p.getLocal("pTable"),p.i32_mul(p.getLocal("j"),p.i32_const(o)))),p.setLocal("j",p.i32_add(p.getLocal("j"),p.i32_const(1))),p.br(0))),p.setLocal("itBase",p.getLocal("pBases")),p.setLocal("itScalar",p.getLocal("pScalars")),p.setLocal("endScalar",p.i32_add(p.getLocal("pScalars"),p.i32_mul(p.getLocal("n"),p.getLocal("scalarSize")))),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("itScalar"),p.getLocal("endScalar"))),p.setLocal("idx",p.call(n+"_getChunk",p.getLocal("itScalar"),p.getLocal("scalarSize"),p.getLocal("startBit"),p.getLocal("chunkSize"))),p.if(p.getLocal("idx"),[...p.setLocal("pIdxTable",p.i32_add(p.getLocal("pTable"),p.i32_mul(p.i32_sub(p.getLocal("idx"),p.i32_const(1)),p.i32_const(o)))),...p.call(a,p.getLocal("pIdxTable"),p.getLocal("itBase"),p.getLocal("pIdxTable"))]),p.setLocal("itScalar",p.i32_add(p.getLocal("itScalar"),p.getLocal("scalarSize"))),p.setLocal("itBase",p.i32_add(p.getLocal("itBase"),p.i32_const(i))),p.br(0))),p.call(n+"_reduceTable",p.getLocal("pTable"),p.getLocal("chunkSize")),p.call(e+"_copy",p.getLocal("pTable"),p.getLocal("pr")),p.i32_store(p.i32_const(0),p.getLocal("pTable")))}function c(){const m=t.addFunction(n);m.addParam("pBases","i32"),m.addParam("pScalars","i32"),m.addParam("scalarSize","i32"),m.addParam("n","i32"),m.addParam("pr","i32"),m.addLocal("chunkSize","i32"),m.addLocal("nChunks","i32"),m.addLocal("itScalar","i32"),m.addLocal("endScalar","i32"),m.addLocal("itBase","i32"),m.addLocal("itBit","i32"),m.addLocal("i","i32"),m.addLocal("j","i32"),m.addLocal("nTable","i32"),m.addLocal("pTable","i32"),m.addLocal("idx","i32"),m.addLocal("pIdxTable","i32");const p=m.getCodeBuilder(),C=p.i32_const(t.alloc(o)),A=t.alloc([17,17,17,17,17,17,17,17,17,17,16,16,15,14,13,13,12,11,10,9,8,7,7,6,5,4,3,2,1,1,1,1]);m.addCode(p.call(e+"_zero",p.getLocal("pr")),p.if(p.i32_eqz(p.getLocal("n")),p.ret([])),p.setLocal("chunkSize",p.i32_load8_u(p.i32_clz(p.getLocal("n")),A)),p.setLocal("nChunks",p.i32_add(p.i32_div_u(p.i32_sub(p.i32_shl(p.getLocal("scalarSize"),p.i32_const(3)),p.i32_const(1)),p.getLocal("chunkSize")),p.i32_const(1))),p.setLocal("itBit",p.i32_mul(p.i32_sub(p.getLocal("nChunks"),p.i32_const(1)),p.getLocal("chunkSize"))),p.block(p.loop(p.br_if(1,p.i32_lt_s(p.getLocal("itBit"),p.i32_const(0))),p.if(p.i32_eqz(p.call(e+"_isZero",p.getLocal("pr"))),[...p.setLocal("j",p.i32_const(0)),...p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("j"),p.getLocal("chunkSize"))),p.call(e+"_double",p.getLocal("pr"),p.getLocal("pr")),p.setLocal("j",p.i32_add(p.getLocal("j"),p.i32_const(1))),p.br(0)))]),p.call(n+"_chunk",p.getLocal("pBases"),p.getLocal("pScalars"),p.getLocal("scalarSize"),p.getLocal("n"),p.getLocal("itBit"),p.getLocal("chunkSize"),C),p.call(e+"_add",p.getLocal("pr"),C,p.getLocal("pr")),p.setLocal("itBit",p.i32_sub(p.getLocal("itBit"),p.getLocal("chunkSize"))),p.br(0))))}function h(){const m=t.addFunction(n+"_reduceTable");m.addParam("pTable","i32"),m.addParam("p","i32"),m.addLocal("half","i32"),m.addLocal("it1","i32"),m.addLocal("it2","i32"),m.addLocal("pAcc","i32");const p=m.getCodeBuilder();m.addCode(p.if(p.i32_eq(p.getLocal("p"),p.i32_const(1)),p.ret([])),p.setLocal("half",p.i32_shl(p.i32_const(1),p.i32_sub(p.getLocal("p"),p.i32_const(1)))),p.setLocal("it1",p.getLocal("pTable")),p.setLocal("it2",p.i32_add(p.getLocal("pTable"),p.i32_mul(p.getLocal("half"),p.i32_const(o)))),p.setLocal("pAcc",p.i32_sub(p.getLocal("it2"),p.i32_const(o))),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("it1"),p.getLocal("pAcc"))),p.call(e+"_add",p.getLocal("it1"),p.getLocal("it2"),p.getLocal("it1")),p.call(e+"_add",p.getLocal("pAcc"),p.getLocal("it2"),p.getLocal("pAcc")),p.setLocal("it1",p.i32_add(p.getLocal("it1"),p.i32_const(o))),p.setLocal("it2",p.i32_add(p.getLocal("it2"),p.i32_const(o))),p.br(0))),p.call(n+"_reduceTable",p.getLocal("pTable"),p.i32_sub(p.getLocal("p"),p.i32_const(1))),p.setLocal("p",p.i32_sub(p.getLocal("p"),p.i32_const(1))),p.block(p.loop(p.br_if(1,p.i32_eqz(p.getLocal("p"))),p.call(e+"_double",p.getLocal("pAcc"),p.getLocal("pAcc")),p.setLocal("p",p.i32_sub(p.getLocal("p"),p.i32_const(1))),p.br(0))),p.call(e+"_add",p.getLocal("pTable"),p.getLocal("pAcc"),p.getLocal("pTable")))}f(),h(),l(),c(),t.exportFunction(n),t.exportFunction(n+"_chunk")};const X3=yv,Xc=P9,Y3=mv;var k9=function(t,e,n,a){const i=t.modules[n].n64,r=i*8;if(t.modules[e])return e;t.modules[e]={n64:i*3};function o(){const R=t.addFunction(e+"_isZero");R.addParam("p1","i32"),R.setReturnType("i32");const d=R.getCodeBuilder();R.addCode(d.call(n+"_isZero",d.i32_add(d.getLocal("p1"),d.i32_const(r*2))))}function f(){const R=t.addFunction(e+"_isZeroAffine");R.addParam("p1","i32"),R.setReturnType("i32");const d=R.getCodeBuilder();R.addCode(d.i32_and(d.call(n+"_isZero",d.getLocal("p1")),d.call(n+"_isZero",d.i32_add(d.getLocal("p1"),d.i32_const(r)))))}function l(){const R=t.addFunction(e+"_copy");R.addParam("ps","i32"),R.addParam("pd","i32");const d=R.getCodeBuilder();for(let B=0;B<i*3;B++)R.addCode(d.i64_store(d.getLocal("pd"),B*8,d.i64_load(d.getLocal("ps"),B*8)))}function c(){const R=t.addFunction(e+"_copyAffine");R.addParam("ps","i32"),R.addParam("pd","i32");const d=R.getCodeBuilder();for(let B=0;B<i*2;B++)R.addCode(d.i64_store(d.getLocal("pd"),B*8,d.i64_load(d.getLocal("ps"),B*8)))}function h(){const R=t.addFunction(e+"_zero");R.addParam("pr","i32");const d=R.getCodeBuilder();R.addCode(d.call(n+"_zero",d.getLocal("pr"))),R.addCode(d.call(n+"_one",d.i32_add(d.getLocal("pr"),d.i32_const(r)))),R.addCode(d.call(n+"_zero",d.i32_add(d.getLocal("pr"),d.i32_const(r*2))))}function m(){const R=t.addFunction(e+"_zeroAffine");R.addParam("pr","i32");const d=R.getCodeBuilder();R.addCode(d.call(n+"_zero",d.getLocal("pr"))),R.addCode(d.call(n+"_zero",d.i32_add(d.getLocal("pr"),d.i32_const(r))))}function p(){const R=t.addFunction(e+"_eq");R.addParam("p1","i32"),R.addParam("p2","i32"),R.setReturnType("i32"),R.addLocal("z1","i32"),R.addLocal("z2","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r));R.addCode(d.setLocal("z1",d.i32_add(d.getLocal("p1"),d.i32_const(r*2))));const Z=d.getLocal("z1"),k=d.getLocal("p2"),x=d.i32_add(d.getLocal("p2"),d.i32_const(r));R.addCode(d.setLocal("z2",d.i32_add(d.getLocal("p2"),d.i32_const(r*2))));const at=d.getLocal("z2"),yt=d.i32_const(t.alloc(r)),gt=d.i32_const(t.alloc(r)),_t=d.i32_const(t.alloc(r)),Rt=d.i32_const(t.alloc(r)),Lt=d.i32_const(t.alloc(r)),Ot=d.i32_const(t.alloc(r)),$t=d.i32_const(t.alloc(r)),vt=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZero",d.getLocal("p1")),d.ret(d.call(e+"_isZero",d.getLocal("p2")))),d.if(d.call(e+"_isZero",d.getLocal("p2")),d.ret(d.i32_const(0))),d.if(d.call(n+"_isOne",Z),d.ret(d.call(e+"_eqMixed",d.getLocal("p2"),d.getLocal("p1")))),d.if(d.call(n+"_isOne",at),d.ret(d.call(e+"_eqMixed",d.getLocal("p1"),d.getLocal("p2")))),d.call(n+"_square",Z,yt),d.call(n+"_square",at,gt),d.call(n+"_mul",B,gt,_t),d.call(n+"_mul",k,yt,Rt),d.call(n+"_mul",Z,yt,Lt),d.call(n+"_mul",at,gt,Ot),d.call(n+"_mul",b,Ot,$t),d.call(n+"_mul",x,Lt,vt),d.if(d.call(n+"_eq",_t,Rt),d.if(d.call(n+"_eq",$t,vt),d.ret(d.i32_const(1)))),d.ret(d.i32_const(0)))}function C(){const R=t.addFunction(e+"_eqMixed");R.addParam("p1","i32"),R.addParam("p2","i32"),R.setReturnType("i32"),R.addLocal("z1","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r));R.addCode(d.setLocal("z1",d.i32_add(d.getLocal("p1"),d.i32_const(r*2))));const Z=d.getLocal("z1"),k=d.getLocal("p2"),x=d.i32_add(d.getLocal("p2"),d.i32_const(r)),at=d.i32_const(t.alloc(r)),yt=d.i32_const(t.alloc(r)),gt=d.i32_const(t.alloc(r)),_t=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZero",d.getLocal("p1")),d.ret(d.call(e+"_isZeroAffine",d.getLocal("p2")))),d.if(d.call(e+"_isZeroAffine",d.getLocal("p2")),d.ret(d.i32_const(0))),d.if(d.call(n+"_isOne",Z),d.ret(d.call(e+"_eqAffine",d.getLocal("p1"),d.getLocal("p2")))),d.call(n+"_square",Z,at),d.call(n+"_mul",k,at,yt),d.call(n+"_mul",Z,at,gt),d.call(n+"_mul",x,gt,_t),d.if(d.call(n+"_eq",B,yt),d.if(d.call(n+"_eq",b,_t),d.ret(d.i32_const(1)))),d.ret(d.i32_const(0)))}function A(){const R=t.addFunction(e+"_double");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r)),Z=d.i32_add(d.getLocal("p1"),d.i32_const(r*2)),k=d.getLocal("pr"),x=d.i32_add(d.getLocal("pr"),d.i32_const(r)),at=d.i32_add(d.getLocal("pr"),d.i32_const(r*2)),yt=d.i32_const(t.alloc(r)),gt=d.i32_const(t.alloc(r)),_t=d.i32_const(t.alloc(r)),Rt=d.i32_const(t.alloc(r)),Lt=d.i32_const(t.alloc(r)),Ot=d.i32_const(t.alloc(r)),$t=d.i32_const(t.alloc(r)),vt=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZero",d.getLocal("p1")),[...d.call(e+"_copy",d.getLocal("p1"),d.getLocal("pr")),...d.ret([])]),d.if(d.call(n+"_isOne",Z),[...d.ret(d.call(e+"_doubleAffine",d.getLocal("p1"),d.getLocal("pr"))),...d.ret([])]),d.call(n+"_square",B,yt),d.call(n+"_square",b,gt),d.call(n+"_square",gt,_t),d.call(n+"_add",B,gt,Rt),d.call(n+"_square",Rt,Rt),d.call(n+"_sub",Rt,yt,Rt),d.call(n+"_sub",Rt,_t,Rt),d.call(n+"_add",Rt,Rt,Rt),d.call(n+"_add",yt,yt,Lt),d.call(n+"_add",Lt,yt,Lt),d.call(n+"_square",Lt,Ot),d.call(n+"_mul",b,Z,$t),d.call(n+"_add",Rt,Rt,k),d.call(n+"_sub",Ot,k,k),d.call(n+"_add",_t,_t,vt),d.call(n+"_add",vt,vt,vt),d.call(n+"_add",vt,vt,vt),d.call(n+"_sub",Rt,k,x),d.call(n+"_mul",x,Lt,x),d.call(n+"_sub",x,vt,x),d.call(n+"_add",$t,$t,at))}function w(){const R=t.addFunction(e+"_doubleAffine");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r)),Z=d.getLocal("pr"),k=d.i32_add(d.getLocal("pr"),d.i32_const(r)),x=d.i32_add(d.getLocal("pr"),d.i32_const(r*2)),at=d.i32_const(t.alloc(r)),yt=d.i32_const(t.alloc(r)),gt=d.i32_const(t.alloc(r)),_t=d.i32_const(t.alloc(r)),Rt=d.i32_const(t.alloc(r)),Lt=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZeroAffine",d.getLocal("p1")),[...d.call(e+"_toJacobian",d.getLocal("p1"),d.getLocal("pr")),...d.ret([])]),d.call(n+"_square",B,at),d.call(n+"_square",b,yt),d.call(n+"_square",yt,gt),d.call(n+"_add",B,yt,_t),d.call(n+"_square",_t,_t),d.call(n+"_sub",_t,at,_t),d.call(n+"_sub",_t,gt,_t),d.call(n+"_add",_t,_t,_t),d.call(n+"_add",at,at,Rt),d.call(n+"_add",Rt,at,Rt),d.call(n+"_add",b,b,x),d.call(n+"_square",Rt,Z),d.call(n+"_sub",Z,_t,Z),d.call(n+"_sub",Z,_t,Z),d.call(n+"_add",gt,gt,Lt),d.call(n+"_add",Lt,Lt,Lt),d.call(n+"_add",Lt,Lt,Lt),d.call(n+"_sub",_t,Z,k),d.call(n+"_mul",k,Rt,k),d.call(n+"_sub",k,Lt,k))}function I(){const R=t.addFunction(e+"_eqAffine");R.addParam("p1","i32"),R.addParam("p2","i32"),R.setReturnType("i32"),R.addLocal("z1","i32");const d=R.getCodeBuilder();R.addCode(d.ret(d.i32_and(d.call(n+"_eq",d.getLocal("p1"),d.getLocal("p2")),d.call(n+"_eq",d.i32_add(d.getLocal("p1"),d.i32_const(r)),d.i32_add(d.getLocal("p2"),d.i32_const(r))))))}function v(){const R=t.addFunction(e+"_toMontgomery");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder();R.addCode(d.call(n+"_toMontgomery",d.getLocal("p1"),d.getLocal("pr")));for(let B=1;B<3;B++)R.addCode(d.call(n+"_toMontgomery",d.i32_add(d.getLocal("p1"),d.i32_const(B*r)),d.i32_add(d.getLocal("pr"),d.i32_const(B*r))))}function F(){const R=t.addFunction(e+"_toMontgomeryAffine");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder();R.addCode(d.call(n+"_toMontgomery",d.getLocal("p1"),d.getLocal("pr")));for(let B=1;B<2;B++)R.addCode(d.call(n+"_toMontgomery",d.i32_add(d.getLocal("p1"),d.i32_const(B*r)),d.i32_add(d.getLocal("pr"),d.i32_const(B*r))))}function S(){const R=t.addFunction(e+"_fromMontgomery");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder();R.addCode(d.call(n+"_fromMontgomery",d.getLocal("p1"),d.getLocal("pr")));for(let B=1;B<3;B++)R.addCode(d.call(n+"_fromMontgomery",d.i32_add(d.getLocal("p1"),d.i32_const(B*r)),d.i32_add(d.getLocal("pr"),d.i32_const(B*r))))}function D(){const R=t.addFunction(e+"_fromMontgomeryAffine");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder();R.addCode(d.call(n+"_fromMontgomery",d.getLocal("p1"),d.getLocal("pr")));for(let B=1;B<2;B++)R.addCode(d.call(n+"_fromMontgomery",d.i32_add(d.getLocal("p1"),d.i32_const(B*r)),d.i32_add(d.getLocal("pr"),d.i32_const(B*r))))}function P(){const R=t.addFunction(e+"_add");R.addParam("p1","i32"),R.addParam("p2","i32"),R.addParam("pr","i32"),R.addLocal("z1","i32"),R.addLocal("z2","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r));R.addCode(d.setLocal("z1",d.i32_add(d.getLocal("p1"),d.i32_const(r*2))));const Z=d.getLocal("z1"),k=d.getLocal("p2"),x=d.i32_add(d.getLocal("p2"),d.i32_const(r));R.addCode(d.setLocal("z2",d.i32_add(d.getLocal("p2"),d.i32_const(r*2))));const at=d.getLocal("z2"),yt=d.getLocal("pr"),gt=d.i32_add(d.getLocal("pr"),d.i32_const(r)),_t=d.i32_add(d.getLocal("pr"),d.i32_const(r*2)),Rt=d.i32_const(t.alloc(r)),Lt=d.i32_const(t.alloc(r)),Ot=d.i32_const(t.alloc(r)),$t=d.i32_const(t.alloc(r)),vt=d.i32_const(t.alloc(r)),xt=d.i32_const(t.alloc(r)),Nt=d.i32_const(t.alloc(r)),Zt=d.i32_const(t.alloc(r)),Ee=d.i32_const(t.alloc(r)),_s=d.i32_const(t.alloc(r)),nn=d.i32_const(t.alloc(r)),xs=d.i32_const(t.alloc(r)),Me=d.i32_const(t.alloc(r)),pn=d.i32_const(t.alloc(r)),Jn=d.i32_const(t.alloc(r)),Nr=d.i32_const(t.alloc(r)),$s=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZero",d.getLocal("p1")),[...d.call(e+"_copy",d.getLocal("p2"),d.getLocal("pr")),...d.ret([])]),d.if(d.call(e+"_isZero",d.getLocal("p2")),[...d.call(e+"_copy",d.getLocal("p1"),d.getLocal("pr")),...d.ret([])]),d.if(d.call(n+"_isOne",Z),[...d.call(e+"_addMixed",k,B,yt),...d.ret([])]),d.if(d.call(n+"_isOne",at),[...d.call(e+"_addMixed",B,k,yt),...d.ret([])]),d.call(n+"_square",Z,Rt),d.call(n+"_square",at,Lt),d.call(n+"_mul",B,Lt,Ot),d.call(n+"_mul",k,Rt,$t),d.call(n+"_mul",Z,Rt,vt),d.call(n+"_mul",at,Lt,xt),d.call(n+"_mul",b,xt,Nt),d.call(n+"_mul",x,vt,Zt),d.if(d.call(n+"_eq",Ot,$t),d.if(d.call(n+"_eq",Nt,Zt),[...d.call(e+"_double",d.getLocal("p1"),d.getLocal("pr")),...d.ret([])])),d.call(n+"_sub",$t,Ot,Ee),d.call(n+"_sub",Zt,Nt,_s),d.call(n+"_add",Ee,Ee,nn),d.call(n+"_square",nn,nn),d.call(n+"_mul",Ee,nn,xs),d.call(n+"_add",_s,_s,Me),d.call(n+"_mul",Ot,nn,Jn),d.call(n+"_square",Me,pn),d.call(n+"_add",Jn,Jn,Nr),d.call(n+"_sub",pn,xs,yt),d.call(n+"_sub",yt,Nr,yt),d.call(n+"_mul",Nt,xs,$s),d.call(n+"_add",$s,$s,$s),d.call(n+"_sub",Jn,yt,gt),d.call(n+"_mul",gt,Me,gt),d.call(n+"_sub",gt,$s,gt),d.call(n+"_add",Z,at,_t),d.call(n+"_square",_t,_t),d.call(n+"_sub",_t,Rt,_t),d.call(n+"_sub",_t,Lt,_t),d.call(n+"_mul",_t,Ee,_t))}function u(){const R=t.addFunction(e+"_addMixed");R.addParam("p1","i32"),R.addParam("p2","i32"),R.addParam("pr","i32"),R.addLocal("z1","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r));R.addCode(d.setLocal("z1",d.i32_add(d.getLocal("p1"),d.i32_const(r*2))));const Z=d.getLocal("z1"),k=d.getLocal("p2"),x=d.i32_add(d.getLocal("p2"),d.i32_const(r)),at=d.getLocal("pr"),yt=d.i32_add(d.getLocal("pr"),d.i32_const(r)),gt=d.i32_add(d.getLocal("pr"),d.i32_const(r*2)),_t=d.i32_const(t.alloc(r)),Rt=d.i32_const(t.alloc(r)),Lt=d.i32_const(t.alloc(r)),Ot=d.i32_const(t.alloc(r)),$t=d.i32_const(t.alloc(r)),vt=d.i32_const(t.alloc(r)),xt=d.i32_const(t.alloc(r)),Nt=d.i32_const(t.alloc(r)),Zt=d.i32_const(t.alloc(r)),Ee=d.i32_const(t.alloc(r)),_s=d.i32_const(t.alloc(r)),nn=d.i32_const(t.alloc(r)),xs=d.i32_const(t.alloc(r)),Me=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZero",d.getLocal("p1")),[...d.call(e+"_copyAffine",d.getLocal("p2"),d.getLocal("pr")),...d.call(n+"_one",d.i32_add(d.getLocal("pr"),d.i32_const(r*2))),...d.ret([])]),d.if(d.call(e+"_isZeroAffine",d.getLocal("p2")),[...d.call(e+"_copy",d.getLocal("p1"),d.getLocal("pr")),...d.ret([])]),d.if(d.call(n+"_isOne",Z),[...d.call(e+"_addAffine",B,k,at),...d.ret([])]),d.call(n+"_square",Z,_t),d.call(n+"_mul",k,_t,Rt),d.call(n+"_mul",Z,_t,Lt),d.call(n+"_mul",x,Lt,Ot),d.if(d.call(n+"_eq",B,Rt),d.if(d.call(n+"_eq",b,Ot),[...d.call(e+"_doubleAffine",d.getLocal("p2"),d.getLocal("pr")),...d.ret([])])),d.call(n+"_sub",Rt,B,$t),d.call(n+"_sub",Ot,b,xt),d.call(n+"_square",$t,vt),d.call(n+"_add",vt,vt,Nt),d.call(n+"_add",Nt,Nt,Nt),d.call(n+"_mul",$t,Nt,Zt),d.call(n+"_add",xt,xt,Ee),d.call(n+"_mul",B,Nt,nn),d.call(n+"_square",Ee,_s),d.call(n+"_add",nn,nn,xs),d.call(n+"_sub",_s,Zt,at),d.call(n+"_sub",at,xs,at),d.call(n+"_mul",b,Zt,Me),d.call(n+"_add",Me,Me,Me),d.call(n+"_sub",nn,at,yt),d.call(n+"_mul",yt,Ee,yt),d.call(n+"_sub",yt,Me,yt),d.call(n+"_add",Z,$t,gt),d.call(n+"_square",gt,gt),d.call(n+"_sub",gt,_t,gt),d.call(n+"_sub",gt,vt,gt))}function _(){const R=t.addFunction(e+"_addAffine");R.addParam("p1","i32"),R.addParam("p2","i32"),R.addParam("pr","i32"),R.addLocal("z1","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r));R.addCode(d.setLocal("z1",d.i32_add(d.getLocal("p1"),d.i32_const(r*2))));const Z=d.getLocal("p2"),k=d.i32_add(d.getLocal("p2"),d.i32_const(r)),x=d.getLocal("pr"),at=d.i32_add(d.getLocal("pr"),d.i32_const(r)),yt=d.i32_add(d.getLocal("pr"),d.i32_const(r*2)),gt=d.i32_const(t.alloc(r)),_t=d.i32_const(t.alloc(r)),Rt=d.i32_const(t.alloc(r)),Lt=d.i32_const(t.alloc(r)),Ot=d.i32_const(t.alloc(r)),$t=d.i32_const(t.alloc(r)),vt=d.i32_const(t.alloc(r)),xt=d.i32_const(t.alloc(r)),Nt=d.i32_const(t.alloc(r)),Zt=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZeroAffine",d.getLocal("p1")),[...d.call(e+"_copyAffine",d.getLocal("p2"),d.getLocal("pr")),...d.call(n+"_one",d.i32_add(d.getLocal("pr"),d.i32_const(r*2))),...d.ret([])]),d.if(d.call(e+"_isZeroAffine",d.getLocal("p2")),[...d.call(e+"_copyAffine",d.getLocal("p1"),d.getLocal("pr")),...d.call(n+"_one",d.i32_add(d.getLocal("pr"),d.i32_const(r*2))),...d.ret([])]),d.if(d.call(n+"_eq",B,Z),d.if(d.call(n+"_eq",b,k),[...d.call(e+"_doubleAffine",d.getLocal("p2"),d.getLocal("pr")),...d.ret([])])),d.call(n+"_sub",Z,B,gt),d.call(n+"_sub",k,b,Rt),d.call(n+"_square",gt,_t),d.call(n+"_add",_t,_t,Lt),d.call(n+"_add",Lt,Lt,Lt),d.call(n+"_mul",gt,Lt,Ot),d.call(n+"_add",Rt,Rt,$t),d.call(n+"_mul",B,Lt,xt),d.call(n+"_square",$t,vt),d.call(n+"_add",xt,xt,Nt),d.call(n+"_sub",vt,Ot,x),d.call(n+"_sub",x,Nt,x),d.call(n+"_mul",b,Ot,Zt),d.call(n+"_add",Zt,Zt,Zt),d.call(n+"_sub",xt,x,at),d.call(n+"_mul",at,$t,at),d.call(n+"_sub",at,Zt,at),d.call(n+"_add",gt,gt,yt))}function G(){const R=t.addFunction(e+"_neg");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r)),Z=d.i32_add(d.getLocal("p1"),d.i32_const(r*2)),k=d.getLocal("pr"),x=d.i32_add(d.getLocal("pr"),d.i32_const(r)),at=d.i32_add(d.getLocal("pr"),d.i32_const(r*2));R.addCode(d.call(n+"_copy",B,k),d.call(n+"_neg",b,x),d.call(n+"_copy",Z,at))}function H(){const R=t.addFunction(e+"_negAffine");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r)),Z=d.getLocal("pr"),k=d.i32_add(d.getLocal("pr"),d.i32_const(r));R.addCode(d.call(n+"_copy",B,Z),d.call(n+"_neg",b,k))}function J(){const R=t.addFunction(e+"_sub");R.addParam("p1","i32"),R.addParam("p2","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.i32_const(t.alloc(r*3));R.addCode(d.call(e+"_neg",d.getLocal("p2"),B),d.call(e+"_add",d.getLocal("p1"),B,d.getLocal("pr")))}function U(){const R=t.addFunction(e+"_subMixed");R.addParam("p1","i32"),R.addParam("p2","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.i32_const(t.alloc(r*3));R.addCode(d.call(e+"_negAffine",d.getLocal("p2"),B),d.call(e+"_addMixed",d.getLocal("p1"),B,d.getLocal("pr")))}function E(){const R=t.addFunction(e+"_subAffine");R.addParam("p1","i32"),R.addParam("p2","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.i32_const(t.alloc(r*3));R.addCode(d.call(e+"_negAffine",d.getLocal("p2"),B),d.call(e+"_addAffine",d.getLocal("p1"),B,d.getLocal("pr")))}function M(){const R=t.addFunction(e+"_normalize");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r)),Z=d.i32_add(d.getLocal("p1"),d.i32_const(r*2)),k=d.getLocal("pr"),x=d.i32_add(d.getLocal("pr"),d.i32_const(r)),at=d.i32_add(d.getLocal("pr"),d.i32_const(r*2)),yt=d.i32_const(t.alloc(r)),gt=d.i32_const(t.alloc(r)),_t=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZero",d.getLocal("p1")),d.call(e+"_zero",d.getLocal("pr")),[...d.call(n+"_inverse",Z,yt),...d.call(n+"_square",yt,gt),...d.call(n+"_mul",yt,gt,_t),...d.call(n+"_mul",B,gt,k),...d.call(n+"_mul",b,_t,x),...d.call(n+"_one",at)]))}function N(){const R=t.addFunction(e+"_toAffine");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r)),Z=d.i32_add(d.getLocal("p1"),d.i32_const(r*2)),k=d.getLocal("pr"),x=d.i32_add(d.getLocal("pr"),d.i32_const(r)),at=d.i32_const(t.alloc(r)),yt=d.i32_const(t.alloc(r)),gt=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZero",d.getLocal("p1")),[...d.call(n+"_zero",k),...d.call(n+"_zero",x)],[...d.call(n+"_inverse",Z,at),...d.call(n+"_square",at,yt),...d.call(n+"_mul",at,yt,gt),...d.call(n+"_mul",B,yt,k),...d.call(n+"_mul",b,gt,x)]))}function $(){const R=t.addFunction(e+"_toJacobian");R.addParam("p1","i32"),R.addParam("pr","i32");const d=R.getCodeBuilder(),B=d.getLocal("p1"),b=d.i32_add(d.getLocal("p1"),d.i32_const(r)),Z=d.getLocal("pr"),k=d.i32_add(d.getLocal("pr"),d.i32_const(r)),x=d.i32_add(d.getLocal("pr"),d.i32_const(r*2));R.addCode(d.if(d.call(e+"_isZeroAffine",d.getLocal("p1")),d.call(e+"_zero",d.getLocal("pr")),[...d.call(n+"_one",x),...d.call(n+"_copy",b,k),...d.call(n+"_copy",B,Z)]))}function X(){const R=t.addFunction(e+"_batchToAffine");R.addParam("pIn","i32"),R.addParam("n","i32"),R.addParam("pOut","i32"),R.addLocal("pAux","i32"),R.addLocal("itIn","i32"),R.addLocal("itAux","i32"),R.addLocal("itOut","i32"),R.addLocal("i","i32");const d=R.getCodeBuilder(),B=d.i32_const(t.alloc(r));R.addCode(d.setLocal("pAux",d.i32_load(d.i32_const(0))),d.i32_store(d.i32_const(0),d.i32_add(d.getLocal("pAux"),d.i32_mul(d.getLocal("n"),d.i32_const(r)))),d.call(n+"_batchInverse",d.i32_add(d.getLocal("pIn"),d.i32_const(r*2)),d.i32_const(r*3),d.getLocal("n"),d.getLocal("pAux"),d.i32_const(r)),d.setLocal("itIn",d.getLocal("pIn")),d.setLocal("itAux",d.getLocal("pAux")),d.setLocal("itOut",d.getLocal("pOut")),d.setLocal("i",d.i32_const(0)),d.block(d.loop(d.br_if(1,d.i32_eq(d.getLocal("i"),d.getLocal("n"))),d.if(d.call(n+"_isZero",d.getLocal("itAux")),[...d.call(n+"_zero",d.getLocal("itOut")),...d.call(n+"_zero",d.i32_add(d.getLocal("itOut"),d.i32_const(r)))],[...d.call(n+"_mul",d.getLocal("itAux"),d.i32_add(d.getLocal("itIn"),d.i32_const(r)),B),...d.call(n+"_square",d.getLocal("itAux"),d.getLocal("itAux")),...d.call(n+"_mul",d.getLocal("itAux"),d.getLocal("itIn"),d.getLocal("itOut")),...d.call(n+"_mul",d.getLocal("itAux"),B,d.i32_add(d.getLocal("itOut"),d.i32_const(r)))]),d.setLocal("itIn",d.i32_add(d.getLocal("itIn"),d.i32_const(r*3))),d.setLocal("itOut",d.i32_add(d.getLocal("itOut"),d.i32_const(r*2))),d.setLocal("itAux",d.i32_add(d.getLocal("itAux"),d.i32_const(r))),d.setLocal("i",d.i32_add(d.getLocal("i"),d.i32_const(1))),d.br(0))),d.i32_store(d.i32_const(0),d.getLocal("pAux")))}function K(){const R=t.addFunction(e+"__reverseBytes");R.addParam("pIn","i32"),R.addParam("n","i32"),R.addParam("pOut","i32"),R.addLocal("itOut","i32"),R.addLocal("itIn","i32");const d=R.getCodeBuilder();R.addCode(d.setLocal("itOut",d.i32_sub(d.i32_add(d.getLocal("pOut"),d.getLocal("n")),d.i32_const(1))),d.setLocal("itIn",d.getLocal("pIn")),d.block(d.loop(d.br_if(1,d.i32_lt_s(d.getLocal("itOut"),d.getLocal("pOut"))),d.i32_store8(d.getLocal("itOut"),d.i32_load8_u(d.getLocal("itIn"))),d.setLocal("itOut",d.i32_sub(d.getLocal("itOut"),d.i32_const(1))),d.setLocal("itIn",d.i32_add(d.getLocal("itIn"),d.i32_const(1))),d.br(0))))}function ot(){const R=t.addFunction(e+"_LEMtoC");R.addParam("pIn","i32"),R.addParam("pOut","i32");const d=R.getCodeBuilder(),B=d.i32_const(t.alloc(r));R.addCode(d.if(d.call(e+"_isZeroAffine",d.getLocal("pIn")),[...d.call(n+"_zero",d.getLocal("pOut")),...d.i32_store8(d.getLocal("pOut"),d.i32_const(64)),...d.ret([])]),d.call(n+"_fromMontgomery",d.getLocal("pIn"),B),d.call(e+"__reverseBytes",B,d.i32_const(r),d.getLocal("pOut")),d.if(d.i32_eq(d.call(n+"_sign",d.i32_add(d.getLocal("pIn"),d.i32_const(r))),d.i32_const(-1)),d.i32_store8(d.getLocal("pOut"),d.i32_or(d.i32_load8_u(d.getLocal("pOut")),d.i32_const(128)))))}function tt(){const R=t.addFunction(e+"_LEMtoU");R.addParam("pIn","i32"),R.addParam("pOut","i32");const d=R.getCodeBuilder(),B=t.alloc(r*2),b=d.i32_const(B),Z=d.i32_const(B),k=d.i32_const(B+r);R.addCode(d.if(d.call(e+"_isZeroAffine",d.getLocal("pIn")),[...d.call(e+"_zeroAffine",d.getLocal("pOut")),...d.ret([])]),d.call(e+"_fromMontgomeryAffine",d.getLocal("pIn"),b),d.call(e+"__reverseBytes",Z,d.i32_const(r),d.getLocal("pOut")),d.call(e+"__reverseBytes",k,d.i32_const(r),d.i32_add(d.getLocal("pOut"),d.i32_const(r))))}function lt(){const R=t.addFunction(e+"_UtoLEM");R.addParam("pIn","i32"),R.addParam("pOut","i32");const d=R.getCodeBuilder(),B=t.alloc(r*2),b=d.i32_const(B),Z=d.i32_const(B),k=d.i32_const(B+r);R.addCode(d.if(d.i32_and(d.i32_load8_u(d.getLocal("pIn")),d.i32_const(64)),[...d.call(e+"_zeroAffine",d.getLocal("pOut")),...d.ret([])]),d.call(e+"__reverseBytes",d.getLocal("pIn"),d.i32_const(r),Z),d.call(e+"__reverseBytes",d.i32_add(d.getLocal("pIn"),d.i32_const(r)),d.i32_const(r),k),d.call(e+"_toMontgomeryAffine",b,d.getLocal("pOut")))}function Tt(){const R=t.addFunction(e+"_CtoLEM");R.addParam("pIn","i32"),R.addParam("pOut","i32"),R.addLocal("firstByte","i32"),R.addLocal("greatest","i32");const d=R.getCodeBuilder(),B=t.alloc(r*2),b=d.i32_const(B),Z=d.i32_const(B+r);R.addCode(d.setLocal("firstByte",d.i32_load8_u(d.getLocal("pIn"))),d.if(d.i32_and(d.getLocal("firstByte"),d.i32_const(64)),[...d.call(e+"_zeroAffine",d.getLocal("pOut")),...d.ret([])]),d.setLocal("greatest",d.i32_and(d.getLocal("firstByte"),d.i32_const(128))),d.call(n+"_copy",d.getLocal("pIn"),Z),d.i32_store8(Z,d.i32_and(d.getLocal("firstByte"),d.i32_const(63))),d.call(e+"__reverseBytes",Z,d.i32_const(r),b),d.call(n+"_toMontgomery",b,d.getLocal("pOut")),d.call(n+"_square",d.getLocal("pOut"),Z),d.call(n+"_mul",d.getLocal("pOut"),Z,Z),d.call(n+"_add",Z,d.i32_const(a),Z),d.call(n+"_sqrt",Z,Z),d.call(n+"_neg",Z,b),d.if(d.i32_eq(d.call(n+"_sign",Z),d.i32_const(-1)),d.if(d.getLocal("greatest"),d.call(n+"_copy",Z,d.i32_add(d.getLocal("pOut"),d.i32_const(r))),d.call(n+"_neg",Z,d.i32_add(d.getLocal("pOut"),d.i32_const(r)))),d.if(d.getLocal("greatest"),d.call(n+"_neg",Z,d.i32_add(d.getLocal("pOut"),d.i32_const(r))),d.call(n+"_copy",Z,d.i32_add(d.getLocal("pOut"),d.i32_const(r))))))}function Bt(){const R=t.addFunction(e+"_inCurveAffine");R.addParam("pIn","i32"),R.setReturnType("i32");const d=R.getCodeBuilder(),B=d.getLocal("pIn"),b=d.i32_add(d.getLocal("pIn"),d.i32_const(r)),Z=d.i32_const(t.alloc(r)),k=d.i32_const(t.alloc(r));R.addCode(d.call(n+"_square",b,Z),d.call(n+"_square",B,k),d.call(n+"_mul",B,k,k),d.call(n+"_add",k,d.i32_const(a),k),d.ret(d.call(n+"_eq",Z,k)))}function Et(){const R=t.addFunction(e+"_inCurve");R.addParam("pIn","i32"),R.setReturnType("i32");const d=R.getCodeBuilder(),B=d.i32_const(t.alloc(r*2));R.addCode(d.call(e+"_toAffine",d.getLocal("pIn"),B),d.ret(d.call(e+"_inCurveAffine",B)))}return f(),o(),m(),h(),c(),l(),$(),I(),C(),p(),w(),A(),_(),u(),P(),H(),G(),E(),U(),J(),D(),S(),F(),v(),N(),Bt(),Et(),X(),M(),K(),tt(),ot(),lt(),Tt(),Xc(t,e+"_batchLEMtoU",e+"_LEMtoU",r*2,r*2),Xc(t,e+"_batchLEMtoC",e+"_LEMtoC",r*2,r),Xc(t,e+"_batchUtoLEM",e+"_UtoLEM",r*2,r*2),Xc(t,e+"_batchCtoLEM",e+"_CtoLEM",r,r*2,!0),Xc(t,e+"_batchToJacobian",e+"_toJacobian",r*2,r*3,!0),Y3(t,e,e+"_multiexp",e+"_add",r*3),Y3(t,e,e+"_multiexpAffine",e+"_addMixed",r*2),X3(t,e+"_timesScalar",r*3,e+"_add",e+"_double",e+"_sub",e+"_copy",e+"_zero"),X3(t,e+"_timesScalarAffine",r*2,e+"_addMixed",e+"_double",e+"_subMixed",e+"_copyAffine",e+"_zero"),t.exportFunction(e+"_isZero"),t.exportFunction(e+"_isZeroAffine"),t.exportFunction(e+"_eq"),t.exportFunction(e+"_eqMixed"),t.exportFunction(e+"_eqAffine"),t.exportFunction(e+"_copy"),t.exportFunction(e+"_copyAffine"),t.exportFunction(e+"_zero"),t.exportFunction(e+"_zeroAffine"),t.exportFunction(e+"_double"),t.exportFunction(e+"_doubleAffine"),t.exportFunction(e+"_add"),t.exportFunction(e+"_addMixed"),t.exportFunction(e+"_addAffine"),t.exportFunction(e+"_neg"),t.exportFunction(e+"_negAffine"),t.exportFunction(e+"_sub"),t.exportFunction(e+"_subMixed"),t.exportFunction(e+"_subAffine"),t.exportFunction(e+"_fromMontgomery"),t.exportFunction(e+"_fromMontgomeryAffine"),t.exportFunction(e+"_toMontgomery"),t.exportFunction(e+"_toMontgomeryAffine"),t.exportFunction(e+"_timesScalar"),t.exportFunction(e+"_timesScalarAffine"),t.exportFunction(e+"_normalize"),t.exportFunction(e+"_LEMtoU"),t.exportFunction(e+"_LEMtoC"),t.exportFunction(e+"_UtoLEM"),t.exportFunction(e+"_CtoLEM"),t.exportFunction(e+"_batchLEMtoU"),t.exportFunction(e+"_batchLEMtoC"),t.exportFunction(e+"_batchUtoLEM"),t.exportFunction(e+"_batchCtoLEM"),t.exportFunction(e+"_toAffine"),t.exportFunction(e+"_toJacobian"),t.exportFunction(e+"_batchToAffine"),t.exportFunction(e+"_batchToJacobian"),t.exportFunction(e+"_inCurve"),t.exportFunction(e+"_inCurveAffine"),e};const{isOdd:_v,modInv:t8,modPow:Yc}=en,ff=yi;var U9=function(t,e,n,a,i){const o=t.modules[a].n64*8,l=t.modules[n].n64*8,c=t.modules[a].q;let h=c-1n,m=0;for(;!_v(h);)m++,h=h>>1n;let p=2n;for(;Yc(p,c>>1n,c)===1n;)p=p+1n;const C=new Array(m+1);C[m]=Yc(p,h,c);let A=m-1;for(;A>=0;)C[A]=Yc(C[A+1],2n,c),A--;const w=[],I=(1n<<BigInt(o*8))%c;for(let B=0;B<C.length;B++){const b=C[B]*I%c;w.push(...ff.bigInt2BytesLE(b,o))}const v=t.alloc(w),F=new Array(m+1);F[0]=1n;for(let B=1;B<=m;B++)F[B]=F[B-1]*2n;const S=[];for(let B=0;B<=m;B++){const b=t8(F[B],c)*I%c;S.push(...ff.bigInt2BytesLE(b,o))}const D=t.alloc(S),P=Yc(p,2n,c),u=[],_=[];for(let B=0;B<=m;B++){const b=Yc(P,2n**BigInt(B),c),Z=t8(c+1n-b,c);u.push(...ff.bigInt2BytesLE(b*I%c,o)),_.push(...ff.bigInt2BytesLE(Z*I%c,o))}const G=t.alloc(u),H=t.alloc(_);function J(B){let b=0;for(let Z=0;Z<8;Z++)B&1<<Z&&(b=b|128>>Z);return b}const U=Array(256);for(let B=0;B<256;B++)U[B]=J(B);const E=t.alloc(U);function M(){const B=t.addFunction(e+"__log2");B.addParam("n","i32"),B.setReturnType("i32"),B.addLocal("bits","i32"),B.addLocal("aux","i32");const b=B.getCodeBuilder();B.addCode(b.setLocal("aux",b.i32_shr_u(b.getLocal("n"),b.i32_const(1)))),B.addCode(b.setLocal("bits",b.i32_const(0))),B.addCode(b.block(b.loop(b.br_if(1,b.i32_eqz(b.getLocal("aux"))),b.setLocal("aux",b.i32_shr_u(b.getLocal("aux"),b.i32_const(1))),b.setLocal("bits",b.i32_add(b.getLocal("bits"),b.i32_const(1))),b.br(0)))),B.addCode(b.if(b.i32_ne(b.getLocal("n"),b.i32_shl(b.i32_const(1),b.getLocal("bits"))),b.unreachable())),B.addCode(b.if(b.i32_gt_u(b.getLocal("bits"),b.i32_const(m)),b.unreachable())),B.addCode(b.getLocal("bits"))}function N(){const B=t.addFunction(e+"_fft");B.addParam("px","i32"),B.addParam("n","i32"),B.addLocal("bits","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(o));B.addCode(b.setLocal("bits",b.call(e+"__log2",b.getLocal("n"))),b.call(a+"_one",Z),b.call(e+"_rawfft",b.getLocal("px"),b.getLocal("bits"),b.i32_const(0),Z))}function $(){const B=t.addFunction(e+"_ifft");B.addParam("px","i32"),B.addParam("n","i32"),B.addLocal("bits","i32"),B.addLocal("pInv2","i32");const b=B.getCodeBuilder();B.addCode(b.setLocal("bits",b.call(e+"__log2",b.getLocal("n"))),b.setLocal("pInv2",b.i32_add(b.i32_const(D),b.i32_mul(b.getLocal("bits"),b.i32_const(o)))),b.call(e+"_rawfft",b.getLocal("px"),b.getLocal("bits"),b.i32_const(1),b.getLocal("pInv2")))}function X(){const B=t.addFunction(e+"_rawfft");B.addParam("px","i32"),B.addParam("bits","i32"),B.addParam("reverse","i32"),B.addParam("mulFactor","i32"),B.addLocal("s","i32"),B.addLocal("k","i32"),B.addLocal("j","i32"),B.addLocal("m","i32"),B.addLocal("mdiv2","i32"),B.addLocal("n","i32"),B.addLocal("pwm","i32"),B.addLocal("idx1","i32"),B.addLocal("idx2","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(o)),k=b.i32_const(t.alloc(l)),x=b.i32_const(t.alloc(l));B.addCode(b.call(e+"__reversePermutation",b.getLocal("px"),b.getLocal("bits")),b.setLocal("n",b.i32_shl(b.i32_const(1),b.getLocal("bits"))),b.setLocal("s",b.i32_const(1)),b.block(b.loop(b.br_if(1,b.i32_gt_u(b.getLocal("s"),b.getLocal("bits"))),b.setLocal("m",b.i32_shl(b.i32_const(1),b.getLocal("s"))),b.setLocal("pwm",b.i32_add(b.i32_const(v),b.i32_mul(b.getLocal("s"),b.i32_const(o)))),b.setLocal("k",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_ge_u(b.getLocal("k"),b.getLocal("n"))),b.call(a+"_one",Z),b.setLocal("mdiv2",b.i32_shr_u(b.getLocal("m"),b.i32_const(1))),b.setLocal("j",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_ge_u(b.getLocal("j"),b.getLocal("mdiv2"))),b.setLocal("idx1",b.i32_add(b.getLocal("px"),b.i32_mul(b.i32_add(b.getLocal("k"),b.getLocal("j")),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("idx1"),b.i32_mul(b.getLocal("mdiv2"),b.i32_const(l)))),b.call(i,b.getLocal("idx2"),Z,k),b.call(n+"_copy",b.getLocal("idx1"),x),b.call(n+"_add",x,k,b.getLocal("idx1")),b.call(n+"_sub",x,k,b.getLocal("idx2")),b.call(a+"_mul",Z,b.getLocal("pwm"),Z),b.setLocal("j",b.i32_add(b.getLocal("j"),b.i32_const(1))),b.br(0))),b.setLocal("k",b.i32_add(b.getLocal("k"),b.getLocal("m"))),b.br(0))),b.setLocal("s",b.i32_add(b.getLocal("s"),b.i32_const(1))),b.br(0))),b.call(e+"__fftFinal",b.getLocal("px"),b.getLocal("bits"),b.getLocal("reverse"),b.getLocal("mulFactor")))}function K(){const B=t.addFunction(e+"__fftFinal");B.addParam("px","i32"),B.addParam("bits","i32"),B.addParam("reverse","i32"),B.addParam("mulFactor","i32"),B.addLocal("n","i32"),B.addLocal("ndiv2","i32"),B.addLocal("pInv2","i32"),B.addLocal("i","i32"),B.addLocal("mask","i32"),B.addLocal("idx1","i32"),B.addLocal("idx2","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(l));B.addCode(b.if(b.i32_and(b.i32_eqz(b.getLocal("reverse")),b.call(a+"_isOne",b.getLocal("mulFactor"))),b.ret([])),b.setLocal("n",b.i32_shl(b.i32_const(1),b.getLocal("bits"))),b.setLocal("mask",b.i32_sub(b.getLocal("n"),b.i32_const(1))),b.setLocal("i",b.i32_const(1)),b.setLocal("ndiv2",b.i32_shr_u(b.getLocal("n"),b.i32_const(1))),b.block(b.loop(b.br_if(1,b.i32_ge_u(b.getLocal("i"),b.getLocal("ndiv2"))),b.setLocal("idx1",b.i32_add(b.getLocal("px"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("px"),b.i32_mul(b.i32_sub(b.getLocal("n"),b.getLocal("i")),b.i32_const(l)))),b.if(b.getLocal("reverse"),b.if(b.call(a+"_isOne",b.getLocal("mulFactor")),[...b.call(n+"_copy",b.getLocal("idx1"),Z),...b.call(n+"_copy",b.getLocal("idx2"),b.getLocal("idx1")),...b.call(n+"_copy",Z,b.getLocal("idx2"))],[...b.call(n+"_copy",b.getLocal("idx1"),Z),...b.call(i,b.getLocal("idx2"),b.getLocal("mulFactor"),b.getLocal("idx1")),...b.call(i,Z,b.getLocal("mulFactor"),b.getLocal("idx2"))]),b.if(b.call(a+"_isOne",b.getLocal("mulFactor")),[],[...b.call(i,b.getLocal("idx1"),b.getLocal("mulFactor"),b.getLocal("idx1")),...b.call(i,b.getLocal("idx2"),b.getLocal("mulFactor"),b.getLocal("idx2"))])),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))),b.if(b.call(a+"_isOne",b.getLocal("mulFactor")),[],[...b.call(i,b.getLocal("px"),b.getLocal("mulFactor"),b.getLocal("px")),...b.setLocal("idx2",b.i32_add(b.getLocal("px"),b.i32_mul(b.getLocal("ndiv2"),b.i32_const(l)))),...b.call(i,b.getLocal("idx2"),b.getLocal("mulFactor"),b.getLocal("idx2"))]))}function ot(){const B=t.addFunction(e+"__reversePermutation");B.addParam("px","i32"),B.addParam("bits","i32"),B.addLocal("n","i32"),B.addLocal("i","i32"),B.addLocal("ri","i32"),B.addLocal("idx1","i32"),B.addLocal("idx2","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(l));B.addCode(b.setLocal("n",b.i32_shl(b.i32_const(1),b.getLocal("bits"))),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("px"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("ri",b.call(e+"__rev",b.getLocal("i"),b.getLocal("bits"))),b.setLocal("idx2",b.i32_add(b.getLocal("px"),b.i32_mul(b.getLocal("ri"),b.i32_const(l)))),b.if(b.i32_lt_u(b.getLocal("i"),b.getLocal("ri")),[...b.call(n+"_copy",b.getLocal("idx1"),Z),...b.call(n+"_copy",b.getLocal("idx2"),b.getLocal("idx1")),...b.call(n+"_copy",Z,b.getLocal("idx2"))]),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function tt(){const B=t.addFunction(e+"__rev");B.addParam("x","i32"),B.addParam("bits","i32"),B.setReturnType("i32");const b=B.getCodeBuilder();B.addCode(b.i32_rotl(b.i32_add(b.i32_add(b.i32_shl(b.i32_load8_u(b.i32_and(b.getLocal("x"),b.i32_const(255)),E,0),b.i32_const(24)),b.i32_shl(b.i32_load8_u(b.i32_and(b.i32_shr_u(b.getLocal("x"),b.i32_const(8)),b.i32_const(255)),E,0),b.i32_const(16))),b.i32_add(b.i32_shl(b.i32_load8_u(b.i32_and(b.i32_shr_u(b.getLocal("x"),b.i32_const(16)),b.i32_const(255)),E,0),b.i32_const(8)),b.i32_load8_u(b.i32_and(b.i32_shr_u(b.getLocal("x"),b.i32_const(24)),b.i32_const(255)),E,0))),b.getLocal("bits")))}function lt(){const B=t.addFunction(e+"_fftJoin");B.addParam("pBuff1","i32"),B.addParam("pBuff2","i32"),B.addParam("n","i32"),B.addParam("first","i32"),B.addParam("inc","i32"),B.addLocal("idx1","i32"),B.addLocal("idx2","i32"),B.addLocal("i","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(o)),k=b.i32_const(t.alloc(l)),x=b.i32_const(t.alloc(l));B.addCode(b.call(a+"_copy",b.getLocal("first"),Z),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff1"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff2"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.call(i,b.getLocal("idx2"),Z,k),b.call(n+"_copy",b.getLocal("idx1"),x),b.call(n+"_add",x,k,b.getLocal("idx1")),b.call(n+"_sub",x,k,b.getLocal("idx2")),b.call(a+"_mul",Z,b.getLocal("inc"),Z),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function Tt(){const B=t.addFunction(e+"_fftJoinExt");B.addParam("pBuff1","i32"),B.addParam("pBuff2","i32"),B.addParam("n","i32"),B.addParam("first","i32"),B.addParam("inc","i32"),B.addParam("totalBits","i32"),B.addLocal("idx1","i32"),B.addLocal("idx2","i32"),B.addLocal("i","i32"),B.addLocal("pShiftToM","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(o)),k=b.i32_const(t.alloc(l));B.addCode(b.setLocal("pShiftToM",b.i32_add(b.i32_const(G),b.i32_mul(b.getLocal("totalBits"),b.i32_const(o)))),b.call(a+"_copy",b.getLocal("first"),Z),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff1"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff2"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.call(n+"_add",b.getLocal("idx1"),b.getLocal("idx2"),k),b.call(i,b.getLocal("idx2"),b.getLocal("pShiftToM"),b.getLocal("idx2")),b.call(n+"_add",b.getLocal("idx1"),b.getLocal("idx2"),b.getLocal("idx2")),b.call(i,b.getLocal("idx2"),Z,b.getLocal("idx2")),b.call(n+"_copy",k,b.getLocal("idx1")),b.call(a+"_mul",Z,b.getLocal("inc"),Z),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function Bt(){const B=t.addFunction(e+"_fftJoinExtInv");B.addParam("pBuff1","i32"),B.addParam("pBuff2","i32"),B.addParam("n","i32"),B.addParam("first","i32"),B.addParam("inc","i32"),B.addParam("totalBits","i32"),B.addLocal("idx1","i32"),B.addLocal("idx2","i32"),B.addLocal("i","i32"),B.addLocal("pShiftToM","i32"),B.addLocal("pSConst","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(o)),k=b.i32_const(t.alloc(l));B.addCode(b.setLocal("pShiftToM",b.i32_add(b.i32_const(G),b.i32_mul(b.getLocal("totalBits"),b.i32_const(o)))),b.setLocal("pSConst",b.i32_add(b.i32_const(H),b.i32_mul(b.getLocal("totalBits"),b.i32_const(o)))),b.call(a+"_copy",b.getLocal("first"),Z),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff1"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff2"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.call(i,b.getLocal("idx2"),Z,k),b.call(n+"_sub",b.getLocal("idx1"),k,b.getLocal("idx2")),b.call(i,b.getLocal("idx2"),b.getLocal("pSConst"),b.getLocal("idx2")),b.call(i,b.getLocal("idx1"),b.getLocal("pShiftToM"),b.getLocal("idx1")),b.call(n+"_sub",k,b.getLocal("idx1"),b.getLocal("idx1")),b.call(i,b.getLocal("idx1"),b.getLocal("pSConst"),b.getLocal("idx1")),b.call(a+"_mul",Z,b.getLocal("inc"),Z),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function Et(){const B=t.addFunction(e+"_prepareLagrangeEvaluation");B.addParam("pBuff1","i32"),B.addParam("pBuff2","i32"),B.addParam("n","i32"),B.addParam("first","i32"),B.addParam("inc","i32"),B.addParam("totalBits","i32"),B.addLocal("idx1","i32"),B.addLocal("idx2","i32"),B.addLocal("i","i32"),B.addLocal("pShiftToM","i32"),B.addLocal("pSConst","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(o)),k=b.i32_const(t.alloc(l));B.addCode(b.setLocal("pShiftToM",b.i32_add(b.i32_const(G),b.i32_mul(b.getLocal("totalBits"),b.i32_const(o)))),b.setLocal("pSConst",b.i32_add(b.i32_const(H),b.i32_mul(b.getLocal("totalBits"),b.i32_const(o)))),b.call(a+"_copy",b.getLocal("first"),Z),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff1"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff2"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.call(i,b.getLocal("idx1"),b.getLocal("pShiftToM"),k),b.call(n+"_sub",b.getLocal("idx2"),k,k),b.call(n+"_sub",b.getLocal("idx1"),b.getLocal("idx2"),b.getLocal("idx2")),b.call(i,k,b.getLocal("pSConst"),b.getLocal("idx1")),b.call(i,b.getLocal("idx2"),Z,b.getLocal("idx2")),b.call(a+"_mul",Z,b.getLocal("inc"),Z),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function R(){const B=t.addFunction(e+"_fftMix");B.addParam("pBuff","i32"),B.addParam("n","i32"),B.addParam("exp","i32"),B.addLocal("nGroups","i32"),B.addLocal("nPerGroup","i32"),B.addLocal("nPerGroupDiv2","i32"),B.addLocal("pairOffset","i32"),B.addLocal("idx1","i32"),B.addLocal("idx2","i32"),B.addLocal("i","i32"),B.addLocal("j","i32"),B.addLocal("pwm","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(o)),k=b.i32_const(t.alloc(l)),x=b.i32_const(t.alloc(l));B.addCode(b.setLocal("nPerGroup",b.i32_shl(b.i32_const(1),b.getLocal("exp"))),b.setLocal("nPerGroupDiv2",b.i32_shr_u(b.getLocal("nPerGroup"),b.i32_const(1))),b.setLocal("nGroups",b.i32_shr_u(b.getLocal("n"),b.getLocal("exp"))),b.setLocal("pairOffset",b.i32_mul(b.getLocal("nPerGroupDiv2"),b.i32_const(l))),b.setLocal("pwm",b.i32_add(b.i32_const(v),b.i32_mul(b.getLocal("exp"),b.i32_const(o)))),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("nGroups"))),b.call(a+"_one",Z),b.setLocal("j",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("j"),b.getLocal("nPerGroupDiv2"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.i32_add(b.i32_mul(b.getLocal("i"),b.getLocal("nPerGroup")),b.getLocal("j")),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("idx1"),b.getLocal("pairOffset"))),b.call(i,b.getLocal("idx2"),Z,k),b.call(n+"_copy",b.getLocal("idx1"),x),b.call(n+"_add",x,k,b.getLocal("idx1")),b.call(n+"_sub",x,k,b.getLocal("idx2")),b.call(a+"_mul",Z,b.getLocal("pwm"),Z),b.setLocal("j",b.i32_add(b.getLocal("j"),b.i32_const(1))),b.br(0))),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function d(){const B=t.addFunction(e+"_fftFinal");B.addParam("pBuff","i32"),B.addParam("n","i32"),B.addParam("factor","i32"),B.addLocal("idx1","i32"),B.addLocal("idx2","i32"),B.addLocal("i","i32"),B.addLocal("ndiv2","i32");const b=B.getCodeBuilder(),Z=b.i32_const(t.alloc(l));B.addCode(b.setLocal("ndiv2",b.i32_shr_u(b.getLocal("n"),b.i32_const(1))),b.if(b.i32_and(b.getLocal("n"),b.i32_const(1)),b.call(i,b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.getLocal("ndiv2"),b.i32_const(l))),b.getLocal("factor"),b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.getLocal("ndiv2"),b.i32_const(l))))),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_ge_u(b.getLocal("i"),b.getLocal("ndiv2"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.i32_sub(b.i32_sub(b.getLocal("n"),b.i32_const(1)),b.getLocal("i")),b.i32_const(l)))),b.call(i,b.getLocal("idx2"),b.getLocal("factor"),Z),b.call(i,b.getLocal("idx1"),b.getLocal("factor"),b.getLocal("idx2")),b.call(n+"_copy",Z,b.getLocal("idx1")),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}tt(),ot(),K(),X(),M(),N(),$(),lt(),Tt(),Bt(),R(),d(),Et(),t.exportFunction(e+"_fft"),t.exportFunction(e+"_ifft"),t.exportFunction(e+"_rawfft"),t.exportFunction(e+"_fftJoin"),t.exportFunction(e+"_fftJoinExt"),t.exportFunction(e+"_fftJoinExtInv"),t.exportFunction(e+"_fftMix"),t.exportFunction(e+"_fftFinal"),t.exportFunction(e+"_prepareLagrangeEvaluation")},M9=function(t,e,n){const i=t.modules[n].n64*8;function r(){const f=t.addFunction(e+"_zero");f.addParam("px","i32"),f.addParam("n","i32"),f.addLocal("lastp","i32"),f.addLocal("p","i32");const l=f.getCodeBuilder();f.addCode(l.setLocal("p",l.getLocal("px")),l.setLocal("lastp",l.i32_add(l.getLocal("px"),l.i32_mul(l.getLocal("n"),l.i32_const(i)))),l.block(l.loop(l.br_if(1,l.i32_eq(l.getLocal("p"),l.getLocal("lastp"))),l.call(n+"_zero",l.getLocal("p")),l.setLocal("p",l.i32_add(l.getLocal("p"),l.i32_const(i))),l.br(0))))}function o(){const f=t.addFunction(e+"_constructLC");f.addParam("ppolynomials","i32"),f.addParam("psignals","i32"),f.addParam("nSignals","i32"),f.addParam("pres","i32"),f.addLocal("i","i32"),f.addLocal("j","i32"),f.addLocal("pp","i32"),f.addLocal("ps","i32"),f.addLocal("pd","i32"),f.addLocal("ncoefs","i32");const l=f.getCodeBuilder(),c=l.i32_const(t.alloc(i));f.addCode(l.setLocal("i",l.i32_const(0)),l.setLocal("pp",l.getLocal("ppolynomials")),l.setLocal("ps",l.getLocal("psignals")),l.block(l.loop(l.br_if(1,l.i32_eq(l.getLocal("i"),l.getLocal("nSignals"))),l.setLocal("ncoefs",l.i32_load(l.getLocal("pp"))),l.setLocal("pp",l.i32_add(l.getLocal("pp"),l.i32_const(4))),l.setLocal("j",l.i32_const(0)),l.block(l.loop(l.br_if(1,l.i32_eq(l.getLocal("j"),l.getLocal("ncoefs"))),l.setLocal("pd",l.i32_add(l.getLocal("pres"),l.i32_mul(l.i32_load(l.getLocal("pp")),l.i32_const(i)))),l.setLocal("pp",l.i32_add(l.getLocal("pp"),l.i32_const(4))),l.call(n+"_mul",l.getLocal("ps"),l.getLocal("pp"),c),l.call(n+"_add",c,l.getLocal("pd"),l.getLocal("pd")),l.setLocal("pp",l.i32_add(l.getLocal("pp"),l.i32_const(i))),l.setLocal("j",l.i32_add(l.getLocal("j"),l.i32_const(1))),l.br(0))),l.setLocal("ps",l.i32_add(l.getLocal("ps"),l.i32_const(i))),l.setLocal("i",l.i32_add(l.getLocal("i"),l.i32_const(1))),l.br(0))))}return r(),o(),t.exportFunction(e+"_zero"),t.exportFunction(e+"_constructLC"),e},D9=function(t,e,n){const i=t.modules[n].n64*8;function r(){const l=t.addFunction(e+"_buildABC");l.addParam("pCoefs","i32"),l.addParam("nCoefs","i32"),l.addParam("pWitness","i32"),l.addParam("pA","i32"),l.addParam("pB","i32"),l.addParam("pC","i32"),l.addParam("offsetOut","i32"),l.addParam("nOut","i32"),l.addParam("offsetWitness","i32"),l.addParam("nWitness","i32"),l.addLocal("it","i32"),l.addLocal("ita","i32"),l.addLocal("itb","i32"),l.addLocal("last","i32"),l.addLocal("m","i32"),l.addLocal("c","i32"),l.addLocal("s","i32"),l.addLocal("pOut","i32");const c=l.getCodeBuilder(),h=c.i32_const(t.alloc(i));l.addCode(c.setLocal("ita",c.getLocal("pA")),c.setLocal("itb",c.getLocal("pB")),c.setLocal("last",c.i32_add(c.getLocal("pA"),c.i32_mul(c.getLocal("nOut"),c.i32_const(i)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("ita"),c.getLocal("last"))),c.call(n+"_zero",c.getLocal("ita")),c.call(n+"_zero",c.getLocal("itb")),c.setLocal("ita",c.i32_add(c.getLocal("ita"),c.i32_const(i))),c.setLocal("itb",c.i32_add(c.getLocal("itb"),c.i32_const(i))),c.br(0))),c.setLocal("it",c.getLocal("pCoefs")),c.setLocal("last",c.i32_add(c.getLocal("pCoefs"),c.i32_mul(c.getLocal("nCoefs"),c.i32_const(i+12)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("it"),c.getLocal("last"))),c.setLocal("s",c.i32_load(c.getLocal("it"),8)),c.if(c.i32_or(c.i32_lt_u(c.getLocal("s"),c.getLocal("offsetWitness")),c.i32_ge_u(c.getLocal("s"),c.i32_add(c.getLocal("offsetWitness"),c.getLocal("nWitness")))),[...c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(i+12))),...c.br(1)]),c.setLocal("m",c.i32_load(c.getLocal("it"))),c.if(c.i32_eq(c.getLocal("m"),c.i32_const(0)),c.setLocal("pOut",c.getLocal("pA")),c.if(c.i32_eq(c.getLocal("m"),c.i32_const(1)),c.setLocal("pOut",c.getLocal("pB")),[...c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(i+12))),...c.br(1)])),c.setLocal("c",c.i32_load(c.getLocal("it"),4)),c.if(c.i32_or(c.i32_lt_u(c.getLocal("c"),c.getLocal("offsetOut")),c.i32_ge_u(c.getLocal("c"),c.i32_add(c.getLocal("offsetOut"),c.getLocal("nOut")))),[...c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(i+12))),...c.br(1)]),c.setLocal("pOut",c.i32_add(c.getLocal("pOut"),c.i32_mul(c.i32_sub(c.getLocal("c"),c.getLocal("offsetOut")),c.i32_const(i)))),c.call(n+"_mul",c.i32_add(c.getLocal("pWitness"),c.i32_mul(c.i32_sub(c.getLocal("s"),c.getLocal("offsetWitness")),c.i32_const(i))),c.i32_add(c.getLocal("it"),c.i32_const(12)),h),c.call(n+"_add",c.getLocal("pOut"),h,c.getLocal("pOut")),c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(i+12))),c.br(0))),c.setLocal("ita",c.getLocal("pA")),c.setLocal("itb",c.getLocal("pB")),c.setLocal("it",c.getLocal("pC")),c.setLocal("last",c.i32_add(c.getLocal("pA"),c.i32_mul(c.getLocal("nOut"),c.i32_const(i)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("ita"),c.getLocal("last"))),c.call(n+"_mul",c.getLocal("ita"),c.getLocal("itb"),c.getLocal("it")),c.setLocal("ita",c.i32_add(c.getLocal("ita"),c.i32_const(i))),c.setLocal("itb",c.i32_add(c.getLocal("itb"),c.i32_const(i))),c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(i))),c.br(0))))}function o(){const l=t.addFunction(e+"_joinABC");l.addParam("pA","i32"),l.addParam("pB","i32"),l.addParam("pC","i32"),l.addParam("n","i32"),l.addParam("pP","i32"),l.addLocal("ita","i32"),l.addLocal("itb","i32"),l.addLocal("itc","i32"),l.addLocal("itp","i32"),l.addLocal("last","i32");const c=l.getCodeBuilder(),h=c.i32_const(t.alloc(i));l.addCode(c.setLocal("ita",c.getLocal("pA")),c.setLocal("itb",c.getLocal("pB")),c.setLocal("itc",c.getLocal("pC")),c.setLocal("itp",c.getLocal("pP")),c.setLocal("last",c.i32_add(c.getLocal("pA"),c.i32_mul(c.getLocal("n"),c.i32_const(i)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("ita"),c.getLocal("last"))),c.call(n+"_mul",c.getLocal("ita"),c.getLocal("itb"),h),c.call(n+"_sub",h,c.getLocal("itc"),c.getLocal("itp")),c.setLocal("ita",c.i32_add(c.getLocal("ita"),c.i32_const(i))),c.setLocal("itb",c.i32_add(c.getLocal("itb"),c.i32_const(i))),c.setLocal("itc",c.i32_add(c.getLocal("itc"),c.i32_const(i))),c.setLocal("itp",c.i32_add(c.getLocal("itp"),c.i32_const(i))),c.br(0))))}function f(){const l=t.addFunction(e+"_batchAdd");l.addParam("pa","i32"),l.addParam("pb","i32"),l.addParam("n","i32"),l.addParam("pr","i32"),l.addLocal("ita","i32"),l.addLocal("itb","i32"),l.addLocal("itr","i32"),l.addLocal("last","i32");const c=l.getCodeBuilder();l.addCode(c.setLocal("ita",c.getLocal("pa")),c.setLocal("itb",c.getLocal("pb")),c.setLocal("itr",c.getLocal("pr")),c.setLocal("last",c.i32_add(c.getLocal("pa"),c.i32_mul(c.getLocal("n"),c.i32_const(i)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("ita"),c.getLocal("last"))),c.call(n+"_add",c.getLocal("ita"),c.getLocal("itb"),c.getLocal("itr")),c.setLocal("ita",c.i32_add(c.getLocal("ita"),c.i32_const(i))),c.setLocal("itb",c.i32_add(c.getLocal("itb"),c.i32_const(i))),c.setLocal("itr",c.i32_add(c.getLocal("itr"),c.i32_const(i))),c.br(0))))}return r(),o(),f(),t.exportFunction(e+"_buildABC"),t.exportFunction(e+"_joinABC"),t.exportFunction(e+"_batchAdd"),e},z9=function(t,e,n,a,i,r,o,f){const l=t.addFunction(e);l.addParam("pIn","i32"),l.addParam("n","i32"),l.addParam("pFirst","i32"),l.addParam("pInc","i32"),l.addParam("pOut","i32"),l.addLocal("pOldFree","i32"),l.addLocal("i","i32"),l.addLocal("pFrom","i32"),l.addLocal("pTo","i32");const c=l.getCodeBuilder(),h=c.i32_const(t.alloc(o));l.addCode(c.setLocal("pFrom",c.getLocal("pIn")),c.setLocal("pTo",c.getLocal("pOut"))),l.addCode(c.call(a+"_copy",c.getLocal("pFirst"),h)),l.addCode(c.setLocal("i",c.i32_const(0)),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("i"),c.getLocal("n"))),c.call(f,c.getLocal("pFrom"),h,c.getLocal("pTo")),c.setLocal("pFrom",c.i32_add(c.getLocal("pFrom"),c.i32_const(i))),c.setLocal("pTo",c.i32_add(c.getLocal("pTo"),c.i32_const(r))),c.call(a+"_mul",h,c.getLocal("pInc"),h),c.setLocal("i",c.i32_add(c.getLocal("i"),c.i32_const(1))),c.br(0)))),t.exportFunction(e)};const Gt=yi,xv=k5,wv=R9,e8=F9,Lv=N9,n8=k9,Eu=U9,Av=M9,Ev=D9,t0=z9,{bitLength:Cv,modInv:vv,isOdd:s8,isNegative:Pv}=en;var Iv=function(t,e){const n=e||"bn128";if(t.modules[n])return n;const a=21888242871839275222246405745257275088696311157297823662689037894645226208583n,i=21888242871839275222246405745257275088548364400416034343698204186575808495617n,r=Math.floor((Cv(a-1n)-1)/64)+1,o=r*8,f=o,l=o,c=l*2,h=l*12,m=t.alloc(Gt.bigInt2BytesLE(i,f)),p=xv(t,a,"f1m");wv(t,i,"fr","frm");const C=t.alloc(Gt.bigInt2BytesLE(S(3n),l)),A=n8(t,"g1m","f1m",C);Eu(t,"frm","frm","frm","frm_mul"),Av(t,"pol","frm"),Ev(t,"qap","frm");const w=e8(t,"f1m_neg","f2m","f1m"),I=t.alloc([...Gt.bigInt2BytesLE(S(19485874751759354771024239261021720505790618469301721065564631296452457478373n),l),...Gt.bigInt2BytesLE(S(266929791119991161246907387137283842545076965332900288569378510910307636690n),l)]),v=n8(t,"g2m","f2m",I);function F(st,g){const y=t.addFunction(st);y.addParam("pG","i32"),y.addParam("pFr","i32"),y.addParam("pr","i32");const V=y.getCodeBuilder(),W=V.i32_const(t.alloc(o));y.addCode(V.call("frm_fromMontgomery",V.getLocal("pFr"),W),V.call(g,V.getLocal("pG"),W,V.i32_const(o),V.getLocal("pr"))),t.exportFunction(st)}F("g1m_timesFr","g1m_timesScalar"),Eu(t,"g1m","g1m","frm","g1m_timesFr"),F("g2m_timesFr","g2m_timesScalar"),Eu(t,"g2m","g2m","frm","g2m_timesFr"),F("g1m_timesFrAffine","g1m_timesScalarAffine"),F("g2m_timesFrAffine","g2m_timesScalarAffine"),t0(t,"frm_batchApplyKey","fmr","frm",o,o,o,"frm_mul"),t0(t,"g1m_batchApplyKey","g1m","frm",o*3,o*3,o,"g1m_timesFr"),t0(t,"g1m_batchApplyKeyMixed","g1m","frm",o*2,o*3,o,"g1m_timesFrAffine"),t0(t,"g2m_batchApplyKey","g2m","frm",o*2*3,o*3*2,o,"g2m_timesFr"),t0(t,"g2m_batchApplyKeyMixed","g2m","frm",o*2*2,o*3*2,o,"g2m_timesFrAffine");function S(st){return BigInt(st)*(1n<<BigInt(l*8))%a}const D=[1n,2n,1n],P=t.alloc([...Gt.bigInt2BytesLE(S(D[0]),l),...Gt.bigInt2BytesLE(S(D[1]),l),...Gt.bigInt2BytesLE(S(D[2]),l)]),u=[0n,1n,0n],_=t.alloc([...Gt.bigInt2BytesLE(S(u[0]),l),...Gt.bigInt2BytesLE(S(u[1]),l),...Gt.bigInt2BytesLE(S(u[2]),l)]),G=[[10857046999023057135944570762232829481370756359578518086990519993285655852781n,11559732032986387107991004021392285783925812861821192530917403151452391805634n],[8495653923123431417604973247489272438418190587263600148770280649306958101930n,4082367875863433681332203403145435568316851327593401208105741076214120093531n],[1n,0n]],H=t.alloc([...Gt.bigInt2BytesLE(S(G[0][0]),l),...Gt.bigInt2BytesLE(S(G[0][1]),l),...Gt.bigInt2BytesLE(S(G[1][0]),l),...Gt.bigInt2BytesLE(S(G[1][1]),l),...Gt.bigInt2BytesLE(S(G[2][0]),l),...Gt.bigInt2BytesLE(S(G[2][1]),l)]),J=[[0n,0n],[1n,0n],[0n,0n]],U=t.alloc([...Gt.bigInt2BytesLE(S(J[0][0]),l),...Gt.bigInt2BytesLE(S(J[0][1]),l),...Gt.bigInt2BytesLE(S(J[1][0]),l),...Gt.bigInt2BytesLE(S(J[1][1]),l),...Gt.bigInt2BytesLE(S(J[2][0]),l),...Gt.bigInt2BytesLE(S(J[2][1]),l)]),E=t.alloc([...Gt.bigInt2BytesLE(S(1),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l),...Gt.bigInt2BytesLE(S(0),l)]),M=t.alloc([...Gt.bigInt2BytesLE(S(9),l),...Gt.bigInt2BytesLE(S(1),l)]),N=t.alloc([...Gt.bigInt2BytesLE(S(vv(2n,a)),l),...Gt.bigInt2BytesLE(0n,l)]),$=M,X=t.alloc([...Gt.bigInt2BytesLE(S(19485874751759354771024239261021720505790618469301721065564631296452457478373n),l),...Gt.bigInt2BytesLE(S(266929791119991161246907387137283842545076965332900288569378510910307636690n),l)]);function K(){const st=t.addFunction(n+"_mulNR6");st.addParam("x","i32"),st.addParam("pr","i32");const g=st.getCodeBuilder();st.addCode(g.call(w+"_mul",g.i32_const(M),g.getLocal("x"),g.getLocal("pr")))}K();const ot=Lv(t,n+"_mulNR6","f6m","f2m");function tt(){const st=t.addFunction(n+"_mulNR12");st.addParam("x","i32"),st.addParam("pr","i32");const g=st.getCodeBuilder();st.addCode(g.call(w+"_mul",g.i32_const(M),g.i32_add(g.getLocal("x"),g.i32_const(o*4)),g.getLocal("pr")),g.call(w+"_copy",g.getLocal("x"),g.i32_add(g.getLocal("pr"),g.i32_const(o*2))),g.call(w+"_copy",g.i32_add(g.getLocal("x"),g.i32_const(o*2)),g.i32_add(g.getLocal("pr"),g.i32_const(o*4))))}tt();const lt=e8(t,n+"_mulNR12","ftm",ot),Bt=yt(29793968203157093288n),Et=t.alloc(Bt),R=3*c,d=Bt.length-1,b=Bt.reduce((st,g)=>st+(g!=0?1:0),0)+d+1,Z=3*2*o,k=3*o*2+b*R;t.modules[n]={n64:r,pG1gen:P,pG1zero:_,pG1b:C,pG2gen:H,pG2zero:U,pG2b:I,pq:t.modules.f1m.pq,pr:m,pOneT:E,prePSize:Z,preQSize:k,r:i.toString(),q:a.toString()};const x=4965661367192848881n;function at(st){let g=st;const y=[];for(;g>0n;){if(s8(g)){const V=2-Number(g%4n);y.push(V),g=g-BigInt(V)}else y.push(0);g=g>>1n}return y}function yt(st){let g=st;const y=[];for(;g>0n;)s8(g)?y.push(1):y.push(0),g=g>>1n;return y}function gt(){const st=t.addFunction(n+"_prepareG1");st.addParam("pP","i32"),st.addParam("ppreP","i32");const g=st.getCodeBuilder();st.addCode(g.call(A+"_normalize",g.getLocal("pP"),g.getLocal("ppreP")))}function _t(){const st=t.addFunction(n+"_prepAddStep");st.addParam("pQ","i32"),st.addParam("pR","i32"),st.addParam("pCoef","i32");const g=st.getCodeBuilder(),y=g.getLocal("pQ"),V=g.i32_add(g.getLocal("pQ"),g.i32_const(c)),W=g.getLocal("pR"),q=g.i32_add(g.getLocal("pR"),g.i32_const(c)),et=g.i32_add(g.getLocal("pR"),g.i32_const(2*c)),Q=g.getLocal("pCoef"),rt=g.i32_add(g.getLocal("pCoef"),g.i32_const(c)),ft=g.i32_add(g.getLocal("pCoef"),g.i32_const(2*c)),dt=rt,it=g.i32_const(t.alloc(c)),ht=g.i32_const(t.alloc(c)),Pt=g.i32_const(t.alloc(c)),Ct=g.i32_const(t.alloc(c)),pt=g.i32_const(t.alloc(c)),Ft=g.i32_const(t.alloc(c)),Mt=g.i32_const(t.alloc(c));st.addCode(g.call(w+"_mul",y,et,dt),g.call(w+"_sub",W,dt,dt),g.call(w+"_mul",V,et,it),g.call(w+"_sub",q,it,it),g.call(w+"_square",dt,ht),g.call(w+"_square",it,Pt),g.call(w+"_mul",dt,ht,Ct),g.call(w+"_mul",W,ht,pt),g.call(w+"_add",pt,pt,Mt),g.call(w+"_mul",et,Pt,Ft),g.call(w+"_add",Ct,Ft,Ft),g.call(w+"_sub",Ft,Mt,Ft),g.call(w+"_mul",dt,Ft,W),g.call(w+"_mul",Ct,q,q),g.call(w+"_sub",pt,Ft,Mt),g.call(w+"_mul",it,Mt,Mt),g.call(w+"_sub",Mt,q,q),g.call(w+"_mul",et,Ct,et),g.call(w+"_mul",dt,V,Mt),g.call(w+"_mul",it,y,Q),g.call(w+"_sub",Q,Mt,Q),g.call(w+"_mul",Q,g.i32_const($),Q),g.call(w+"_neg",it,ft))}function Rt(){const st=t.addFunction(n+"_prepDblStep");st.addParam("pR","i32"),st.addParam("pCoef","i32");const g=st.getCodeBuilder(),y=g.getLocal("pR"),V=g.i32_add(g.getLocal("pR"),g.i32_const(c)),W=g.i32_add(g.getLocal("pR"),g.i32_const(2*c)),q=g.getLocal("pCoef"),et=g.i32_add(g.getLocal("pCoef"),g.i32_const(c)),Q=g.i32_add(g.getLocal("pCoef"),g.i32_const(2*c)),rt=g.i32_const(t.alloc(c)),ft=g.i32_const(t.alloc(c)),dt=g.i32_const(t.alloc(c)),it=g.i32_const(t.alloc(c)),ht=g.i32_const(t.alloc(c)),Pt=g.i32_const(t.alloc(c)),Ct=g.i32_const(t.alloc(c)),pt=g.i32_const(t.alloc(c)),Ft=g.i32_const(t.alloc(c)),Mt=g.i32_const(t.alloc(c)),Qt=g.i32_const(t.alloc(c)),kt=g.i32_const(t.alloc(c));st.addCode(g.call(w+"_mul",V,g.i32_const(N),rt),g.call(w+"_mul",y,rt,rt),g.call(w+"_square",V,ft),g.call(w+"_square",W,dt),g.call(w+"_add",dt,dt,it),g.call(w+"_add",it,dt,it),g.call(w+"_mul",g.i32_const(X),it,ht),g.call(w+"_add",ht,ht,Pt),g.call(w+"_add",ht,Pt,Pt),g.call(w+"_add",ft,Pt,Ct),g.call(w+"_mul",Ct,g.i32_const(N),Ct),g.call(w+"_add",ft,dt,kt),g.call(w+"_add",V,W,pt),g.call(w+"_square",pt,pt),g.call(w+"_sub",pt,kt,pt),g.call(w+"_sub",ht,ft,Ft),g.call(w+"_square",y,Mt),g.call(w+"_square",ht,Qt),g.call(w+"_sub",ft,Pt,kt),g.call(w+"_mul",rt,kt,y),g.call(w+"_add",Qt,Qt,kt),g.call(w+"_add",Qt,kt,kt),g.call(w+"_square",Ct,V),g.call(w+"_sub",V,kt,V),g.call(w+"_mul",ft,pt,W),g.call(w+"_mul",g.i32_const($),Ft,q),g.call(w+"_neg",pt,et),g.call(w+"_add",Mt,Mt,Q),g.call(w+"_add",Mt,Q,Q))}function Lt(){const st=t.addFunction(n+"_mulByQ");st.addParam("p1","i32"),st.addParam("pr","i32");const g=st.getCodeBuilder(),y=g.getLocal("p1"),V=g.i32_add(g.getLocal("p1"),g.i32_const(c)),W=g.i32_add(g.getLocal("p1"),g.i32_const(c*2)),q=g.getLocal("pr"),et=g.i32_add(g.getLocal("pr"),g.i32_const(c)),Q=g.i32_add(g.getLocal("pr"),g.i32_const(c*2)),rt=g.i32_const(t.alloc([...Gt.bigInt2BytesLE(S("21575463638280843010398324269430826099269044274347216827212613867836435027261"),l),...Gt.bigInt2BytesLE(S("10307601595873709700152284273816112264069230130616436755625194854815875713954"),l)])),ft=g.i32_const(t.alloc([...Gt.bigInt2BytesLE(S("2821565182194536844548159561693502659359617185244120367078079554186484126554"),l),...Gt.bigInt2BytesLE(S("3505843767911556378687030309984248845540243509899259641013678093033130930403"),l)]));st.addCode(g.call(w+"_conjugate",y,q),g.call(w+"_mul",rt,q,q),g.call(w+"_conjugate",V,et),g.call(w+"_mul",ft,et,et),g.call(w+"_conjugate",W,Q))}function Ot(){Lt();const st=t.addFunction(n+"_prepareG2");st.addParam("pQ","i32"),st.addParam("ppreQ","i32"),st.addLocal("pCoef","i32"),st.addLocal("i","i32");const g=st.getCodeBuilder(),y=g.getLocal("pQ"),V=t.alloc(c*3),W=g.i32_const(V),q=g.i32_const(V),et=g.i32_const(V+c),Q=g.i32_const(V+2*c),rt=g.i32_add(g.getLocal("ppreQ"),g.i32_const(0)),ft=g.i32_add(g.getLocal("ppreQ"),g.i32_const(c)),dt=t.alloc(c*3),it=g.i32_const(dt),ht=t.alloc(c*3),Pt=g.i32_const(ht),Ct=g.i32_const(ht+c);st.addCode(g.call(v+"_normalize",y,rt),g.call(w+"_copy",rt,q),g.call(w+"_copy",ft,et),g.call(w+"_one",Q)),st.addCode(g.setLocal("pCoef",g.i32_add(g.getLocal("ppreQ"),g.i32_const(c*3))),g.setLocal("i",g.i32_const(Bt.length-2)),g.block(g.loop(g.call(n+"_prepDblStep",W,g.getLocal("pCoef")),g.setLocal("pCoef",g.i32_add(g.getLocal("pCoef"),g.i32_const(R))),g.if(g.i32_load8_s(g.getLocal("i"),Et),[...g.call(n+"_prepAddStep",rt,W,g.getLocal("pCoef")),...g.setLocal("pCoef",g.i32_add(g.getLocal("pCoef"),g.i32_const(R)))]),g.br_if(1,g.i32_eqz(g.getLocal("i"))),g.setLocal("i",g.i32_sub(g.getLocal("i"),g.i32_const(1))),g.br(0)))),st.addCode(g.call(n+"_mulByQ",rt,it),g.call(n+"_mulByQ",it,Pt)),st.addCode(g.call(w+"_neg",Ct,Ct),g.call(n+"_prepAddStep",it,W,g.getLocal("pCoef")),g.setLocal("pCoef",g.i32_add(g.getLocal("pCoef"),g.i32_const(R))),g.call(n+"_prepAddStep",Pt,W,g.getLocal("pCoef")),g.setLocal("pCoef",g.i32_add(g.getLocal("pCoef"),g.i32_const(R))))}function $t(){const st=t.addFunction(n+"__mulBy024Old");st.addParam("pEll0","i32"),st.addParam("pEllVW","i32"),st.addParam("pEllVV","i32"),st.addParam("pR","i32");const g=st.getCodeBuilder(),y=g.getLocal("pEll0"),V=g.getLocal("pEllVV"),W=g.getLocal("pEllVW"),q=g.getLocal("pR"),et=t.alloc(h),Q=g.i32_const(et),rt=g.i32_const(et),ft=g.i32_const(et+c),dt=g.i32_const(et+c*2),it=g.i32_const(et+c*3),ht=g.i32_const(et+c*4),Pt=g.i32_const(et+c*5);st.addCode(g.call(w+"_copy",y,rt),g.call(w+"_zero",ft),g.call(w+"_copy",V,dt),g.call(w+"_zero",it),g.call(w+"_copy",W,ht),g.call(w+"_zero",Pt),g.call(lt+"_mul",Q,q,q))}function vt(){const st=t.addFunction(n+"__mulBy024");st.addParam("pEll0","i32"),st.addParam("pEllVW","i32"),st.addParam("pEllVV","i32"),st.addParam("pR","i32");const g=st.getCodeBuilder(),y=g.getLocal("pEll0"),V=g.getLocal("pEllVV"),W=g.getLocal("pEllVW"),q=g.getLocal("pR"),et=g.i32_add(g.getLocal("pR"),g.i32_const(2*o)),Q=g.i32_add(g.getLocal("pR"),g.i32_const(4*o)),rt=g.i32_add(g.getLocal("pR"),g.i32_const(6*o)),ft=g.i32_add(g.getLocal("pR"),g.i32_const(8*o)),dt=g.i32_add(g.getLocal("pR"),g.i32_const(10*o)),it=g.i32_const(t.alloc(c)),ht=g.i32_const(t.alloc(c)),Pt=g.i32_const(t.alloc(c)),Ct=g.i32_const(t.alloc(c)),pt=g.i32_const(t.alloc(c)),Ft=g.i32_const(t.alloc(c)),Mt=g.i32_const(t.alloc(c)),Qt=g.i32_const(t.alloc(c)),kt=g.i32_const(t.alloc(c)),Dt=g.i32_const(t.alloc(c)),It=g.i32_const(t.alloc(c));st.addCode(g.call(w+"_mul",q,y,Mt),g.call(w+"_mul",Q,V,Qt),g.call(w+"_mul",ft,W,kt),g.call(w+"_add",q,ft,Pt),g.call(w+"_add",q,Q,ht),g.call(w+"_add",et,rt,Ct),g.call(w+"_add",Ct,dt,Ct),g.call(w+"_mul",et,V,Dt),g.call(w+"_add",Dt,kt,pt),g.call(w+"_mul",g.i32_const(M),pt,Ft),g.call(w+"_add",Ft,Mt,q),g.call(w+"_mul",dt,W,pt),g.call(w+"_add",Dt,pt,Dt),g.call(w+"_add",pt,Qt,pt),g.call(w+"_mul",g.i32_const(M),pt,Ft),g.call(w+"_mul",et,y,pt),g.call(w+"_add",Dt,pt,Dt),g.call(w+"_add",Ft,pt,et),g.call(w+"_add",y,V,it),g.call(w+"_mul",ht,it,pt),g.call(w+"_add",Mt,Qt,It),g.call(w+"_sub",pt,It,pt),g.call(w+"_mul",rt,W,Ft),g.call(w+"_add",Dt,Ft,Dt),g.call(w+"_add",Q,ft,it),g.call(w+"_add",pt,Ft,Q),g.call(w+"_add",V,W,ht),g.call(w+"_mul",ht,it,pt),g.call(w+"_add",Qt,kt,It),g.call(w+"_sub",pt,It,pt),g.call(w+"_mul",g.i32_const(M),pt,Ft),g.call(w+"_mul",rt,y,pt),g.call(w+"_add",Dt,pt,Dt),g.call(w+"_add",Ft,pt,rt),g.call(w+"_mul",dt,V,pt),g.call(w+"_add",Dt,pt,Dt),g.call(w+"_mul",g.i32_const(M),pt,Ft),g.call(w+"_add",y,W,it),g.call(w+"_mul",Pt,it,pt),g.call(w+"_add",Mt,kt,It),g.call(w+"_sub",pt,It,pt),g.call(w+"_add",Ft,pt,ft),g.call(w+"_add",y,V,it),g.call(w+"_add",it,W,it),g.call(w+"_mul",Ct,it,pt),g.call(w+"_sub",pt,Dt,dt))}function xt(){const st=t.addFunction(n+"_millerLoop");st.addParam("ppreP","i32"),st.addParam("ppreQ","i32"),st.addParam("r","i32"),st.addLocal("pCoef","i32"),st.addLocal("i","i32");const g=st.getCodeBuilder(),y=g.getLocal("ppreP"),V=g.i32_add(g.getLocal("ppreP"),g.i32_const(l)),W=g.getLocal("pCoef"),q=g.i32_add(g.getLocal("pCoef"),g.i32_const(c)),et=g.i32_add(g.getLocal("pCoef"),g.i32_const(2*c)),Q=t.alloc(c),rt=g.i32_const(Q),ft=t.alloc(c),dt=g.i32_const(ft),it=g.getLocal("r");st.addCode(g.call(lt+"_one",it),g.setLocal("pCoef",g.i32_add(g.getLocal("ppreQ"),g.i32_const(c*3))),g.setLocal("i",g.i32_const(Bt.length-2)),g.block(g.loop(g.call(lt+"_square",it,it),g.call(w+"_mul1",q,V,rt),g.call(w+"_mul1",et,y,dt),g.call(n+"__mulBy024",W,rt,dt,it),g.setLocal("pCoef",g.i32_add(g.getLocal("pCoef"),g.i32_const(R))),g.if(g.i32_load8_s(g.getLocal("i"),Et),[...g.call(w+"_mul1",q,V,rt),...g.call(w+"_mul1",et,y,dt),...g.call(n+"__mulBy024",W,rt,dt,it),...g.setLocal("pCoef",g.i32_add(g.getLocal("pCoef"),g.i32_const(R)))]),g.br_if(1,g.i32_eqz(g.getLocal("i"))),g.setLocal("i",g.i32_sub(g.getLocal("i"),g.i32_const(1))),g.br(0)))),st.addCode(g.call(w+"_mul1",q,V,rt),g.call(w+"_mul1",et,y,dt),g.call(n+"__mulBy024",W,rt,dt,it),g.setLocal("pCoef",g.i32_add(g.getLocal("pCoef"),g.i32_const(R))),g.call(w+"_mul1",q,V,rt),g.call(w+"_mul1",et,y,dt),g.call(n+"__mulBy024",W,rt,dt,it),g.setLocal("pCoef",g.i32_add(g.getLocal("pCoef"),g.i32_const(R))))}function Nt(st){const g=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[8376118865763821496583973867626364092589906065868298776909617916018768340080n,16469823323077808223889137241176536799009286646108169935659301613961712198316n],[21888242871839275220042445260109153167277707414472061641714758635765020556617n,0n],[11697423496358154304825782922584725312912383441159505038794027105778954184319n,303847389135065887422783454877609941456349188919719272345083954437860409601n],[21888242871839275220042445260109153167277707414472061641714758635765020556616n,0n],[3321304630594332808241809054958361220322477375291206261884409189760185844239n,5722266937896532885780051958958348231143373700109372999374820235121374419868n],[21888242871839275222246405745257275088696311157297823662689037894645226208582n,0n],[13512124006075453725662431877630910996106405091429524885779419978626457868503n,5418419548761466998357268504080738289687024511189653727029736280683514010267n],[2203960485148121921418603742825762020974279258880205651966n,0n],[10190819375481120917420622822672549775783927716138318623895010788866272024264n,21584395482704209334823622290379665147239961968378104390343953940207365798982n],[2203960485148121921418603742825762020974279258880205651967n,0n],[18566938241244942414004596690298913868373833782006617400804628704885040364344n,16165975933942742336466353786298926857552937457188450663314217659523851788715n]]],y=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[21575463638280843010398324269430826099269044274347216827212613867836435027261n,10307601595873709700152284273816112264069230130616436755625194854815875713954n],[21888242871839275220042445260109153167277707414472061641714758635765020556616n,0n],[3772000881919853776433695186713858239009073593817195771773381919316419345261n,2236595495967245188281701248203181795121068902605861227855261137820944008926n],[2203960485148121921418603742825762020974279258880205651966n,0n],[18429021223477853657660792034369865839114504446431234726392080002137598044644n,9344045779998320333812420223237981029506012124075525679208581902008406485703n]],[[1n,0n],[2581911344467009335267311115468803099551665605076196740867805258568234346338n,19937756971775647987995932169929341994314640652964949448313374472400716661030n],[2203960485148121921418603742825762020974279258880205651966n,0n],[5324479202449903542726783395506214481928257762400643279780343368557297135718n,16208900380737693084919495127334387981393726419856888799917914180988844123039n],[21888242871839275220042445260109153167277707414472061641714758635765020556616n,0n],[13981852324922362344252311234282257507216387789820983642040889267519694726527n,7629828391165209371577384193250820201684255241773809077146787135900891633097n]]],V=t.addFunction(n+"__frobeniusMap"+st);V.addParam("x","i32"),V.addParam("r","i32");const W=V.getCodeBuilder();for(let et=0;et<6;et++){const Q=et==0?W.getLocal("x"):W.i32_add(W.getLocal("x"),W.i32_const(et*c)),rt=Q,ft=W.i32_add(W.getLocal("x"),W.i32_const(et*c+l)),dt=et==0?W.getLocal("r"):W.i32_add(W.getLocal("r"),W.i32_const(et*c)),it=dt,ht=W.i32_add(W.getLocal("r"),W.i32_const(et*c+l)),Pt=q(g[Math.floor(et/3)][st%12],y[et%3][st%6]),Ct=t.alloc([...Gt.bigInt2BytesLE(S(Pt[0]),32),...Gt.bigInt2BytesLE(S(Pt[1]),32)]);st%2==1?V.addCode(W.call(p+"_copy",rt,it),W.call(p+"_neg",ft,ht),W.call(w+"_mul",dt,W.i32_const(Ct),dt)):V.addCode(W.call(w+"_mul",Q,W.i32_const(Ct),dt))}function q(et,Q){const rt=BigInt(et[0]),ft=BigInt(et[1]),dt=BigInt(Q[0]),it=BigInt(Q[1]),ht=[(rt*dt-ft*it)%a,(rt*it+ft*dt)%a];return Pv(ht[0])&&(ht[0]=ht[0]+a),ht}}function Zt(){const st=t.addFunction(n+"__finalExponentiationFirstChunk");st.addParam("x","i32"),st.addParam("r","i32");const g=st.getCodeBuilder(),y=g.getLocal("x"),V=y,W=g.i32_add(y,g.i32_const(o*6)),q=g.getLocal("r"),et=t.alloc(h),Q=g.i32_const(et),rt=Q,ft=g.i32_const(et+o*6),dt=g.i32_const(t.alloc(h)),it=g.i32_const(t.alloc(h)),ht=g.i32_const(t.alloc(h));st.addCode(g.call(ot+"_copy",V,rt),g.call(ot+"_neg",W,ft),g.call(lt+"_inverse",y,dt),g.call(lt+"_mul",Q,dt,it),g.call(n+"__frobeniusMap2",it,ht),g.call(lt+"_mul",it,ht,q))}function Ee(){const st=t.addFunction(n+"__cyclotomicSquare");st.addParam("x","i32"),st.addParam("r","i32");const g=st.getCodeBuilder(),y=g.getLocal("x"),V=g.i32_add(g.getLocal("x"),g.i32_const(c)),W=g.i32_add(g.getLocal("x"),g.i32_const(2*c)),q=g.i32_add(g.getLocal("x"),g.i32_const(3*c)),et=g.i32_add(g.getLocal("x"),g.i32_const(4*c)),Q=g.i32_add(g.getLocal("x"),g.i32_const(5*c)),rt=g.getLocal("r"),ft=g.i32_add(g.getLocal("r"),g.i32_const(c)),dt=g.i32_add(g.getLocal("r"),g.i32_const(2*c)),it=g.i32_add(g.getLocal("r"),g.i32_const(3*c)),ht=g.i32_add(g.getLocal("r"),g.i32_const(4*c)),Pt=g.i32_add(g.getLocal("r"),g.i32_const(5*c)),Ct=g.i32_const(t.alloc(c)),pt=g.i32_const(t.alloc(c)),Ft=g.i32_const(t.alloc(c)),Mt=g.i32_const(t.alloc(c)),Qt=g.i32_const(t.alloc(c)),kt=g.i32_const(t.alloc(c)),Dt=g.i32_const(t.alloc(c)),It=g.i32_const(t.alloc(c));st.addCode(g.call(w+"_mul",y,et,Dt),g.call(w+"_mul",et,g.i32_const(M),Ct),g.call(w+"_add",y,Ct,Ct),g.call(w+"_add",y,et,It),g.call(w+"_mul",It,Ct,Ct),g.call(w+"_mul",g.i32_const(M),Dt,It),g.call(w+"_add",Dt,It,It),g.call(w+"_sub",Ct,It,Ct),g.call(w+"_add",Dt,Dt,pt),g.call(w+"_mul",q,W,Dt),g.call(w+"_mul",W,g.i32_const(M),Ft),g.call(w+"_add",q,Ft,Ft),g.call(w+"_add",q,W,It),g.call(w+"_mul",It,Ft,Ft),g.call(w+"_mul",g.i32_const(M),Dt,It),g.call(w+"_add",Dt,It,It),g.call(w+"_sub",Ft,It,Ft),g.call(w+"_add",Dt,Dt,Mt),g.call(w+"_mul",V,Q,Dt),g.call(w+"_mul",Q,g.i32_const(M),Qt),g.call(w+"_add",V,Qt,Qt),g.call(w+"_add",V,Q,It),g.call(w+"_mul",It,Qt,Qt),g.call(w+"_mul",g.i32_const(M),Dt,It),g.call(w+"_add",Dt,It,It),g.call(w+"_sub",Qt,It,Qt),g.call(w+"_add",Dt,Dt,kt),g.call(w+"_sub",Ct,y,rt),g.call(w+"_add",rt,rt,rt),g.call(w+"_add",Ct,rt,rt),g.call(w+"_add",pt,et,ht),g.call(w+"_add",ht,ht,ht),g.call(w+"_add",pt,ht,ht),g.call(w+"_mul",kt,g.i32_const($),It),g.call(w+"_add",It,q,it),g.call(w+"_add",it,it,it),g.call(w+"_add",It,it,it),g.call(w+"_sub",Qt,W,dt),g.call(w+"_add",dt,dt,dt),g.call(w+"_add",Qt,dt,dt),g.call(w+"_sub",Ft,V,ft),g.call(w+"_add",ft,ft,ft),g.call(w+"_add",Ft,ft,ft),g.call(w+"_add",Mt,Q,Pt),g.call(w+"_add",Pt,Pt,Pt),g.call(w+"_add",Mt,Pt,Pt))}function _s(st,g){const y=at(st).map(ft=>ft==-1?255:ft),V=t.alloc(y),W=t.addFunction(n+"__cyclotomicExp_"+g);W.addParam("x","i32"),W.addParam("r","i32"),W.addLocal("bit","i32"),W.addLocal("i","i32");const q=W.getCodeBuilder(),et=q.getLocal("x"),Q=q.getLocal("r"),rt=q.i32_const(t.alloc(h));W.addCode(q.call(lt+"_conjugate",et,rt),q.call(lt+"_one",Q),q.if(q.teeLocal("bit",q.i32_load8_s(q.i32_const(y.length-1),V)),q.if(q.i32_eq(q.getLocal("bit"),q.i32_const(1)),q.call(lt+"_mul",Q,et,Q),q.call(lt+"_mul",Q,rt,Q))),q.setLocal("i",q.i32_const(y.length-2)),q.block(q.loop(q.call(n+"__cyclotomicSquare",Q,Q),q.if(q.teeLocal("bit",q.i32_load8_s(q.getLocal("i"),V)),q.if(q.i32_eq(q.getLocal("bit"),q.i32_const(1)),q.call(lt+"_mul",Q,et,Q),q.call(lt+"_mul",Q,rt,Q))),q.br_if(1,q.i32_eqz(q.getLocal("i"))),q.setLocal("i",q.i32_sub(q.getLocal("i"),q.i32_const(1))),q.br(0))))}function nn(){Ee(),_s(x,"w0");const st=t.addFunction(n+"__finalExponentiationLastChunk");st.addParam("x","i32"),st.addParam("r","i32");const g=st.getCodeBuilder(),y=g.getLocal("x"),V=g.getLocal("r"),W=g.i32_const(t.alloc(h)),q=g.i32_const(t.alloc(h)),et=g.i32_const(t.alloc(h)),Q=g.i32_const(t.alloc(h)),rt=g.i32_const(t.alloc(h)),ft=g.i32_const(t.alloc(h)),dt=g.i32_const(t.alloc(h)),it=g.i32_const(t.alloc(h)),ht=g.i32_const(t.alloc(h)),Pt=g.i32_const(t.alloc(h)),Ct=g.i32_const(t.alloc(h)),pt=g.i32_const(t.alloc(h)),Ft=g.i32_const(t.alloc(h)),Mt=g.i32_const(t.alloc(h)),Qt=g.i32_const(t.alloc(h)),kt=g.i32_const(t.alloc(h)),Dt=g.i32_const(t.alloc(h)),It=g.i32_const(t.alloc(h)),le=g.i32_const(t.alloc(h)),Wn=g.i32_const(t.alloc(h)),Ta=g.i32_const(t.alloc(h));st.addCode(g.call(n+"__cyclotomicExp_w0",y,W),g.call(lt+"_conjugate",W,W),g.call(n+"__cyclotomicSquare",W,q),g.call(n+"__cyclotomicSquare",q,et),g.call(lt+"_mul",et,q,Q),g.call(n+"__cyclotomicExp_w0",Q,rt),g.call(lt+"_conjugate",rt,rt),g.call(n+"__cyclotomicSquare",rt,ft),g.call(n+"__cyclotomicExp_w0",ft,dt),g.call(lt+"_conjugate",dt,dt),g.call(lt+"_conjugate",Q,it),g.call(lt+"_conjugate",dt,ht),g.call(lt+"_mul",ht,rt,Pt),g.call(lt+"_mul",Pt,it,Ct),g.call(lt+"_mul",Ct,q,pt),g.call(lt+"_mul",Ct,rt,Ft),g.call(lt+"_mul",Ft,y,Mt),g.call(n+"__frobeniusMap1",pt,Qt),g.call(lt+"_mul",Qt,Mt,kt),g.call(n+"__frobeniusMap2",Ct,Dt),g.call(lt+"_mul",Dt,kt,It),g.call(lt+"_conjugate",y,le),g.call(lt+"_mul",le,pt,Wn),g.call(n+"__frobeniusMap3",Wn,Ta),g.call(lt+"_mul",Ta,It,V))}function xs(){Zt(),nn();const st=t.addFunction(n+"_finalExponentiation");st.addParam("x","i32"),st.addParam("r","i32");const g=st.getCodeBuilder(),y=g.getLocal("x"),V=g.getLocal("r"),W=g.i32_const(t.alloc(h));st.addCode(g.call(n+"__finalExponentiationFirstChunk",y,W),g.call(n+"__finalExponentiationLastChunk",W,V))}function Me(){const st=t.addFunction(n+"_finalExponentiationOld");st.addParam("x","i32"),st.addParam("r","i32");const y=t.alloc(Gt.bigInt2BytesLE(552484233613224096312617126783173147097382103762957654188882734314196910839907541213974502761540629817009608548654680343627701153829446747810907373256841551006201639677726139946029199968412598804882391702273019083653272047566316584365559776493027495458238373902875937659943504873220554161550525926302303331747463515644711876653177129578303191095900909191624817826566688241804408081892785725967931714097716709526092261278071952560171111444072049229123565057483750161460024353346284167282452756217662335528813519139808291170539072125381230815729071544861602750936964829313608137325426383735122175229541155376346436093930287402089517426973178917569713384748081827255472576937471496195752727188261435633271238710131736096299798168852925540549342330775279877006784354801422249722573783561685179618816480037695005515426162362431072245638324744480n,352)),V=st.getCodeBuilder();st.addCode(V.call(lt+"_exp",V.getLocal("x"),V.i32_const(y),V.i32_const(352),V.getLocal("r")))}const pn=t.alloc(Z),Jn=t.alloc(k);function Nr(st){const g=t.addFunction(n+"_pairingEq"+st);for(let q=0;q<st;q++)g.addParam("p_"+q,"i32"),g.addParam("q_"+q,"i32");g.addParam("c","i32"),g.setReturnType("i32");const y=g.getCodeBuilder(),V=y.i32_const(t.alloc(h)),W=y.i32_const(t.alloc(h));g.addCode(y.call(lt+"_one",V));for(let q=0;q<st;q++)g.addCode(y.call(n+"_prepareG1",y.getLocal("p_"+q),y.i32_const(pn))),g.addCode(y.call(n+"_prepareG2",y.getLocal("q_"+q),y.i32_const(Jn))),g.addCode(y.call(n+"_millerLoop",y.i32_const(pn),y.i32_const(Jn),W)),g.addCode(y.call(lt+"_mul",V,W,V));g.addCode(y.call(n+"_finalExponentiation",V,V)),g.addCode(y.call(lt+"_eq",V,y.getLocal("c")))}function $s(){const st=t.addFunction(n+"_pairing");st.addParam("p","i32"),st.addParam("q","i32"),st.addParam("r","i32");const g=st.getCodeBuilder(),y=g.i32_const(t.alloc(h));st.addCode(g.call(n+"_prepareG1",g.getLocal("p"),g.i32_const(pn))),st.addCode(g.call(n+"_prepareG2",g.getLocal("q"),g.i32_const(Jn))),st.addCode(g.call(n+"_millerLoop",g.i32_const(pn),g.i32_const(Jn),y)),st.addCode(g.call(n+"_finalExponentiation",y,g.getLocal("r")))}_t(),Rt(),gt(),Ot(),vt(),$t(),xt();for(let st=0;st<10;st++)Nt(st),t.exportFunction(n+"__frobeniusMap"+st);Me(),xs();for(let st=1;st<=5;st++)Nr(st),t.exportFunction(n+"_pairingEq"+st);$s(),t.exportFunction(n+"_pairing"),t.exportFunction(n+"_prepareG1"),t.exportFunction(n+"_prepareG2"),t.exportFunction(n+"_millerLoop"),t.exportFunction(n+"_finalExponentiation"),t.exportFunction(n+"_finalExponentiationOld"),t.exportFunction(n+"__mulBy024"),t.exportFunction(n+"__mulBy024Old"),t.exportFunction(n+"__cyclotomicSquare"),t.exportFunction(n+"__cyclotomicExp_w0")};const zt=yi,Tv=k5,Bv=R9,a8=F9,Sv=N9,i8=k9,Cu=U9,Ov=M9,Rv=D9,e0=z9,{bitLength:r8,isOdd:o8,isNegative:Fv}=en;var Nv=function(t,e){const n=e||"bls12381";if(t.modules[n])return n;const a=0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,i=0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001n,r=Math.floor((r8(a-1n)-1)/64)+1,o=r*8,f=o,l=f*2,c=f*12,h=Math.floor((r8(i-1n)-1)/64)+1,m=h*8,p=m,C=t.alloc(zt.bigInt2BytesLE(i,p)),A=Tv(t,a,"f1m","intq");Bv(t,i,"fr","frm","intr");const w=t.alloc(zt.bigInt2BytesLE(P(4n),f)),I=i8(t,"g1m","f1m",w);Cu(t,"frm","frm","frm","frm_mul"),Ov(t,"pol","frm"),Rv(t,"qap","frm");const v=a8(t,"f1m_neg","f2m","f1m"),F=t.alloc([...zt.bigInt2BytesLE(P(4n),f),...zt.bigInt2BytesLE(P(4n),f)]),S=i8(t,"g2m","f2m",F);function D(g,y){const V=t.addFunction(g);V.addParam("pG","i32"),V.addParam("pFr","i32"),V.addParam("pr","i32");const W=V.getCodeBuilder(),q=W.i32_const(t.alloc(m));V.addCode(W.call("frm_fromMontgomery",W.getLocal("pFr"),q),W.call(y,W.getLocal("pG"),q,W.i32_const(m),W.getLocal("pr"))),t.exportFunction(g)}D("g1m_timesFr","g1m_timesScalar"),Cu(t,"g1m","g1m","frm","g1m_timesFr"),D("g2m_timesFr","g2m_timesScalar"),Cu(t,"g2m","g2m","frm","g2m_timesFr"),D("g1m_timesFrAffine","g1m_timesScalarAffine"),D("g2m_timesFrAffine","g2m_timesScalarAffine"),e0(t,"frm_batchApplyKey","fmr","frm",m,m,m,"frm_mul"),e0(t,"g1m_batchApplyKey","g1m","frm",o*3,o*3,m,"g1m_timesFr"),e0(t,"g1m_batchApplyKeyMixed","g1m","frm",o*2,o*3,m,"g1m_timesFrAffine"),e0(t,"g2m_batchApplyKey","g2m","frm",o*2*3,o*3*2,m,"g2m_timesFr"),e0(t,"g2m_batchApplyKeyMixed","g2m","frm",o*2*2,o*3*2,m,"g2m_timesFrAffine");function P(g){return BigInt(g)*(1n<<BigInt(f*8))%a}const u=[3685416753713387016781088315183077757961620795782546409894578378688607592378376318836054947676345821548104185464507n,1339506544944476473020471379941921221584933875938349620426543736416511423956333506472724655353366534992391756441569n,1n],_=t.alloc([...zt.bigInt2BytesLE(P(u[0]),f),...zt.bigInt2BytesLE(P(u[1]),f),...zt.bigInt2BytesLE(P(u[2]),f)]),G=[0n,1n,0n],H=t.alloc([...zt.bigInt2BytesLE(P(G[0]),f),...zt.bigInt2BytesLE(P(G[1]),f),...zt.bigInt2BytesLE(P(G[2]),f)]),J=[[352701069587466618187139116011060144890029952792775240219908644239793785735715026873347600343865175952761926303160n,3059144344244213709971259814753781636986470325476647558659373206291635324768958432433509563104347017837885763365758n],[1985150602287291935568054521177171638300868978215655730859378665066344726373823718423869104263333984641494340347905n,927553665492332455747201965776037880757740193453592970025027978793976877002675564980949289727957565575433344219582n],[1n,0n]],U=t.alloc([...zt.bigInt2BytesLE(P(J[0][0]),f),...zt.bigInt2BytesLE(P(J[0][1]),f),...zt.bigInt2BytesLE(P(J[1][0]),f),...zt.bigInt2BytesLE(P(J[1][1]),f),...zt.bigInt2BytesLE(P(J[2][0]),f),...zt.bigInt2BytesLE(P(J[2][1]),f)]),E=[[0n,0n],[1n,0n],[0n,0n]],M=t.alloc([...zt.bigInt2BytesLE(P(E[0][0]),f),...zt.bigInt2BytesLE(P(E[0][1]),f),...zt.bigInt2BytesLE(P(E[1][0]),f),...zt.bigInt2BytesLE(P(E[1][1]),f),...zt.bigInt2BytesLE(P(E[2][0]),f),...zt.bigInt2BytesLE(P(E[2][1]),f)]),N=t.alloc([...zt.bigInt2BytesLE(P(1n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f),...zt.bigInt2BytesLE(P(0n),f)]),$=t.alloc([...zt.bigInt2BytesLE(P(1n),f),...zt.bigInt2BytesLE(P(1n),f)]);function X(){const g=t.addFunction(v+"_mulNR");g.addParam("x","i32"),g.addParam("pr","i32");const y=g.getCodeBuilder(),V=y.i32_const(t.alloc(f)),W=y.getLocal("x"),q=y.i32_add(y.getLocal("x"),y.i32_const(f)),et=y.getLocal("pr"),Q=y.i32_add(y.getLocal("pr"),y.i32_const(f));g.addCode(y.call(A+"_copy",W,V),y.call(A+"_sub",W,q,et),y.call(A+"_add",V,q,Q))}X();const K=Sv(t,v+"_mulNR","f6m","f2m");function ot(){const g=t.addFunction(K+"_mulNR");g.addParam("x","i32"),g.addParam("pr","i32");const y=g.getCodeBuilder(),V=y.i32_const(t.alloc(f*2));g.addCode(y.call(v+"_copy",y.getLocal("x"),V),y.call(v+"_mulNR",y.i32_add(y.getLocal("x"),y.i32_const(o*4)),y.getLocal("pr")),y.call(v+"_copy",y.i32_add(y.getLocal("x"),y.i32_const(o*2)),y.i32_add(y.getLocal("pr"),y.i32_const(o*4))),y.call(v+"_copy",V,y.i32_add(y.getLocal("pr"),y.i32_const(o*2))))}ot();const tt=a8(t,K+"_mulNR","ftm",K),Tt=yt(0xd201000000010000n),Bt=t.alloc(Tt),Et=3*l,R=Tt.length-1,B=Tt.reduce((g,y)=>g+(y!=0?1:0),0)+R+1,b=3*2*o,Z=3*o*2+B*Et,k=!0,x=15132376222941642752n;t.modules[n]={n64q:r,n64r:h,n8q:o,n8r:m,pG1gen:_,pG1zero:H,pG1b:w,pG2gen:U,pG2zero:M,pG2b:F,pq:t.modules.f1m.pq,pr:C,pOneT:N,r:i,q:a,prePSize:b,preQSize:Z};function at(g){let y=g;const V=[];for(;y>0n;){if(o8(y)){const W=2-Number(y%4n);V.push(W),y=y-BigInt(W)}else V.push(0);y=y>>1n}return V}function yt(g){let y=g;const V=[];for(;y>0n;)o8(y)?V.push(1):V.push(0),y=y>>1n;return V}function gt(){const g=t.addFunction(n+"_prepareG1");g.addParam("pP","i32"),g.addParam("ppreP","i32");const y=g.getCodeBuilder();g.addCode(y.call(I+"_normalize",y.getLocal("pP"),y.getLocal("ppreP")))}function _t(){const g=t.addFunction(n+"_prepDblStep");g.addParam("R","i32"),g.addParam("r","i32");const y=g.getCodeBuilder(),V=y.getLocal("R"),W=y.i32_add(y.getLocal("R"),y.i32_const(2*o)),q=y.i32_add(y.getLocal("R"),y.i32_const(4*o)),et=y.getLocal("r"),Q=y.i32_add(y.getLocal("r"),y.i32_const(2*o)),rt=y.i32_add(y.getLocal("r"),y.i32_const(4*o)),ft=y.i32_const(t.alloc(l)),dt=y.i32_const(t.alloc(l)),it=y.i32_const(t.alloc(l)),ht=y.i32_const(t.alloc(l)),Pt=y.i32_const(t.alloc(l));g.addCode(y.call(v+"_square",V,et),y.call(v+"_square",W,dt),y.call(v+"_square",dt,it),y.call(v+"_add",dt,V,Q),y.call(v+"_square",Q,Q),y.call(v+"_sub",Q,et,Q),y.call(v+"_sub",Q,it,Q),y.call(v+"_add",Q,Q,Q),y.call(v+"_add",et,et,ht),y.call(v+"_add",ht,et,ht),y.call(v+"_add",V,ht,rt),y.call(v+"_square",ht,Pt),y.call(v+"_square",q,ft),y.call(v+"_sub",Pt,Q,V),y.call(v+"_sub",V,Q,V),y.call(v+"_add",q,W,q),y.call(v+"_square",q,q),y.call(v+"_sub",q,dt,q),y.call(v+"_sub",q,ft,q),y.call(v+"_sub",Q,V,W),y.call(v+"_mul",W,ht,W),y.call(v+"_add",it,it,it),y.call(v+"_add",it,it,it),y.call(v+"_add",it,it,it),y.call(v+"_sub",W,it,W),y.call(v+"_mul",ht,ft,Q),y.call(v+"_add",Q,Q,Q),y.call(v+"_neg",Q,Q),y.call(v+"_square",rt,rt),y.call(v+"_sub",rt,et,rt),y.call(v+"_sub",rt,Pt,rt),y.call(v+"_add",dt,dt,dt),y.call(v+"_add",dt,dt,dt),y.call(v+"_sub",rt,dt,rt),y.call(v+"_mul",q,ft,et),y.call(v+"_add",et,et,et))}function Rt(){const g=t.addFunction(n+"_prepAddStep");g.addParam("R","i32"),g.addParam("Q","i32"),g.addParam("r","i32");const y=g.getCodeBuilder(),V=y.getLocal("R"),W=y.i32_add(y.getLocal("R"),y.i32_const(2*o)),q=y.i32_add(y.getLocal("R"),y.i32_const(4*o)),et=y.getLocal("Q"),Q=y.i32_add(y.getLocal("Q"),y.i32_const(2*o)),rt=y.getLocal("r"),ft=y.i32_add(y.getLocal("r"),y.i32_const(2*o)),dt=y.i32_add(y.getLocal("r"),y.i32_const(4*o)),it=y.i32_const(t.alloc(l)),ht=y.i32_const(t.alloc(l)),Pt=y.i32_const(t.alloc(l)),Ct=y.i32_const(t.alloc(l)),pt=y.i32_const(t.alloc(l)),Ft=y.i32_const(t.alloc(l)),Mt=y.i32_const(t.alloc(l)),Qt=y.i32_const(t.alloc(l)),kt=y.i32_const(t.alloc(l)),Dt=y.i32_const(t.alloc(l)),It=y.i32_const(t.alloc(l));g.addCode(y.call(v+"_square",q,it),y.call(v+"_square",Q,ht),y.call(v+"_mul",it,et,Ct),y.call(v+"_add",Q,q,ft),y.call(v+"_square",ft,ft),y.call(v+"_sub",ft,ht,ft),y.call(v+"_sub",ft,it,ft),y.call(v+"_mul",ft,it,ft),y.call(v+"_sub",Ct,V,pt),y.call(v+"_square",pt,Ft),y.call(v+"_add",Ft,Ft,Mt),y.call(v+"_add",Mt,Mt,Mt),y.call(v+"_mul",Mt,pt,Qt),y.call(v+"_sub",ft,W,kt),y.call(v+"_sub",kt,W,kt),y.call(v+"_mul",kt,et,dt),y.call(v+"_mul",Mt,V,Dt),y.call(v+"_square",kt,V),y.call(v+"_sub",V,Qt,V),y.call(v+"_sub",V,Dt,V),y.call(v+"_sub",V,Dt,V),y.call(v+"_add",q,pt,q),y.call(v+"_square",q,q),y.call(v+"_sub",q,it,q),y.call(v+"_sub",q,Ft,q),y.call(v+"_add",Q,q,rt),y.call(v+"_sub",Dt,V,It),y.call(v+"_mul",It,kt,It),y.call(v+"_mul",W,Qt,Ct),y.call(v+"_add",Ct,Ct,Ct),y.call(v+"_sub",It,Ct,W),y.call(v+"_square",rt,rt),y.call(v+"_sub",rt,ht,rt),y.call(v+"_square",q,Pt),y.call(v+"_sub",rt,Pt,rt),y.call(v+"_add",dt,dt,dt),y.call(v+"_sub",dt,rt,dt),y.call(v+"_add",q,q,rt),y.call(v+"_neg",kt,kt),y.call(v+"_add",kt,kt,ft))}function Lt(){const g=t.addFunction(n+"_prepareG2");g.addParam("pQ","i32"),g.addParam("ppreQ","i32"),g.addLocal("pCoef","i32"),g.addLocal("i","i32");const y=g.getCodeBuilder(),V=y.getLocal("pQ"),W=t.alloc(l*3),q=y.i32_const(W),et=y.getLocal("ppreQ");g.addCode(y.call(S+"_normalize",V,et),y.if(y.call(S+"_isZero",et),y.ret([])),y.call(S+"_copy",et,q),y.setLocal("pCoef",y.i32_add(y.getLocal("ppreQ"),y.i32_const(l*3)))),g.addCode(y.setLocal("i",y.i32_const(Tt.length-2)),y.block(y.loop(y.call(n+"_prepDblStep",q,y.getLocal("pCoef")),y.setLocal("pCoef",y.i32_add(y.getLocal("pCoef"),y.i32_const(Et))),y.if(y.i32_load8_s(y.getLocal("i"),Bt),[...y.call(n+"_prepAddStep",q,et,y.getLocal("pCoef")),...y.setLocal("pCoef",y.i32_add(y.getLocal("pCoef"),y.i32_const(Et)))]),y.br_if(1,y.i32_eqz(y.getLocal("i"))),y.setLocal("i",y.i32_sub(y.getLocal("i"),y.i32_const(1))),y.br(0))))}function Ot(){const g=t.addFunction(K+"_mul1");g.addParam("pA","i32"),g.addParam("pC1","i32"),g.addParam("pR","i32");const y=g.getCodeBuilder(),V=y.getLocal("pA"),W=y.i32_add(y.getLocal("pA"),y.i32_const(f*2)),q=y.i32_add(y.getLocal("pA"),y.i32_const(f*4)),et=y.getLocal("pC1"),Q=y.getLocal("pR"),rt=y.i32_add(y.getLocal("pR"),y.i32_const(f*2)),ft=y.i32_add(y.getLocal("pR"),y.i32_const(f*4)),dt=y.i32_const(t.alloc(f*2)),it=y.i32_const(t.alloc(f*2));g.addCode(y.call(v+"_add",V,W,dt),y.call(v+"_add",W,q,it),y.call(v+"_mul",W,et,ft),y.call(v+"_mul",it,et,Q),y.call(v+"_sub",Q,ft,Q),y.call(v+"_mulNR",Q,Q),y.call(v+"_mul",dt,et,rt),y.call(v+"_sub",rt,ft,rt))}Ot();function $t(){const g=t.addFunction(K+"_mul01");g.addParam("pA","i32"),g.addParam("pC0","i32"),g.addParam("pC1","i32"),g.addParam("pR","i32");const y=g.getCodeBuilder(),V=y.getLocal("pA"),W=y.i32_add(y.getLocal("pA"),y.i32_const(f*2)),q=y.i32_add(y.getLocal("pA"),y.i32_const(f*4)),et=y.getLocal("pC0"),Q=y.getLocal("pC1"),rt=y.getLocal("pR"),ft=y.i32_add(y.getLocal("pR"),y.i32_const(f*2)),dt=y.i32_add(y.getLocal("pR"),y.i32_const(f*4)),it=y.i32_const(t.alloc(f*2)),ht=y.i32_const(t.alloc(f*2)),Pt=y.i32_const(t.alloc(f*2)),Ct=y.i32_const(t.alloc(f*2));g.addCode(y.call(v+"_mul",V,et,it),y.call(v+"_mul",W,Q,ht),y.call(v+"_add",V,W,Pt),y.call(v+"_add",V,q,Ct),y.call(v+"_add",W,q,rt),y.call(v+"_mul",rt,Q,rt),y.call(v+"_sub",rt,ht,rt),y.call(v+"_mulNR",rt,rt),y.call(v+"_add",rt,it,rt),y.call(v+"_add",et,Q,ft),y.call(v+"_mul",ft,Pt,ft),y.call(v+"_sub",ft,it,ft),y.call(v+"_sub",ft,ht,ft),y.call(v+"_mul",Ct,et,dt),y.call(v+"_sub",dt,it,dt),y.call(v+"_add",dt,ht,dt))}$t();function vt(){const g=t.addFunction(tt+"_mul014");g.addParam("pA","i32"),g.addParam("pC0","i32"),g.addParam("pC1","i32"),g.addParam("pC4","i32"),g.addParam("pR","i32");const y=g.getCodeBuilder(),V=y.getLocal("pA"),W=y.i32_add(y.getLocal("pA"),y.i32_const(f*6)),q=y.getLocal("pC0"),et=y.getLocal("pC1"),Q=y.getLocal("pC4"),rt=y.i32_const(t.alloc(f*6)),ft=y.i32_const(t.alloc(f*6)),dt=y.i32_const(t.alloc(f*2)),it=y.getLocal("pR"),ht=y.i32_add(y.getLocal("pR"),y.i32_const(f*6));g.addCode(y.call(K+"_mul01",V,q,et,rt),y.call(K+"_mul1",W,Q,ft),y.call(v+"_add",et,Q,dt),y.call(K+"_add",W,V,ht),y.call(K+"_mul01",ht,q,dt,ht),y.call(K+"_sub",ht,rt,ht),y.call(K+"_sub",ht,ft,ht),y.call(K+"_copy",ft,it),y.call(K+"_mulNR",it,it),y.call(K+"_add",it,rt,it))}vt();function xt(){const g=t.addFunction(n+"_ell");g.addParam("pP","i32"),g.addParam("pCoefs","i32"),g.addParam("pF","i32");const y=g.getCodeBuilder(),V=y.getLocal("pP"),W=y.i32_add(y.getLocal("pP"),y.i32_const(o)),q=y.getLocal("pF"),et=y.getLocal("pCoefs"),Q=y.i32_add(y.getLocal("pCoefs"),y.i32_const(f)),rt=y.i32_add(y.getLocal("pCoefs"),y.i32_const(f*2)),ft=y.i32_add(y.getLocal("pCoefs"),y.i32_const(f*3)),dt=y.i32_add(y.getLocal("pCoefs"),y.i32_const(f*4)),it=t.alloc(f*2),ht=y.i32_const(it),Pt=y.i32_const(it),Ct=y.i32_const(it+f),pt=t.alloc(f*2),Ft=y.i32_const(pt),Mt=y.i32_const(pt),Qt=y.i32_const(pt+f);g.addCode(y.call(A+"_mul",et,W,Pt),y.call(A+"_mul",Q,W,Ct),y.call(A+"_mul",rt,V,Mt),y.call(A+"_mul",ft,V,Qt),y.call(tt+"_mul014",q,dt,Ft,ht,q))}xt();function Nt(){const g=t.addFunction(n+"_millerLoop");g.addParam("ppreP","i32"),g.addParam("ppreQ","i32"),g.addParam("r","i32"),g.addLocal("pCoef","i32"),g.addLocal("i","i32");const y=g.getCodeBuilder(),V=y.getLocal("ppreP"),W=y.getLocal("pCoef"),q=y.getLocal("r");g.addCode(y.call(tt+"_one",q),y.if(y.call(I+"_isZero",V),y.ret([])),y.if(y.call(I+"_isZero",y.getLocal("ppreQ")),y.ret([])),y.setLocal("pCoef",y.i32_add(y.getLocal("ppreQ"),y.i32_const(l*3))),y.setLocal("i",y.i32_const(Tt.length-2)),y.block(y.loop(y.call(n+"_ell",V,W,q),y.setLocal("pCoef",y.i32_add(y.getLocal("pCoef"),y.i32_const(Et))),y.if(y.i32_load8_s(y.getLocal("i"),Bt),[...y.call(n+"_ell",V,W,q),...y.setLocal("pCoef",y.i32_add(y.getLocal("pCoef"),y.i32_const(Et)))]),y.call(tt+"_square",q,q),y.br_if(1,y.i32_eq(y.getLocal("i"),y.i32_const(1))),y.setLocal("i",y.i32_sub(y.getLocal("i"),y.i32_const(1))),y.br(0))),y.call(n+"_ell",V,W,q)),g.addCode(y.call(tt+"_conjugate",q,q))}function Zt(g){const y=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[3850754370037169011952147076051364057158807420970682438676050522613628423219637725072182697113062777891589506424760n,151655185184498381465642749684540099398075398968325446656007613510403227271200139370504932015952886146304766135027n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620351n,0n],[2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n,1028732146235106349975324479215795277384839936929757896155643118032610843298655225875571310552543014690878354869257n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,0n],[3125332594171059424908108096204648978570118281977575435832422631601824034463382777937621250592425535493320683825557n,877076961050607968509681729531255177986764537961432449499635504522207616027455086505066378536590128544573588734230n],[4002409555221667393417789825735904156556882819939007885332058136124031650490837864442687629129015664037894272559786n,0n],[151655185184498381465642749684540099398075398968325446656007613510403227271200139370504932015952886146304766135027n,3850754370037169011952147076051364057158807420970682438676050522613628423219637725072182697113062777891589506424760n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,0n],[1028732146235106349975324479215795277384839936929757896155643118032610843298655225875571310552543014690878354869257n,2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939437n,0n],[877076961050607968509681729531255177986764537961432449499635504522207616027455086505066378536590128544573588734230n,3125332594171059424908108096204648978570118281977575435832422631601824034463382777937621250592425535493320683825557n]]],V=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[0n,4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,0n],[0n,1n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,0n],[0n,793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n]],[[1n,0n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939437n,0n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,0n],[4002409555221667393417789825735904156556882819939007885332058136124031650490837864442687629129015664037894272559786n,0n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,0n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620351n,0n]]],W=t.addFunction(tt+"_frobeniusMap"+g);W.addParam("x","i32"),W.addParam("r","i32");const q=W.getCodeBuilder();for(let Q=0;Q<6;Q++){const rt=Q==0?q.getLocal("x"):q.i32_add(q.getLocal("x"),q.i32_const(Q*l)),ft=rt,dt=q.i32_add(q.getLocal("x"),q.i32_const(Q*l+f)),it=Q==0?q.getLocal("r"):q.i32_add(q.getLocal("r"),q.i32_const(Q*l)),ht=it,Pt=q.i32_add(q.getLocal("r"),q.i32_const(Q*l+f)),Ct=et(y[Math.floor(Q/3)][g%12],V[Q%3][g%6]),pt=t.alloc([...zt.bigInt2BytesLE(P(Ct[0]),o),...zt.bigInt2BytesLE(P(Ct[1]),o)]);g%2==1?W.addCode(q.call(A+"_copy",ft,ht),q.call(A+"_neg",dt,Pt),q.call(v+"_mul",it,q.i32_const(pt),it)):W.addCode(q.call(v+"_mul",rt,q.i32_const(pt),it))}function et(Q,rt){const ft=Q[0],dt=Q[1],it=rt[0],ht=rt[1],Pt=[(ft*it-dt*ht)%a,(ft*ht+dt*it)%a];return Fv(Pt[0])&&(Pt[0]=Pt[0]+a),Pt}}function Ee(){const g=t.addFunction(n+"__cyclotomicSquare");g.addParam("x","i32"),g.addParam("r","i32");const y=g.getCodeBuilder(),V=y.getLocal("x"),W=y.i32_add(y.getLocal("x"),y.i32_const(l)),q=y.i32_add(y.getLocal("x"),y.i32_const(2*l)),et=y.i32_add(y.getLocal("x"),y.i32_const(3*l)),Q=y.i32_add(y.getLocal("x"),y.i32_const(4*l)),rt=y.i32_add(y.getLocal("x"),y.i32_const(5*l)),ft=y.getLocal("r"),dt=y.i32_add(y.getLocal("r"),y.i32_const(l)),it=y.i32_add(y.getLocal("r"),y.i32_const(2*l)),ht=y.i32_add(y.getLocal("r"),y.i32_const(3*l)),Pt=y.i32_add(y.getLocal("r"),y.i32_const(4*l)),Ct=y.i32_add(y.getLocal("r"),y.i32_const(5*l)),pt=y.i32_const(t.alloc(l)),Ft=y.i32_const(t.alloc(l)),Mt=y.i32_const(t.alloc(l)),Qt=y.i32_const(t.alloc(l)),kt=y.i32_const(t.alloc(l)),Dt=y.i32_const(t.alloc(l)),It=y.i32_const(t.alloc(l)),le=y.i32_const(t.alloc(l));g.addCode(y.call(v+"_mul",V,Q,It),y.call(v+"_mulNR",Q,pt),y.call(v+"_add",V,pt,pt),y.call(v+"_add",V,Q,le),y.call(v+"_mul",le,pt,pt),y.call(v+"_mulNR",It,le),y.call(v+"_add",It,le,le),y.call(v+"_sub",pt,le,pt),y.call(v+"_add",It,It,Ft),y.call(v+"_mul",et,q,It),y.call(v+"_mulNR",q,Mt),y.call(v+"_add",et,Mt,Mt),y.call(v+"_add",et,q,le),y.call(v+"_mul",le,Mt,Mt),y.call(v+"_mulNR",It,le),y.call(v+"_add",It,le,le),y.call(v+"_sub",Mt,le,Mt),y.call(v+"_add",It,It,Qt),y.call(v+"_mul",W,rt,It),y.call(v+"_mulNR",rt,kt),y.call(v+"_add",W,kt,kt),y.call(v+"_add",W,rt,le),y.call(v+"_mul",le,kt,kt),y.call(v+"_mulNR",It,le),y.call(v+"_add",It,le,le),y.call(v+"_sub",kt,le,kt),y.call(v+"_add",It,It,Dt),y.call(v+"_sub",pt,V,ft),y.call(v+"_add",ft,ft,ft),y.call(v+"_add",pt,ft,ft),y.call(v+"_add",Ft,Q,Pt),y.call(v+"_add",Pt,Pt,Pt),y.call(v+"_add",Ft,Pt,Pt),y.call(v+"_mul",Dt,y.i32_const($),le),y.call(v+"_add",le,et,ht),y.call(v+"_add",ht,ht,ht),y.call(v+"_add",le,ht,ht),y.call(v+"_sub",kt,q,it),y.call(v+"_add",it,it,it),y.call(v+"_add",kt,it,it),y.call(v+"_sub",Mt,W,dt),y.call(v+"_add",dt,dt,dt),y.call(v+"_add",Mt,dt,dt),y.call(v+"_add",Qt,rt,Ct),y.call(v+"_add",Ct,Ct,Ct),y.call(v+"_add",Qt,Ct,Ct))}function _s(g,y,V){const W=at(g).map(it=>it==-1?255:it),q=t.alloc(W),et=t.addFunction(n+"__cyclotomicExp_"+V);et.addParam("x","i32"),et.addParam("r","i32"),et.addLocal("bit","i32"),et.addLocal("i","i32");const Q=et.getCodeBuilder(),rt=Q.getLocal("x"),ft=Q.getLocal("r"),dt=Q.i32_const(t.alloc(c));et.addCode(Q.call(tt+"_conjugate",rt,dt),Q.call(tt+"_one",ft),Q.if(Q.teeLocal("bit",Q.i32_load8_s(Q.i32_const(W.length-1),q)),Q.if(Q.i32_eq(Q.getLocal("bit"),Q.i32_const(1)),Q.call(tt+"_mul",ft,rt,ft),Q.call(tt+"_mul",ft,dt,ft))),Q.setLocal("i",Q.i32_const(W.length-2)),Q.block(Q.loop(Q.call(n+"__cyclotomicSquare",ft,ft),Q.if(Q.teeLocal("bit",Q.i32_load8_s(Q.getLocal("i"),q)),Q.if(Q.i32_eq(Q.getLocal("bit"),Q.i32_const(1)),Q.call(tt+"_mul",ft,rt,ft),Q.call(tt+"_mul",ft,dt,ft))),Q.br_if(1,Q.i32_eqz(Q.getLocal("i"))),Q.setLocal("i",Q.i32_sub(Q.getLocal("i"),Q.i32_const(1))),Q.br(0)))),et.addCode(Q.call(tt+"_conjugate",ft,ft))}function nn(){Ee(),_s(x,k,"w0");const g=t.addFunction(n+"_finalExponentiation");g.addParam("x","i32"),g.addParam("r","i32");const y=g.getCodeBuilder(),V=y.getLocal("x"),W=y.getLocal("r"),q=y.i32_const(t.alloc(c)),et=y.i32_const(t.alloc(c)),Q=y.i32_const(t.alloc(c)),rt=y.i32_const(t.alloc(c)),ft=y.i32_const(t.alloc(c)),dt=y.i32_const(t.alloc(c)),it=y.i32_const(t.alloc(c));g.addCode(y.call(tt+"_frobeniusMap6",V,q),y.call(tt+"_inverse",V,et),y.call(tt+"_mul",q,et,Q),y.call(tt+"_copy",Q,et),y.call(tt+"_frobeniusMap2",Q,Q),y.call(tt+"_mul",Q,et,Q),y.call(n+"__cyclotomicSquare",Q,et),y.call(tt+"_conjugate",et,et),y.call(n+"__cyclotomicExp_w0",Q,rt),y.call(n+"__cyclotomicSquare",rt,ft),y.call(tt+"_mul",et,rt,dt),y.call(n+"__cyclotomicExp_w0",dt,et),y.call(n+"__cyclotomicExp_w0",et,q),y.call(n+"__cyclotomicExp_w0",q,it),y.call(tt+"_mul",it,ft,it),y.call(n+"__cyclotomicExp_w0",it,ft),y.call(tt+"_conjugate",dt,dt),y.call(tt+"_mul",ft,dt,ft),y.call(tt+"_mul",ft,Q,ft),y.call(tt+"_conjugate",Q,dt),y.call(tt+"_mul",et,Q,et),y.call(tt+"_frobeniusMap3",et,et),y.call(tt+"_mul",it,dt,it),y.call(tt+"_frobeniusMap1",it,it),y.call(tt+"_mul",rt,q,rt),y.call(tt+"_frobeniusMap2",rt,rt),y.call(tt+"_mul",rt,et,rt),y.call(tt+"_mul",rt,it,rt),y.call(tt+"_mul",rt,ft,W))}function xs(){const g=t.addFunction(n+"_finalExponentiationOld");g.addParam("x","i32"),g.addParam("r","i32");const V=t.alloc(zt.bigInt2BytesLE(322277361516934140462891564586510139908379969514828494218366688025288661041104682794998680497580008899973249814104447692778988208376779573819485263026159588510513834876303014016798809919343532899164848730280942609956670917565618115867287399623286813270357901731510188149934363360381614501334086825442271920079363289954510565375378443704372994881406797882676971082200626541916413184642520269678897559532260949334760604962086348898118982248842634379637598665468817769075878555493752214492790122785850202957575200176084204422751485957336465472324810982833638490904279282696134323072515220044451592646885410572234451732790590013479358343841220074174848221722017083597872017638514103174122784843925578370430843522959600095676285723737049438346544753168912974976791528535276317256904336520179281145394686565050419250614107803233314658825463117900250701199181529205942363159325765991819433914303908860460720581408201373164047773794825411011922305820065611121544561808414055302212057471395719432072209245600258134364584636810093520285711072578721435517884103526483832733289802426157301542744476740008494780363354305116978805620671467071400711358839553375340724899735460480144599782014906586543813292157922220645089192130209334926661588737007768565838519456601560804957985667880395221049249803753582637708560n,544)),W=g.getCodeBuilder();g.addCode(W.call(tt+"_exp",W.getLocal("x"),W.i32_const(V),W.i32_const(544),W.getLocal("r")))}const Me=t.alloc(b),pn=t.alloc(Z);function Jn(g){const y=t.addFunction(n+"_pairingEq"+g);for(let et=0;et<g;et++)y.addParam("p_"+et,"i32"),y.addParam("q_"+et,"i32");y.addParam("c","i32"),y.setReturnType("i32");const V=y.getCodeBuilder(),W=V.i32_const(t.alloc(c)),q=V.i32_const(t.alloc(c));y.addCode(V.call(tt+"_one",W));for(let et=0;et<g;et++)y.addCode(V.call(n+"_prepareG1",V.getLocal("p_"+et),V.i32_const(Me))),y.addCode(V.call(n+"_prepareG2",V.getLocal("q_"+et),V.i32_const(pn))),y.addCode(V.if(V.i32_eqz(V.call(I+"_inGroupAffine",V.i32_const(Me))),V.ret(V.i32_const(0))),V.if(V.i32_eqz(V.call(S+"_inGroupAffine",V.i32_const(pn))),V.ret(V.i32_const(0)))),y.addCode(V.call(n+"_millerLoop",V.i32_const(Me),V.i32_const(pn),q)),y.addCode(V.call(tt+"_mul",W,q,W));y.addCode(V.call(n+"_finalExponentiation",W,W)),y.addCode(V.call(tt+"_eq",W,V.getLocal("c")))}function Nr(){const g=t.addFunction(n+"_pairing");g.addParam("p","i32"),g.addParam("q","i32"),g.addParam("r","i32");const y=g.getCodeBuilder(),V=y.i32_const(t.alloc(c));g.addCode(y.call(n+"_prepareG1",y.getLocal("p"),y.i32_const(Me))),g.addCode(y.call(n+"_prepareG2",y.getLocal("q"),y.i32_const(pn))),g.addCode(y.call(n+"_millerLoop",y.i32_const(Me),y.i32_const(pn),V)),g.addCode(y.call(n+"_finalExponentiation",V,y.getLocal("r")))}function $s(){const g=t.addFunction(S+"_inGroupAffine");g.addParam("p","i32"),g.setReturnType("i32");const y=g.getCodeBuilder(),V=[2001204777610833696708894912867952078278441409969503942666029068062015825245418932221343814564507832018947136279894n,2001204777610833696708894912867952078278441409969503942666029068062015825245418932221343814564507832018947136279893n],W=4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,q=[2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n,2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n],et=y.i32_const(t.alloc([...zt.bigInt2BytesLE(P(V[0]),o),...zt.bigInt2BytesLE(P(V[1]),o)])),Q=y.i32_const(t.alloc(zt.bigInt2BytesLE(P(W),o))),rt=y.i32_const(t.alloc([...zt.bigInt2BytesLE(P(q[0]),o),...zt.bigInt2BytesLE(P(q[1]),o)])),ft=y.i32_const(t.alloc(zt.bigInt2BytesLE(x,8))),dt=y.getLocal("p"),it=y.i32_add(y.getLocal("p"),y.i32_const(l)),ht=y.i32_const(t.alloc(f)),Pt=y.i32_const(t.alloc(l)),Ct=y.i32_const(t.alloc(l)),pt=t.alloc(l*2),Ft=y.i32_const(pt),Mt=y.i32_const(pt),Qt=y.i32_const(pt),kt=y.i32_const(pt+f),Dt=y.i32_const(pt+l),It=y.i32_const(pt+l),le=y.i32_const(pt+l+f),Wn=t.alloc(l*3),Ta=y.i32_const(Wn),Ay=y.i32_const(Wn),Cd=y.i32_const(Wn),vd=y.i32_const(Wn+f),Ey=y.i32_const(Wn+l),Pd=y.i32_const(Wn+l),Id=y.i32_const(Wn+l+f),Cy=y.i32_const(Wn+l*2);g.addCode(y.if(y.call(S+"_isZeroAffine",y.getLocal("p")),y.ret(y.i32_const(1))),y.if(y.i32_eqz(y.call(S+"_inCurveAffine",y.getLocal("p"))),y.ret(y.i32_const(0))),y.call(v+"_mul",dt,et,Pt),y.call(v+"_mul",it,et,Ct),y.call(v+"_mul1",Pt,Q,Mt),y.call(v+"_neg",Ct,Dt),y.call(v+"_neg",Pt,Ay),y.call(v+"_mul",Ct,rt,Ey),y.call(A+"_sub",Qt,kt,ht),y.call(A+"_add",Qt,kt,kt),y.call(A+"_copy",ht,Qt),y.call(A+"_sub",It,le,ht),y.call(A+"_add",It,le,le),y.call(A+"_copy",ht,It),y.call(A+"_add",Cd,vd,ht),y.call(A+"_sub",Cd,vd,vd),y.call(A+"_copy",ht,Cd),y.call(A+"_sub",Id,Pd,ht),y.call(A+"_add",Pd,Id,Id),y.call(A+"_copy",ht,Pd),y.call(v+"_one",Cy),y.call(S+"_timesScalar",Ta,ft,y.i32_const(8),Ta),y.call(S+"_addMixed",Ta,Ft,Ta),y.ret(y.call(S+"_eqMixed",Ta,y.getLocal("p"))));const Ul=t.addFunction(S+"_inGroup");Ul.addParam("pIn","i32"),Ul.setReturnType("i32");const jc=Ul.getCodeBuilder(),Y5=jc.i32_const(t.alloc(l*2));Ul.addCode(jc.call(S+"_toAffine",jc.getLocal("pIn"),Y5),jc.ret(jc.call(S+"_inGroupAffine",Y5)))}function st(){const g=t.addFunction(I+"_inGroupAffine");g.addParam("p","i32"),g.setReturnType("i32");const y=g.getCodeBuilder(),V=4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,W=793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,q=(x*x-1n)/3n,et=y.i32_const(t.alloc(zt.bigInt2BytesLE(P(V),o))),Q=y.i32_const(t.alloc(zt.bigInt2BytesLE(P(W),o))),rt=y.i32_const(t.alloc(zt.bigInt2BytesLE(q,16))),ft=y.getLocal("p"),dt=y.i32_add(y.getLocal("p"),y.i32_const(f)),it=t.alloc(f*3),ht=y.i32_const(it),Pt=y.i32_const(it),Ct=y.i32_const(it+f),pt=t.alloc(f*2),Ft=y.i32_const(pt),Mt=y.i32_const(pt),Qt=y.i32_const(pt+f);g.addCode(y.if(y.call(I+"_isZeroAffine",y.getLocal("p")),y.ret(y.i32_const(1))),y.if(y.i32_eqz(y.call(I+"_inCurveAffine",y.getLocal("p"))),y.ret(y.i32_const(0))),y.call(A+"_mul",ft,et,Pt),y.call(A+"_copy",dt,Ct),y.call(A+"_mul",ft,Q,Mt),y.call(A+"_copy",dt,Qt),y.call(I+"_doubleAffine",ht,ht),y.call(I+"_subMixed",ht,y.getLocal("p"),ht),y.call(I+"_subMixed",ht,Ft,ht),y.call(I+"_timesScalar",ht,rt,y.i32_const(16),ht),y.ret(y.call(I+"_eqMixed",ht,Ft)));const kt=t.addFunction(I+"_inGroup");kt.addParam("pIn","i32"),kt.setReturnType("i32");const Dt=kt.getCodeBuilder(),It=Dt.i32_const(t.alloc(f*2));kt.addCode(Dt.call(I+"_toAffine",Dt.getLocal("pIn"),It),Dt.ret(Dt.call(I+"_inGroupAffine",It)))}for(let g=0;g<10;g++)Zt(g),t.exportFunction(tt+"_frobeniusMap"+g);st(),$s(),Rt(),_t(),gt(),Lt(),Nt(),xs(),nn();for(let g=1;g<=5;g++)Jn(g),t.exportFunction(n+"_pairingEq"+g);Nr(),t.exportFunction(n+"_pairing"),t.exportFunction(n+"_prepareG1"),t.exportFunction(n+"_prepareG2"),t.exportFunction(n+"_millerLoop"),t.exportFunction(n+"_finalExponentiation"),t.exportFunction(n+"_finalExponentiationOld"),t.exportFunction(n+"__cyclotomicSquare"),t.exportFunction(n+"__cyclotomicExp_w0"),t.exportFunction(K+"_mul1"),t.exportFunction(K+"_mul01"),t.exportFunction(tt+"_mul014"),t.exportFunction(I+"_inGroupAffine"),t.exportFunction(I+"_inGroup"),t.exportFunction(S+"_inGroupAffine"),t.exportFunction(S+"_inGroup")},kv=Iv,Uv=Nv;function j2(s){if(typeof s=="bigint"||s.eq!==void 0)return s.toString(10);if(s instanceof Uint8Array)return U0(s,0);if(Array.isArray(s))return s.map(j2);if(typeof s=="object"){const t={};return Object.keys(s).forEach(n=>{t[n]=j2(s[n])}),t}else return s}function K2(s){if(typeof s=="string"&&/^[0-9]+$/.test(s))return BigInt(s);if(typeof s=="string"&&/^0x[0-9a-fA-F]+$/.test(s))return BigInt(s);if(Array.isArray(s))return s.map(K2);if(typeof s=="object"){if(s===null)return null;const t={};return Object.keys(s).forEach(n=>{t[n]=K2(s[n])}),t}else return s}function Mv(s){let t=BigInt(0),e=s.length,n=0;const a=new DataView(s.buffer,s.byteOffset,s.byteLength);for(;e>0;)e>=4?(e-=4,t+=BigInt(a.getUint32(e))<<BigInt(n*8),n+=4):e>=2?(e-=2,t+=BigInt(a.getUint16(e))<<BigInt(n*8),n+=2):(e-=1,t+=BigInt(a.getUint8(e))<<BigInt(n*8),n+=1);return t}function Dv(s,t){let e=s;const n=new Uint8Array(t),a=new DataView(n.buffer);let i=t;for(;i>0;)i-4>=0?(i-=4,a.setUint32(i,Number(e&BigInt(4294967295))),e=e>>BigInt(32)):i-2>=0?(i-=2,a.setUint16(i,Number(e&BigInt(65535))),e=e>>BigInt(16)):(i-=1,a.setUint8(i,Number(e&BigInt(255))),e=e>>BigInt(8));if(e)throw new Error("Number does not fit in this length");return n}function zv(s){let t=BigInt(0),e=0;const n=new DataView(s.buffer,s.byteOffset,s.byteLength);for(;e<s.length;)e+4<=s.length?(t+=BigInt(n.getUint32(e,!0))<<BigInt(e*8),e+=4):e+2<=s.length?(t+=BigInt(n.getUint16(e,!0))<<BigInt(e*8),e+=2):(t+=BigInt(n.getUint8(e,!0))<<BigInt(e*8),e+=1);return t}function q9(s,t){let e=s;typeof t>"u"&&(t=Math.floor((Ol(s)-1)/8)+1,t==0&&(t=1));const n=new Uint8Array(t),a=new DataView(n.buffer);let i=0;for(;i<t;)i+4<=t?(a.setUint32(i,Number(e&BigInt(4294967295)),!0),i+=4,e=e>>BigInt(32)):i+2<=t?(a.setUint16(i,Number(e&BigInt(65535)),!0),i+=2,e=e>>BigInt(16)):(a.setUint8(i,Number(e&BigInt(255)),!0),i+=1,e=e>>BigInt(8));if(e)throw new Error("Number does not fit in this length");return n}function $2(s,t){if(typeof t=="bigint"||t.eq!==void 0)return t.toString(10);if(t instanceof Uint8Array)return s.toString(s.e(t));if(Array.isArray(t))return t.map($2.bind(this,s));if(typeof t=="object"){const e={};return Object.keys(t).forEach(a=>{e[a]=$2(s,t[a])}),e}else return t}function Q2(s,t){if(typeof t=="string"&&/^[0-9]+$/.test(t))return s.e(t);if(typeof t=="string"&&/^0x[0-9a-fA-F]+$/.test(t))return s.e(t);if(Array.isArray(t))return t.map(Q2.bind(this,s));if(typeof t=="object"){if(t===null)return null;const e={};return Object.keys(t).forEach(a=>{e[a]=Q2(s,t[a])}),e}else return t}const h0=[];for(let s=0;s<256;s++)h0[s]=qv(s,8);function qv(s,t){let e=0,n=s;for(let a=0;a<t;a++)e<<=1,e=e|n&1,n>>=1;return e}function V9(s,t){return(h0[s>>>24]|h0[s>>>16&255]<<8|h0[s>>>8&255]<<16|h0[s&255]<<24)>>>32-t}function on(s){return(s&4294901760?(s&=4294901760,16):0)|(s&4278255360?(s&=4278255360,8):0)|(s&4042322160?(s&=4042322160,4):0)|(s&3435973836?(s&=3435973836,2):0)|(s&2863311530)!==0}function G9(s,t){const e=s.byteLength/t,n=on(e);if(e!=1<<n)throw new Error("Invalid number of pointers");for(let a=0;a<e;a++){const i=V9(a,n);if(a>i){const r=s.slice(a*t,(a+1)*t);s.set(s.slice(i*t,(i+1)*t),a*t),s.set(r,i*t)}}}function U5(s,t){const e=new Uint8Array(t*s.length);for(let n=0;n<s.length;n++)e.set(s[n],n*t);return e}function p1(s,t){const e=s.byteLength/t,n=new Array(e);for(let a=0;a<e;a++)n[a]=s.slice(a*t,a*t+t);return n}var Vv=Object.freeze({__proto__:null,array2buffer:U5,beBuff2int:Mv,beInt2Buff:Dv,bitReverse:V9,buffReverseBits:G9,buffer2array:p1,leBuff2int:zv,leInt2Buff:q9,log2:on,stringifyBigInts:j2,stringifyFElements:$2,unstringifyBigInts:K2,unstringifyFElements:Q2});const ze=1<<30;class re{constructor(t){this.buffers=[],this.byteLength=t;for(let e=0;e<t;e+=ze){const n=Math.min(t-e,ze);this.buffers.push(new Uint8Array(n))}}slice(t,e){e===void 0&&(e=this.byteLength),t===void 0&&(t=0);const n=e-t,a=Math.floor(t/ze),i=Math.floor((t+n-1)/ze);if(a==i||n==0)return this.buffers[a].slice(t%ze,t%ze+n);let r,o=a,f=t%ze,l=n;for(;l>0;){const c=f+l>ze?ze-f:l,h=new Uint8Array(this.buffers[o].buffer,this.buffers[o].byteOffset+f,c);if(c==n)return h.slice();r||(n<=ze?r=new Uint8Array(n):r=new re(n)),r.set(h,n-l),l=l-c,o++,f=0}return r}set(t,e){e===void 0&&(e=0);const n=t.byteLength;if(n==0)return;const a=Math.floor(e/ze),i=Math.floor((e+n-1)/ze);if(a==i)return t instanceof re&&t.buffers.length==1?this.buffers[a].set(t.buffers[0],e%ze):this.buffers[a].set(t,e%ze);let r=a,o=e%ze,f=n;for(;f>0;){const l=o+f>ze?ze-o:f,c=t.slice(n-f,n-f+l);new Uint8Array(this.buffers[r].buffer,this.buffers[r].byteOffset+o,l).set(c),f=f-l,r++,o=0}}}function ka(s,t,e,n){return async function(i){const r=Math.floor(i.byteLength/e);if(r*e!==i.byteLength)throw new Error("Invalid buffer size");const o=Math.floor(r/s.concurrency),f=[];for(let m=0;m<s.concurrency;m++){let p;if(m<s.concurrency-1?p=o:p=r-m*o,p==0)continue;const A=[{cmd:"ALLOCSET",var:0,buff:i.slice(m*o*e,m*o*e+p*e)},{cmd:"ALLOC",var:1,len:n*p},{cmd:"CALL",fnName:t,params:[{var:0},{val:p},{var:1}]},{cmd:"GET",out:0,var:1,len:n*p}];f.push(s.queueAction(A))}const l=await Promise.all(f);let c;i instanceof re?c=new re(r*n):c=new Uint8Array(r*n);let h=0;for(let m=0;m<l.length;m++)c.set(l[m][0],h),h+=l[m][0].byteLength;return c}}class c8{constructor(t,e,n,a){if(this.tm=t,this.prefix=e,this.p=a,this.n8=n,this.type="F1",this.m=1,this.half=ao(a,Ti),this.bitLength=Ol(a),this.mask=ya(h1(Ti,this.bitLength),Ti),this.pOp1=t.alloc(n),this.pOp2=t.alloc(n),this.pOp3=t.alloc(n),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=this.tm.getBuff(this.pOp1,this.n8),this.tm.instance.exports[e+"_one"](this.pOp1),this.one=this.tm.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one),this.n64=Math.floor(n/8),this.n32=Math.floor(n/4),this.n64*8!=this.n8)throw new Error("n8 must be a multiple of 8");this.half=ao(this.p,Ti),this.nqr=this.two;let i=this.exp(this.nqr,this.half);for(;!this.eq(i,this.negone);)this.nqr=this.add(this.nqr,this.one),i=this.exp(this.nqr,this.half);this.shift=this.mul(this.nqr,this.nqr),this.shiftInv=this.inv(this.shift),this.s=0;let r=ya(this.p,Ti);for(;!I5(r);)this.s=this.s+1,r=ao(r,Ti);this.w=[],this.w[this.s]=this.exp(this.nqr,r);for(let o=this.s-1;o>=0;o--)this.w[o]=this.square(this.w[o+1]);if(!this.eq(this.w[0],this.one))throw new Error("Error calculating roots of unity");this.batchToMontgomery=ka(t,e+"_batchToMontgomery",this.n8,this.n8),this.batchFromMontgomery=ka(t,e+"_batchFromMontgomery",this.n8,this.n8)}op2(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}add(t,e){return this.op2("_add",t,e)}eq(t,e){return this.op2Bool("_eq",t,e)}isZero(t){return this.op1Bool("_isZero",t)}sub(t,e){return this.op2("_sub",t,e)}neg(t){return this.op1("_neg",t)}inv(t){return this.op1("_inverse",t)}toMontgomery(t){return this.op1("_toMontgomery",t)}fromMontgomery(t){return this.op1("_fromMontgomery",t)}mul(t,e){return this.op2("_mul",t,e)}div(t,e){return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(t){return this.op1("_square",t)}isSquare(t){return this.op1Bool("_isSquare",t)}sqrt(t){return this.op1("_sqrt",t)}exp(t,e){return e instanceof Uint8Array||(e=vc(Le(e))),this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}isNegative(t){return this.op1Bool("_isNegative",t)}e(t,e){if(t instanceof Uint8Array)return t;let n=Le(t,e);p9(n)?(n=_9(n),H2(n,this.p)&&(n=vs(n,this.p)),n=ya(this.p,n)):H2(n,this.p)&&(n=vs(n,this.p));const a=q9(n,this.n8);return this.toMontgomery(a)}toString(t,e){const n=this.fromMontgomery(t),a=U0(n,0);return E9(a,e)}fromRng(t){let e;const n=new Uint8Array(this.n8);do{e=C9;for(let a=0;a<this.n64;a++)e=T5(e,h1(t.nextU64(),64*a));e=B5(e,this.mask)}while(w9(e,this.p));return k0(n,0,e,this.n8),n}random(){return this.fromRng(S5())}toObject(t){const e=this.fromMontgomery(t);return U0(e,0)}fromObject(t){const e=new Uint8Array(this.n8);return k0(e,0,t,this.n8),this.toMontgomery(e)}toRprLE(t,e,n){t.set(this.fromMontgomery(n),e)}toRprBE(t,e,n){const a=this.fromMontgomery(n);for(let i=0;i<this.n8/2;i++){const r=a[i];a[i]=a[this.n8-1-i],a[this.n8-1-i]=r}t.set(a,e)}fromRprLE(t,e){e=e||0;const n=t.slice(e,e+this.n8);return this.toMontgomery(n)}async batchInverse(t){let e=!1;const n=this.n8,a=this.n8;Array.isArray(t)?(t=U5(t,n),e=!0):t=t.slice(0,t.byteLength);const i=Math.floor(t.byteLength/n);if(i*n!==t.byteLength)throw new Error("Invalid buffer size");const r=Math.floor(i/this.tm.concurrency),o=[];for(let h=0;h<this.tm.concurrency;h++){let m;if(h<this.tm.concurrency-1?m=r:m=i-h*r,m==0)continue;const C=[{cmd:"ALLOCSET",var:0,buff:t.slice(h*r*n,h*r*n+m*n)},{cmd:"ALLOC",var:1,len:a*m},{cmd:"CALL",fnName:this.prefix+"_batchInverse",params:[{var:0},{val:n},{val:m},{var:1},{val:a}]},{cmd:"GET",out:0,var:1,len:a*m}];o.push(this.tm.queueAction(C))}const f=await Promise.all(o);let l;t instanceof re?l=new re(i*a):l=new Uint8Array(i*a);let c=0;for(let h=0;h<f.length;h++)l.set(f[h][0],c),c+=f[h][0].byteLength;return e?p1(l,a):l}}class l8{constructor(t,e,n){this.tm=t,this.prefix=e,this.F=n,this.type="F2",this.m=n.m*2,this.n8=this.F.n8*2,this.n32=this.F.n32*2,this.n64=this.F.n64*2,this.pOp1=t.alloc(n.n8*2),this.pOp2=t.alloc(n.n8*2),this.pOp3=t.alloc(n.n8*2),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=t.getBuff(this.pOp1,this.n8),this.tm.instance.exports[e+"_one"](this.pOp1),this.one=t.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one)}op2(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}add(t,e){return this.op2("_add",t,e)}eq(t,e){return this.op2Bool("_eq",t,e)}isZero(t){return this.op1Bool("_isZero",t)}sub(t,e){return this.op2("_sub",t,e)}neg(t){return this.op1("_neg",t)}inv(t){return this.op1("_inverse",t)}isNegative(t){return this.op1Bool("_isNegative",t)}toMontgomery(t){return this.op1("_toMontgomery",t)}fromMontgomery(t){return this.op1("_fromMontgomery",t)}mul(t,e){return this.op2("_mul",t,e)}mul1(t,e){return this.op2("_mul1",t,e)}div(t,e){return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(t){return this.op1("_square",t)}isSquare(t){return this.op1Bool("_isSquare",t)}sqrt(t){return this.op1("_sqrt",t)}exp(t,e){return e instanceof Uint8Array||(e=vc(Le(e))),this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}e(t,e){if(t instanceof Uint8Array)return t;if(Array.isArray(t)&&t.length==2){const n=this.F.e(t[0],e),a=this.F.e(t[1],e),i=new Uint8Array(this.F.n8*2);return i.set(n),i.set(a,this.F.n8*2),i}else throw new Error("invalid F2")}toString(t,e){const n=this.F.toString(t.slice(0,this.F.n8),e),a=this.F.toString(t.slice(this.F.n8),e);return`[${n}, ${a}]`}fromRng(t){const e=this.F.fromRng(t),n=this.F.fromRng(t),a=new Uint8Array(this.F.n8*2);return a.set(e),a.set(n,this.F.n8),a}random(){return this.fromRng(S5())}toObject(t){const e=this.F.toObject(t.slice(0,this.F.n8)),n=this.F.toObject(t.slice(this.F.n8,this.F.n8*2));return[e,n]}fromObject(t){const e=new Uint8Array(this.F.n8*2),n=this.F.fromObject(t[0]),a=this.F.fromObject(t[1]);return e.set(n),e.set(a,this.F.n8),e}c1(t){return t.slice(0,this.F.n8)}c2(t){return t.slice(this.F.n8)}}class Gv{constructor(t,e,n){this.tm=t,this.prefix=e,this.F=n,this.type="F3",this.m=n.m*3,this.n8=this.F.n8*3,this.n32=this.F.n32*3,this.n64=this.F.n64*3,this.pOp1=t.alloc(n.n8*3),this.pOp2=t.alloc(n.n8*3),this.pOp3=t.alloc(n.n8*3),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=t.getBuff(this.pOp1,this.n8),this.tm.instance.exports[e+"_one"](this.pOp1),this.one=t.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one)}op2(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}eq(t,e){return this.op2Bool("_eq",t,e)}isZero(t){return this.op1Bool("_isZero",t)}add(t,e){return this.op2("_add",t,e)}sub(t,e){return this.op2("_sub",t,e)}neg(t){return this.op1("_neg",t)}inv(t){return this.op1("_inverse",t)}isNegative(t){return this.op1Bool("_isNegative",t)}toMontgomery(t){return this.op1("_toMontgomery",t)}fromMontgomery(t){return this.op1("_fromMontgomery",t)}mul(t,e){return this.op2("_mul",t,e)}div(t,e){return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(t){return this.op1("_square",t)}isSquare(t){return this.op1Bool("_isSquare",t)}sqrt(t){return this.op1("_sqrt",t)}exp(t,e){return e instanceof Uint8Array||(e=vc(Le(e))),this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.getBuff(this.pOp3,this.n8)}e(t,e){if(t instanceof Uint8Array)return t;if(Array.isArray(t)&&t.length==3){const n=this.F.e(t[0],e),a=this.F.e(t[1],e),i=this.F.e(t[2],e),r=new Uint8Array(this.F.n8*3);return r.set(n),r.set(a,this.F.n8),r.set(i,this.F.n8*2),r}else throw new Error("invalid F3")}toString(t,e){const n=this.F.toString(t.slice(0,this.F.n8),e),a=this.F.toString(t.slice(this.F.n8,this.F.n8*2),e),i=this.F.toString(t.slice(this.F.n8*2),e);return`[${n}, ${a}, ${i}]`}fromRng(t){const e=this.F.fromRng(t),n=this.F.fromRng(t),a=this.F.fromRng(t),i=new Uint8Array(this.F.n8*3);return i.set(e),i.set(n,this.F.n8),i.set(a,this.F.n8*2),i}random(){return this.fromRng(S5())}toObject(t){const e=this.F.toObject(t.slice(0,this.F.n8)),n=this.F.toObject(t.slice(this.F.n8,this.F.n8*2)),a=this.F.toObject(t.slice(this.F.n8*2,this.F.n8*3));return[e,n,a]}fromObject(t){const e=new Uint8Array(this.F.n8*3),n=this.F.fromObject(t[0]),a=this.F.fromObject(t[1]),i=this.F.fromObject(t[2]);return e.set(n),e.set(a,this.F.n8),e.set(i,this.F.n8*2),e}c1(t){return t.slice(0,this.F.n8)}c2(t){return t.slice(this.F.n8,this.F.n8*2)}c3(t){return t.slice(this.F.n8*2)}}class f8{constructor(t,e,n,a,i,r){this.tm=t,this.prefix=e,this.F=n,this.pOp1=t.alloc(n.n8*3),this.pOp2=t.alloc(n.n8*3),this.pOp3=t.alloc(n.n8*3),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=this.tm.getBuff(this.pOp1,n.n8*3),this.tm.instance.exports[e+"_zeroAffine"](this.pOp1),this.zeroAffine=this.tm.getBuff(this.pOp1,n.n8*2),this.one=this.tm.getBuff(a,n.n8*3),this.g=this.one,this.oneAffine=this.tm.getBuff(a,n.n8*2),this.gAffine=this.oneAffine,this.b=this.tm.getBuff(i,n.n8),r&&(this.cofactor=vc(r)),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one),this.batchLEMtoC=ka(t,e+"_batchLEMtoC",n.n8*2,n.n8),this.batchLEMtoU=ka(t,e+"_batchLEMtoU",n.n8*2,n.n8*2),this.batchCtoLEM=ka(t,e+"_batchCtoLEM",n.n8,n.n8*2),this.batchUtoLEM=ka(t,e+"_batchUtoLEM",n.n8*2,n.n8*2),this.batchToJacobian=ka(t,e+"_batchToJacobian",n.n8*2,n.n8*3),this.batchToAffine=ka(t,e+"_batchToAffine",n.n8*3,n.n8*2)}op2(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}op2bool(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}op1Affine(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*2)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}add(t,e){if(t.byteLength==this.F.n8*3){if(e.byteLength==this.F.n8*3)return this.op2("_add",t,e);if(e.byteLength==this.F.n8*2)return this.op2("_addMixed",t,e);throw new Error("invalid point size")}else if(t.byteLength==this.F.n8*2){if(e.byteLength==this.F.n8*3)return this.op2("_addMixed",e,t);if(e.byteLength==this.F.n8*2)return this.op2("_addAffine",t,e);throw new Error("invalid point size")}else throw new Error("invalid point size")}sub(t,e){if(t.byteLength==this.F.n8*3){if(e.byteLength==this.F.n8*3)return this.op2("_sub",t,e);if(e.byteLength==this.F.n8*2)return this.op2("_subMixed",t,e);throw new Error("invalid point size")}else if(t.byteLength==this.F.n8*2){if(e.byteLength==this.F.n8*3)return this.op2("_subMixed",e,t);if(e.byteLength==this.F.n8*2)return this.op2("_subAffine",t,e);throw new Error("invalid point size")}else throw new Error("invalid point size")}neg(t){if(t.byteLength==this.F.n8*3)return this.op1("_neg",t);if(t.byteLength==this.F.n8*2)return this.op1Affine("_negAffine",t);throw new Error("invalid point size")}double(t){if(t.byteLength==this.F.n8*3)return this.op1("_double",t);if(t.byteLength==this.F.n8*2)return this.op1("_doubleAffine",t);throw new Error("invalid point size")}isZero(t){if(t.byteLength==this.F.n8*3)return this.op1Bool("_isZero",t);if(t.byteLength==this.F.n8*2)return this.op1Bool("_isZeroAffine",t);throw new Error("invalid point size")}timesScalar(t,e){e instanceof Uint8Array||(e=vc(Le(e)));let n;if(t.byteLength==this.F.n8*3)n=this.prefix+"_timesScalar";else if(t.byteLength==this.F.n8*2)n=this.prefix+"_timesScalarAffine";else throw new Error("invalid point size");return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[n](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}timesFr(t,e){let n;if(t.byteLength==this.F.n8*3)n=this.prefix+"_timesFr";else if(t.byteLength==this.F.n8*2)n=this.prefix+"_timesFrAffine";else throw new Error("invalid point size");return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[n](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}eq(t,e){if(t.byteLength==this.F.n8*3){if(e.byteLength==this.F.n8*3)return this.op2bool("_eq",t,e);if(e.byteLength==this.F.n8*2)return this.op2bool("_eqMixed",t,e);throw new Error("invalid point size")}else if(t.byteLength==this.F.n8*2){if(e.byteLength==this.F.n8*3)return this.op2bool("_eqMixed",e,t);if(e.byteLength==this.F.n8*2)return this.op2bool("_eqAffine",t,e);throw new Error("invalid point size")}else throw new Error("invalid point size")}toAffine(t){if(t.byteLength==this.F.n8*3)return this.op1Affine("_toAffine",t);if(t.byteLength==this.F.n8*2)return t;throw new Error("invalid point size")}toJacobian(t){if(t.byteLength==this.F.n8*3)return t;if(t.byteLength==this.F.n8*2)return this.op1("_toJacobian",t);throw new Error("invalid point size")}toRprUncompressed(t,e,n){if(this.tm.setBuff(this.pOp1,n),n.byteLength==this.F.n8*3)this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);else if(n.byteLength!=this.F.n8*2)throw new Error("invalid point size");this.tm.instance.exports[this.prefix+"_LEMtoU"](this.pOp1,this.pOp1);const a=this.tm.getBuff(this.pOp1,this.F.n8*2);t.set(a,e)}fromRprUncompressed(t,e){const n=t.slice(e,e+this.F.n8*2);return this.tm.setBuff(this.pOp1,n),this.tm.instance.exports[this.prefix+"_UtoLEM"](this.pOp1,this.pOp1),this.tm.getBuff(this.pOp1,this.F.n8*2)}toRprCompressed(t,e,n){if(this.tm.setBuff(this.pOp1,n),n.byteLength==this.F.n8*3)this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);else if(n.byteLength!=this.F.n8*2)throw new Error("invalid point size");this.tm.instance.exports[this.prefix+"_LEMtoC"](this.pOp1,this.pOp1);const a=this.tm.getBuff(this.pOp1,this.F.n8);t.set(a,e)}fromRprCompressed(t,e){const n=t.slice(e,e+this.F.n8);return this.tm.setBuff(this.pOp1,n),this.tm.instance.exports[this.prefix+"_CtoLEM"](this.pOp1,this.pOp2),this.tm.getBuff(this.pOp2,this.F.n8*2)}toUncompressed(t){const e=new Uint8Array(this.F.n8*2);return this.toRprUncompressed(e,0,t),e}toRprLEM(t,e,n){if(n.byteLength==this.F.n8*2){t.set(n,e);return}else if(n.byteLength==this.F.n8*3){this.tm.setBuff(this.pOp1,n),this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);const a=this.tm.getBuff(this.pOp1,this.F.n8*2);t.set(a,e)}else throw new Error("invalid point size")}fromRprLEM(t,e){return e=e||0,t.slice(e,e+this.F.n8*2)}toString(t,e){if(t.byteLength==this.F.n8*3){const n=this.F.toString(t.slice(0,this.F.n8),e),a=this.F.toString(t.slice(this.F.n8,this.F.n8*2),e),i=this.F.toString(t.slice(this.F.n8*2),e);return`[ ${n}, ${a}, ${i} ]`}else if(t.byteLength==this.F.n8*2){const n=this.F.toString(t.slice(0,this.F.n8),e),a=this.F.toString(t.slice(this.F.n8),e);return`[ ${n}, ${a} ]`}else throw new Error("invalid point size")}isValid(t){if(this.isZero(t))return!0;const e=this.F,n=this.toAffine(t),a=n.slice(0,this.F.n8),i=n.slice(this.F.n8,this.F.n8*2),r=e.add(e.mul(e.square(a),a),this.b),o=e.square(i);return e.eq(r,o)}fromRng(t){const e=this.F;let n=[],a,i;do n[0]=e.fromRng(t),a=t.nextBool(),i=e.add(e.mul(e.square(n[0]),n[0]),this.b);while(!e.isSquare(i));n[1]=e.sqrt(i);const r=e.isNegative(n[1]);a^r&&(n[1]=e.neg(n[1]));let o=new Uint8Array(this.F.n8*2);return o.set(n[0]),o.set(n[1],this.F.n8),this.cofactor&&(o=this.timesScalar(o,this.cofactor)),o}toObject(t){if(this.isZero(t))return[this.F.toObject(this.F.zero),this.F.toObject(this.F.one),this.F.toObject(this.F.zero)];const e=this.F.toObject(t.slice(0,this.F.n8)),n=this.F.toObject(t.slice(this.F.n8,this.F.n8*2));let a;return t.byteLength==this.F.n8*3?a=this.F.toObject(t.slice(this.F.n8*2,this.F.n8*3)):a=this.F.toObject(this.F.one),[e,n,a]}fromObject(t){const e=this.F.fromObject(t[0]),n=this.F.fromObject(t[1]);let a;if(t.length==3?a=this.F.fromObject(t[2]):a=this.F.one,this.F.isZero(a,this.F.one))return this.zeroAffine;if(this.F.eq(a,this.F.one)){const i=new Uint8Array(this.F.n8*2);return i.set(e),i.set(n,this.F.n8),i}else{const i=new Uint8Array(this.F.n8*3);return i.set(e),i.set(n,this.F.n8),i.set(a,this.F.n8*2),i}}e(t){return t instanceof Uint8Array?t:this.fromObject(t)}x(t){return this.toAffine(t).slice(0,this.F.n8)}y(t){return this.toAffine(t).slice(this.F.n8)}}function Hv(s){let e,n;async function a(c){const h=new Uint8Array(c.code),m=await WebAssembly.compile(h);n=new WebAssembly.Memory({initial:c.init,maximum:32767}),e=await WebAssembly.instantiate(m,{env:{memory:n}})}function i(c){const h=new Uint32Array(n.buffer,0,1);for(;h[0]&3;)h[0]++;const m=h[0];if(h[0]+=c,h[0]+c>n.buffer.byteLength){const p=n.buffer.byteLength/65536;let C=Math.floor((h[0]+c)/65536)+1;C>32767&&(C=32767),n.grow(C-p)}return m}function r(c){const h=i(c.byteLength);return f(h,c),h}function o(c,h){const m=new Uint8Array(n.buffer);return new Uint8Array(m.buffer,m.byteOffset+c,h)}function f(c,h){new Uint8Array(n.buffer).set(new Uint8Array(h),c)}function l(c){if(c[0].cmd=="INIT")return a(c[0]);const h={vars:[],out:[]},p=new Uint32Array(n.buffer,0,1)[0];for(let A=0;A<c.length;A++)switch(c[A].cmd){case"ALLOCSET":h.vars[c[A].var]=r(c[A].buff);break;case"ALLOC":h.vars[c[A].var]=i(c[A].len);break;case"SET":f(h.vars[c[A].var],c[A].buff);break;case"CALL":{const w=[];for(let I=0;I<c[A].params.length;I++){const v=c[A].params[I];typeof v.var<"u"?w.push(h.vars[v.var]+(v.offset||0)):typeof v.val<"u"&&w.push(v.val)}e.exports[c[A].fnName](...w);break}case"GET":h.out[c[A].out]=o(h.vars[c[A].var],c[A].len).slice();break;default:throw new Error("Invalid cmd")}const C=new Uint32Array(n.buffer,0,1);return C[0]=p,h.out}return l}const vu=25;class d8{constructor(){this.promise=new Promise((t,e)=>{this.reject=e,this.resolve=t})}}function jv(s){return new Promise(t=>setTimeout(t,s))}let J2;const u8=`(function thread(self) {
    const MAXMEM = 32767;
    let instance;
    let memory;

    if (self) {
        self.onmessage = function(e) {
            let data;
            if (e.data) {
                data = e.data;
            } else {
                data = e;
            }

            if (data[0].cmd == "INIT") {
                init(data[0]).then(function() {
                    self.postMessage(data.result);
                });
            } else if (data[0].cmd == "TERMINATE") {
                self.close();
            } else {
                const res = runTask(data);
                self.postMessage(res);
            }
        };
    }

    async function init(data) {
        const code = new Uint8Array(data.code);
        const wasmModule = await WebAssembly.compile(code);
        memory = new WebAssembly.Memory({initial:data.init, maximum: MAXMEM});

        instance = await WebAssembly.instantiate(wasmModule, {
            env: {
                "memory": memory
            }
        });
    }



    function alloc(length) {
        const u32 = new Uint32Array(memory.buffer, 0, 1);
        while (u32[0] & 3) u32[0]++;  // Return always aligned pointers
        const res = u32[0];
        u32[0] += length;
        if (u32[0] + length > memory.buffer.byteLength) {
            const currentPages = memory.buffer.byteLength / 0x10000;
            let requiredPages = Math.floor((u32[0] + length) / 0x10000)+1;
            if (requiredPages>MAXMEM) requiredPages=MAXMEM;
            memory.grow(requiredPages-currentPages);
        }
        return res;
    }

    function allocBuffer(buffer) {
        const p = alloc(buffer.byteLength);
        setBuffer(p, buffer);
        return p;
    }

    function getBuffer(pointer, length) {
        const u8 = new Uint8Array(memory.buffer);
        return new Uint8Array(u8.buffer, u8.byteOffset + pointer, length);
    }

    function setBuffer(pointer, buffer) {
        const u8 = new Uint8Array(memory.buffer);
        u8.set(new Uint8Array(buffer), pointer);
    }

    function runTask(task) {
        if (task[0].cmd == "INIT") {
            return init(task[0]);
        }
        const ctx = {
            vars: [],
            out: []
        };
        const u32a = new Uint32Array(memory.buffer, 0, 1);
        const oldAlloc = u32a[0];
        for (let i=0; i<task.length; i++) {
            switch (task[i].cmd) {
            case "ALLOCSET":
                ctx.vars[task[i].var] = allocBuffer(task[i].buff);
                break;
            case "ALLOC":
                ctx.vars[task[i].var] = alloc(task[i].len);
                break;
            case "SET":
                setBuffer(ctx.vars[task[i].var], task[i].buff);
                break;
            case "CALL": {
                const params = [];
                for (let j=0; j<task[i].params.length; j++) {
                    const p = task[i].params[j];
                    if (typeof p.var !== "undefined") {
                        params.push(ctx.vars[p.var] + (p.offset || 0));
                    } else if (typeof p.val != "undefined") {
                        params.push(p.val);
                    }
                }
                instance.exports[task[i].fnName](...params);
                break;
            }
            case "GET":
                ctx.out[task[i].out] = getBuffer(ctx.vars[task[i].var], task[i].len).slice();
                break;
            default:
                throw new Error("Invalid cmd");
            }
        }
        const u32b = new Uint32Array(memory.buffer, 0, 1);
        u32b[0] = oldAlloc;
        return ctx.out;
    }


    return runTask;
})(self)`;if(globalThis!=null&&globalThis.Blob){const s=new TextEncoder().encode(u8),t=new Blob([s],{type:"application/javascript"});J2=URL.createObjectURL(t)}else J2="data:application/javascript;base64,"+globalThis.btoa(u8);async function Kv(s,t){const e=new $v;e.memory=new WebAssembly.Memory({initial:vu}),e.u8=new Uint8Array(e.memory.buffer),e.u32=new Uint32Array(e.memory.buffer);const n=await WebAssembly.compile(s.code);if(e.instance=await WebAssembly.instantiate(n,{env:{memory:e.memory}}),globalThis!=null&&globalThis.Worker||(t=!0),e.singleThread=t,e.initalPFree=e.u32[0],e.pq=s.pq,e.pr=s.pr,e.pG1gen=s.pG1gen,e.pG1zero=s.pG1zero,e.pG2gen=s.pG2gen,e.pG2zero=s.pG2zero,e.pOneT=s.pOneT,t)e.code=s.code,e.taskManager=Hv(),await e.taskManager([{cmd:"INIT",init:vu,code:e.code.slice()}]),e.concurrency=1;else{e.workers=[],e.pendingDeferreds=[],e.working=[];let i=2;typeof navigator=="object"&&navigator.hardwareConcurrency&&(i=navigator.hardwareConcurrency),i==0&&(i=2),i>64&&(i=64),e.concurrency=i;for(let o=0;o<i;o++)e.workers[o]=new Worker(J2),e.workers[o].addEventListener("message",a(o)),e.working[o]=!1;const r=[];for(let o=0;o<e.workers.length;o++){const f=s.code.slice();r.push(e.postAction(o,[{cmd:"INIT",init:vu,code:f}],[f.buffer]))}await Promise.all(r)}return e;function a(i){return function(r){let o;r&&r.data?o=r.data:o=r,e.working[i]=!1,e.pendingDeferreds[i].resolve(o),e.processWorks()}}}class $v{constructor(){this.actionQueue=[],this.oldPFree=0}startSyncOp(){if(this.oldPFree!=0)throw new Error("Sync operation in progress");this.oldPFree=this.u32[0]}endSyncOp(){if(this.oldPFree==0)throw new Error("No sync operation in progress");this.u32[0]=this.oldPFree,this.oldPFree=0}postAction(t,e,n,a){if(this.working[t])throw new Error("Posting a job t a working worker");return this.working[t]=!0,this.pendingDeferreds[t]=a||new d8,this.workers[t].postMessage(e,n),this.pendingDeferreds[t].promise}processWorks(){for(let t=0;t<this.workers.length&&this.actionQueue.length>0;t++)if(this.working[t]==!1){const e=this.actionQueue.shift();this.postAction(t,e.data,e.transfers,e.deferred)}}queueAction(t,e){const n=new d8;if(this.singleThread){const a=this.taskManager(t);n.resolve(a)}else this.actionQueue.push({data:t,transfers:e,deferred:n}),this.processWorks();return n.promise}resetMemory(){this.u32[0]=this.initalPFree}allocBuff(t){const e=this.alloc(t.byteLength);return this.setBuff(e,t),e}getBuff(t,e){return this.u8.slice(t,t+e)}setBuff(t,e){this.u8.set(new Uint8Array(e),t)}alloc(t){for(;this.u32[0]&3;)this.u32[0]++;const e=this.u32[0];return this.u32[0]+=t,e}async terminate(){for(let t=0;t<this.workers.length;t++)this.workers[t].postMessage([{cmd:"TERMINATE"}]);await jv(200)}}function Pu(s,t){const e=s[t],n=s.Fr,a=s.tm;s[t].batchApplyKey=async function(i,r,o,f,l){f=f||"affine",l=l||"affine";let c,h,m,p,C;if(t=="G1")f=="jacobian"?(m=e.F.n8*3,c="g1m_batchApplyKey"):(m=e.F.n8*2,c="g1m_batchApplyKeyMixed"),p=e.F.n8*3,l=="jacobian"?C=e.F.n8*3:(h="g1m_batchToAffine",C=e.F.n8*2);else if(t=="G2")f=="jacobian"?(m=e.F.n8*3,c="g2m_batchApplyKey"):(m=e.F.n8*2,c="g2m_batchApplyKeyMixed"),p=e.F.n8*3,l=="jacobian"?C=e.F.n8*3:(h="g2m_batchToAffine",C=e.F.n8*2);else if(t=="Fr")c="frm_batchApplyKey",m=e.n8,p=e.n8,C=e.n8;else throw new Error("Invalid group: "+t);const A=Math.floor(i.byteLength/m),w=Math.floor(A/a.concurrency),I=[];o=n.e(o);let v=n.e(r);for(let P=0;P<a.concurrency;P++){let u;if(P<a.concurrency-1?u=w:u=A-P*w,u==0)continue;const _=[];_.push({cmd:"ALLOCSET",var:0,buff:i.slice(P*w*m,P*w*m+u*m)}),_.push({cmd:"ALLOCSET",var:1,buff:v}),_.push({cmd:"ALLOCSET",var:2,buff:o}),_.push({cmd:"ALLOC",var:3,len:u*Math.max(p,C)}),_.push({cmd:"CALL",fnName:c,params:[{var:0},{val:u},{var:1},{var:2},{var:3}]}),h&&_.push({cmd:"CALL",fnName:h,params:[{var:3},{val:u},{var:3}]}),_.push({cmd:"GET",out:0,var:3,len:u*C}),I.push(a.queueAction(_)),v=n.mul(v,n.exp(o,u))}const F=await Promise.all(I);let S;i instanceof re?S=new re(A*C):S=new Uint8Array(A*C);let D=0;for(let P=0;P<F.length;P++)S.set(F[P][0],D),D+=F[P][0].byteLength;return S}}function Qv(s){const t=s.tm;s.pairing=function(n,a){t.startSyncOp();const i=t.allocBuff(s.G1.toJacobian(n)),r=t.allocBuff(s.G2.toJacobian(a)),o=t.alloc(s.Gt.n8);t.instance.exports[s.name+"_pairing"](i,r,o);const f=t.getBuff(o,s.Gt.n8);return t.endSyncOp(),f},s.pairingEq=async function(){let n,a;arguments.length%2==1?(n=arguments[arguments.length-1],a=(arguments.length-1)/2):(n=s.Gt.one,a=arguments.length/2);const i=[];for(let c=0;c<a;c++){const h=[],m=s.G1.toJacobian(arguments[c*2]);h.push({cmd:"ALLOCSET",var:0,buff:m}),h.push({cmd:"ALLOC",var:1,len:s.prePSize});const p=s.G2.toJacobian(arguments[c*2+1]);h.push({cmd:"ALLOCSET",var:2,buff:p}),h.push({cmd:"ALLOC",var:3,len:s.preQSize}),h.push({cmd:"ALLOC",var:4,len:s.Gt.n8}),h.push({cmd:"CALL",fnName:s.name+"_prepareG1",params:[{var:0},{var:1}]}),h.push({cmd:"CALL",fnName:s.name+"_prepareG2",params:[{var:2},{var:3}]}),h.push({cmd:"CALL",fnName:s.name+"_millerLoop",params:[{var:1},{var:3},{var:4}]}),h.push({cmd:"GET",out:0,var:4,len:s.Gt.n8}),i.push(t.queueAction(h))}const r=await Promise.all(i);t.startSyncOp();const o=t.alloc(s.Gt.n8);t.instance.exports.ftm_one(o);for(let c=0;c<r.length;c++){const h=t.allocBuff(r[c][0]);t.instance.exports.ftm_mul(o,h,o)}t.instance.exports[s.name+"_finalExponentiation"](o,o);const f=t.allocBuff(n),l=!!t.instance.exports.ftm_eq(o,f);return t.endSyncOp(),l},s.prepareG1=function(e){this.tm.startSyncOp();const n=this.tm.allocBuff(e),a=this.tm.alloc(this.prePSize);this.tm.instance.exports[this.name+"_prepareG1"](n,a);const i=this.tm.getBuff(a,this.prePSize);return this.tm.endSyncOp(),i},s.prepareG2=function(e){this.tm.startSyncOp();const n=this.tm.allocBuff(e),a=this.tm.alloc(this.preQSize);this.tm.instance.exports[this.name+"_prepareG2"](n,a);const i=this.tm.getBuff(a,this.preQSize);return this.tm.endSyncOp(),i},s.millerLoop=function(e,n){this.tm.startSyncOp();const a=this.tm.allocBuff(e),i=this.tm.allocBuff(n),r=this.tm.alloc(this.Gt.n8);this.tm.instance.exports[this.name+"_millerLoop"](a,i,r);const o=this.tm.getBuff(r,this.Gt.n8);return this.tm.endSyncOp(),o},s.finalExponentiation=function(e){this.tm.startSyncOp();const n=this.tm.allocBuff(e),a=this.tm.alloc(this.Gt.n8);this.tm.instance.exports[this.name+"_finalExponentiation"](n,a);const i=this.tm.getBuff(a,this.Gt.n8);return this.tm.endSyncOp(),i}}const h8=[1,1,1,1,2,3,4,5,6,7,7,8,9,10,11,12,13,13,14,15,16,16,17,17,17,17,17,17,17,17,17,17];function b8(s,t){const e=s[t],n=e.tm;async function a(r,o,f,l,c){if(!(r instanceof Uint8Array))throw l&&l.error(`${c} _multiExpChunk buffBases is not Uint8Array`),new Error(`${c} _multiExpChunk buffBases is not Uint8Array`);if(!(o instanceof Uint8Array))throw l&&l.error(`${c} _multiExpChunk buffScalars is not Uint8Array`),new Error(`${c} _multiExpChunk buffScalars is not Uint8Array`);f=f||"affine";let h,m;if(t=="G1")f=="affine"?(m="g1m_multiexpAffine_chunk",h=e.F.n8*2):(m="g1m_multiexp_chunk",h=e.F.n8*3);else if(t=="G2")f=="affine"?(m="g2m_multiexpAffine_chunk",h=e.F.n8*2):(m="g2m_multiexp_chunk",h=e.F.n8*3);else throw new Error("Invalid group");const p=Math.floor(r.byteLength/h);if(p==0)return e.zero;const C=Math.floor(o.byteLength/p);if(C*p!=o.byteLength)throw new Error("Scalar size does not match");const A=h8[on(p)],w=Math.floor((C*8-1)/A)+1,I=[];for(let S=0;S<w;S++){const D=[{cmd:"ALLOCSET",var:0,buff:r},{cmd:"ALLOCSET",var:1,buff:o},{cmd:"ALLOC",var:2,len:e.F.n8*3},{cmd:"CALL",fnName:m,params:[{var:0},{var:1},{val:C},{val:p},{val:S*A},{val:Math.min(C*8-S*A,A)},{var:2}]},{cmd:"GET",out:0,var:2,len:e.F.n8*3}];I.push(e.tm.queueAction(D))}const v=await Promise.all(I);let F=e.zero;for(let S=v.length-1;S>=0;S--){if(!e.isZero(F))for(let D=0;D<A;D++)F=e.double(F);F=e.add(F,v[S][0])}return F}async function i(r,o,f,l,c){let p;if(t=="G1")f=="affine"?p=e.F.n8*2:p=e.F.n8*3;else if(t=="G2")f=="affine"?p=e.F.n8*2:p=e.F.n8*3;else throw new Error("Invalid group");const C=Math.floor(r.byteLength/p);if(C==0)return e.zero;const A=Math.floor(o.byteLength/C);if(A*C!=o.byteLength)throw new Error("Scalar size does not match");const w=h8[on(C)],I=Math.floor((A*8-1)/w)+1;let v;v=Math.floor(C/(n.concurrency/I)),v>4194304&&(v=4194304),v<1024&&(v=1024);const F=[];for(let P=0;P<C;P+=v){l&&l.debug(`Multiexp start: ${c}: ${P}/${C}`);const u=Math.min(C-P,v),_=r.slice(P*p,(P+u)*p),G=o.slice(P*A,(P+u)*A);F.push(a(_,G,f,l,c).then(H=>(l&&l.debug(`Multiexp end: ${c}: ${P}/${C}`),H)))}const S=await Promise.all(F);let D=e.zero;for(let P=S.length-1;P>=0;P--)D=e.add(D,S[P]);return D}e.multiExp=async function(o,f,l,c){return await i(o,f,"jacobian",l,c)},e.multiExpAffine=async function(o,f,l,c){return await i(o,f,"affine",l,c)}}function Iu(s,t){const e=s[t],n=s.Fr,a=e.tm;async function i(l,c,h,m,p,C){h=h||"affine",m=m||"affine";const A=14;let w,I,v,F,S,D,P,u;t=="G1"?(h=="affine"?(w=e.F.n8*2,F="g1m_batchToJacobian"):w=e.F.n8*3,I=e.F.n8*3,c&&(u="g1m_fftFinal"),P="g1m_fftJoin",D="g1m_fftMix",m=="affine"?(v=e.F.n8*2,S="g1m_batchToAffine"):v=e.F.n8*3):t=="G2"?(h=="affine"?(w=e.F.n8*2,F="g2m_batchToJacobian"):w=e.F.n8*3,I=e.F.n8*3,c&&(u="g2m_fftFinal"),P="g2m_fftJoin",D="g2m_fftMix",m=="affine"?(v=e.F.n8*2,S="g2m_batchToAffine"):v=e.F.n8*3):t=="Fr"&&(w=e.n8,I=e.n8,v=e.n8,c&&(u="frm_fftFinal"),D="frm_fftMix",P="frm_fftJoin");let _=!1;Array.isArray(l)?(l=U5(l,w),_=!0):l=l.slice(0,l.byteLength);const G=l.byteLength/w,H=on(G);if(1<<H!=G)throw new Error("fft must be multiple of 2");if(H==n.s+1){let K;return c?K=await o(l,h,m,p,C):K=await r(l,h,m,p,C),_?p1(K,v):K}let J;c&&(J=n.inv(n.e(G)));let U;G9(l,w);let E,M=Math.min(1<<A,G),N=G/M;for(;N<a.concurrency&&M>=16;)N*=2,M/=2;const $=on(M),X=[];for(let K=0;K<N;K++){p&&p.debug(`${C}: fft ${H} mix start: ${K}/${N}`);const ot=[];ot.push({cmd:"ALLOC",var:0,len:I*M});const tt=l.slice(M*K*w,M*(K+1)*w);ot.push({cmd:"SET",var:0,buff:tt}),F&&ot.push({cmd:"CALL",fnName:F,params:[{var:0},{val:M},{var:0}]});for(let lt=1;lt<=$;lt++)ot.push({cmd:"CALL",fnName:D,params:[{var:0},{val:M},{val:lt}]});$==H?(u&&(ot.push({cmd:"ALLOCSET",var:1,buff:J}),ot.push({cmd:"CALL",fnName:u,params:[{var:0},{val:M},{var:1}]})),S&&ot.push({cmd:"CALL",fnName:S,params:[{var:0},{val:M},{var:0}]}),ot.push({cmd:"GET",out:0,var:0,len:M*v})):ot.push({cmd:"GET",out:0,var:0,len:I*M}),X.push(a.queueAction(ot).then(lt=>(p&&p.debug(`${C}: fft ${H} mix end: ${K}/${N}`),lt)))}E=await Promise.all(X);for(let K=0;K<N;K++)E[K]=E[K][0];for(let K=$+1;K<=H;K++){p&&p.debug(`${C}: fft  ${H}  join: ${K}/${H}`);const ot=1<<H-K,tt=N/ot,lt=[];for(let Bt=0;Bt<ot;Bt++)for(let Et=0;Et<tt/2;Et++){const R=n.exp(n.w[K],Et*M),d=n.w[K],B=Bt*tt+Et,b=Bt*tt+Et+tt/2,Z=[];Z.push({cmd:"ALLOCSET",var:0,buff:E[B]}),Z.push({cmd:"ALLOCSET",var:1,buff:E[b]}),Z.push({cmd:"ALLOCSET",var:2,buff:R}),Z.push({cmd:"ALLOCSET",var:3,buff:d}),Z.push({cmd:"CALL",fnName:P,params:[{var:0},{var:1},{val:M},{var:2},{var:3}]}),K==H?(u&&(Z.push({cmd:"ALLOCSET",var:4,buff:J}),Z.push({cmd:"CALL",fnName:u,params:[{var:0},{val:M},{var:4}]}),Z.push({cmd:"CALL",fnName:u,params:[{var:1},{val:M},{var:4}]})),S&&(Z.push({cmd:"CALL",fnName:S,params:[{var:0},{val:M},{var:0}]}),Z.push({cmd:"CALL",fnName:S,params:[{var:1},{val:M},{var:1}]})),Z.push({cmd:"GET",out:0,var:0,len:M*v}),Z.push({cmd:"GET",out:1,var:1,len:M*v})):(Z.push({cmd:"GET",out:0,var:0,len:M*I}),Z.push({cmd:"GET",out:1,var:1,len:M*I})),lt.push(a.queueAction(Z).then(k=>(p&&p.debug(`${C}: fft ${H} join  ${K}/${H}  ${Bt+1}/${ot} ${Et}/${tt/2}`),k)))}const Tt=await Promise.all(lt);for(let Bt=0;Bt<ot;Bt++)for(let Et=0;Et<tt/2;Et++){const R=Bt*tt+Et,d=Bt*tt+Et+tt/2,B=Tt.shift();E[R]=B[0],E[d]=B[1]}}if(l instanceof re?U=new re(G*v):U=new Uint8Array(G*v),c){U.set(E[0].slice((M-1)*v));let K=v;for(let ot=N-1;ot>0;ot--)U.set(E[ot],K),K+=M*v,delete E[ot];U.set(E[0].slice(0,(M-1)*v),K),delete E[0]}else for(let K=0;K<N;K++)U.set(E[K],M*v*K),delete E[K];return _?p1(U,v):U}async function r(l,c,h,m,p){let C,A;C=l.slice(0,l.byteLength/2),A=l.slice(l.byteLength/2,l.byteLength);const w=[];[C,A]=await f(C,A,"fftJoinExt",n.one,n.shift,c,"jacobian",m,p),w.push(i(C,!1,"jacobian",h,m,p)),w.push(i(A,!1,"jacobian",h,m,p));const I=await Promise.all(w);let v;return I[0].byteLength>1<<28?v=new re(I[0].byteLength*2):v=new Uint8Array(I[0].byteLength*2),v.set(I[0]),v.set(I[1],I[0].byteLength),v}async function o(l,c,h,m,p){let C,A;C=l.slice(0,l.byteLength/2),A=l.slice(l.byteLength/2,l.byteLength);const w=[];w.push(i(C,!0,c,"jacobian",m,p)),w.push(i(A,!0,c,"jacobian",m,p)),[C,A]=await Promise.all(w);const I=await f(C,A,"fftJoinExtInv",n.one,n.shiftInv,"jacobian",h,m,p);let v;return I[0].byteLength>1<<28?v=new re(I[0].byteLength*2):v=new Uint8Array(I[0].byteLength*2),v.set(I[0]),v.set(I[1],I[0].byteLength),v}async function f(l,c,h,m,p,C,A,w,I){let S,D,P,u,_,G;if(t=="G1")C=="affine"?(_=e.F.n8*2,D="g1m_batchToJacobian"):_=e.F.n8*3,G=e.F.n8*3,S="g1m_"+h,A=="affine"?(P="g1m_batchToAffine",u=e.F.n8*2):u=e.F.n8*3;else if(t=="G2")C=="affine"?(_=e.F.n8*2,D="g2m_batchToJacobian"):_=e.F.n8*3,S="g2m_"+h,G=e.F.n8*3,A=="affine"?(P="g2m_batchToAffine",u=e.F.n8*2):u=e.F.n8*3;else if(t=="Fr")_=n.n8,u=n.n8,G=n.n8,S="frm_"+h;else throw new Error("Invalid group");if(l.byteLength!=c.byteLength)throw new Error("Invalid buffer size");const H=Math.floor(l.byteLength/_);if(H!=1<<on(H))throw new Error("Invalid number of points");let J=Math.floor(H/a.concurrency);J<16&&(J=16),J>65536&&(J=65536);const U=[];for(let X=0;X<H;X+=J){w&&w.debug(`${I}: fftJoinExt Start: ${X}/${H}`);const K=Math.min(H-X,J),ot=n.mul(m,n.exp(p,X)),tt=[],lt=l.slice(X*_,(X+K)*_),Tt=c.slice(X*_,(X+K)*_);tt.push({cmd:"ALLOC",var:0,len:G*K}),tt.push({cmd:"SET",var:0,buff:lt}),tt.push({cmd:"ALLOC",var:1,len:G*K}),tt.push({cmd:"SET",var:1,buff:Tt}),tt.push({cmd:"ALLOCSET",var:2,buff:ot}),tt.push({cmd:"ALLOCSET",var:3,buff:p}),D&&(tt.push({cmd:"CALL",fnName:D,params:[{var:0},{val:K},{var:0}]}),tt.push({cmd:"CALL",fnName:D,params:[{var:1},{val:K},{var:1}]})),tt.push({cmd:"CALL",fnName:S,params:[{var:0},{var:1},{val:K},{var:2},{var:3},{val:n.s}]}),P&&(tt.push({cmd:"CALL",fnName:P,params:[{var:0},{val:K},{var:0}]}),tt.push({cmd:"CALL",fnName:P,params:[{var:1},{val:K},{var:1}]})),tt.push({cmd:"GET",out:0,var:0,len:K*u}),tt.push({cmd:"GET",out:1,var:1,len:K*u}),U.push(a.queueAction(tt).then(Bt=>(w&&w.debug(`${I}: fftJoinExt End: ${X}/${H}`),Bt)))}const E=await Promise.all(U);let M,N;H*u>1<<28?(M=new re(H*u),N=new re(H*u)):(M=new Uint8Array(H*u),N=new Uint8Array(H*u));let $=0;for(let X=0;X<E.length;X++)M.set(E[X][0],$),N.set(E[X][1],$),$+=E[X][0].byteLength;return[M,N]}e.fft=async function(l,c,h,m,p){return await i(l,!1,c,h,m,p)},e.ifft=async function(l,c,h,m,p){return await i(l,!0,c,h,m,p)},e.lagrangeEvaluations=async function(l,c,h,m,p){c=c||"affine",h=h||"affine";let C;if(t=="G1")c=="affine"?C=e.F.n8*2:C=e.F.n8*3;else if(t=="G2")c=="affine"?C=e.F.n8*2:C=e.F.n8*3;else if(t=="Fr")C=n.n8;else throw new Error("Invalid group");const A=l.byteLength/C,w=on(A);if(2**w*C!=l.byteLength)throw m&&m.error("lagrangeEvaluations iinvalid input size"),new Error("lagrangeEvaluations invalid Input size");if(w<=n.s)return await e.ifft(l,c,h,m,p);if(w>n.s+1)throw m&&m.error("lagrangeEvaluations input too big"),new Error("lagrangeEvaluations input too big");let I=l.slice(0,l.byteLength/2),v=l.slice(l.byteLength/2,l.byteLength);const F=n.exp(n.shift,A/2),S=n.inv(n.sub(n.one,F));[I,v]=await f(I,v,"prepareLagrangeEvaluation",S,n.shiftInv,c,"jacobian",m,p+" prep");const D=[];D.push(i(I,!0,"jacobian",h,m,p+" t0")),D.push(i(v,!0,"jacobian",h,m,p+" t1")),[I,v]=await Promise.all(D);let P;return I.byteLength>1<<28?P=new re(I.byteLength*2):P=new Uint8Array(I.byteLength*2),P.set(I),P.set(v,I.byteLength),P},e.fftMix=async function(c){const h=e.F.n8*3;let m,p;if(t=="G1")m="g1m_fftMix",p="g1m_fftJoin";else if(t=="G2")m="g2m_fftMix",p="g2m_fftJoin";else if(t=="Fr")m="frm_fftMix",p="frm_fftJoin";else throw new Error("Invalid group");const C=Math.floor(c.byteLength/h),A=on(C);let w=1<<on(a.concurrency);C<=w*2&&(w=1);const I=C/w,v=on(I),F=[];for(let _=0;_<w;_++){const G=[],H=c.slice(_*I*h,(_+1)*I*h);G.push({cmd:"ALLOCSET",var:0,buff:H});for(let J=1;J<=v;J++)G.push({cmd:"CALL",fnName:m,params:[{var:0},{val:I},{val:J}]});G.push({cmd:"GET",out:0,var:0,len:I*h}),F.push(a.queueAction(G))}const S=await Promise.all(F),D=[];for(let _=0;_<S.length;_++)D[_]=S[_][0];for(let _=v+1;_<=A;_++){const G=1<<A-_,H=w/G,J=[];for(let E=0;E<G;E++)for(let M=0;M<H/2;M++){const N=n.exp(n.w[_],M*I),$=n.w[_],X=E*H+M,K=E*H+M+H/2,ot=[];ot.push({cmd:"ALLOCSET",var:0,buff:D[X]}),ot.push({cmd:"ALLOCSET",var:1,buff:D[K]}),ot.push({cmd:"ALLOCSET",var:2,buff:N}),ot.push({cmd:"ALLOCSET",var:3,buff:$}),ot.push({cmd:"CALL",fnName:p,params:[{var:0},{var:1},{val:I},{var:2},{var:3}]}),ot.push({cmd:"GET",out:0,var:0,len:I*h}),ot.push({cmd:"GET",out:1,var:1,len:I*h}),J.push(a.queueAction(ot))}const U=await Promise.all(J);for(let E=0;E<G;E++)for(let M=0;M<H/2;M++){const N=E*H+M,$=E*H+M+H/2,X=U.shift();D[N]=X[0],D[$]=X[1]}}let P;c instanceof re?P=new re(C*h):P=new Uint8Array(C*h);let u=0;for(let _=0;_<w;_++)P.set(D[_],u),u+=D[_].byteLength;return P},e.fftJoin=async function(c,h,m,p){const C=e.F.n8*3;let A;if(t=="G1")A="g1m_fftJoin";else if(t=="G2")A="g2m_fftJoin";else if(t=="Fr")A="frm_fftJoin";else throw new Error("Invalid group");if(c.byteLength!=h.byteLength)throw new Error("Invalid buffer size");const w=Math.floor(c.byteLength/C);if(w!=1<<on(w))throw new Error("Invalid number of points");let I=1<<on(a.concurrency);w<=I*2&&(I=1);const v=w/I,F=[];for(let _=0;_<I;_++){const G=[],H=n.mul(m,n.exp(p,_*v)),J=c.slice(_*v*C,(_+1)*v*C),U=h.slice(_*v*C,(_+1)*v*C);G.push({cmd:"ALLOCSET",var:0,buff:J}),G.push({cmd:"ALLOCSET",var:1,buff:U}),G.push({cmd:"ALLOCSET",var:2,buff:H}),G.push({cmd:"ALLOCSET",var:3,buff:p}),G.push({cmd:"CALL",fnName:A,params:[{var:0},{var:1},{val:v},{var:2},{var:3}]}),G.push({cmd:"GET",out:0,var:0,len:v*C}),G.push({cmd:"GET",out:1,var:1,len:v*C}),F.push(a.queueAction(G))}const S=await Promise.all(F);let D,P;c instanceof re?(D=new re(w*C),P=new re(w*C)):(D=new Uint8Array(w*C),P=new Uint8Array(w*C));let u=0;for(let _=0;_<S.length;_++)D.set(S[_][0],u),P.set(S[_][1],u),u+=S[_][0].byteLength;return[D,P]},e.fftFinal=async function(c,h){const m=e.F.n8*3,p=e.F.n8*2;let C,A;if(t=="G1")C="g1m_fftFinal",A="g1m_batchToAffine";else if(t=="G2")C="g2m_fftFinal",A="g2m_batchToAffine";else throw new Error("Invalid group");const w=Math.floor(c.byteLength/m);if(w!=1<<on(w))throw new Error("Invalid number of points");const I=Math.floor(w/a.concurrency),v=[];for(let P=0;P<a.concurrency;P++){let u;if(P<a.concurrency-1?u=I:u=w-P*I,u==0)continue;const _=[],G=c.slice(P*I*m,(P*I+u)*m);_.push({cmd:"ALLOCSET",var:0,buff:G}),_.push({cmd:"ALLOCSET",var:1,buff:h}),_.push({cmd:"CALL",fnName:C,params:[{var:0},{val:u},{var:1}]}),_.push({cmd:"CALL",fnName:A,params:[{var:0},{val:u},{var:0}]}),_.push({cmd:"GET",out:0,var:0,len:u*p}),v.push(a.queueAction(_))}const F=await Promise.all(v);let S;c instanceof re?S=new re(w*p):S=new Uint8Array(w*p);let D=0;for(let P=F.length-1;P>=0;P--)S.set(F[P][0],D),D+=F[P][0].byteLength;return S}}async function H9(s){const t=await Kv(s.wasm,s.singleThread),e={};return e.q=Le(s.wasm.q.toString()),e.r=Le(s.wasm.r.toString()),e.name=s.name,e.tm=t,e.prePSize=s.wasm.prePSize,e.preQSize=s.wasm.preQSize,e.Fr=new c8(t,"frm",s.n8r,s.r),e.F1=new c8(t,"f1m",s.n8q,s.q),e.F2=new l8(t,"f2m",e.F1),e.G1=new f8(t,"g1m",e.F1,s.wasm.pG1gen,s.wasm.pG1b,s.cofactorG1),e.G2=new f8(t,"g2m",e.F2,s.wasm.pG2gen,s.wasm.pG2b,s.cofactorG2),e.F6=new Gv(t,"f6m",e.F2),e.F12=new l8(t,"ftm",e.F6),e.Gt=e.F12,Pu(e,"G1"),Pu(e,"G2"),Pu(e,"Fr"),b8(e,"G1"),b8(e,"G2"),Iu(e,"G1"),Iu(e,"G2"),Iu(e,"Fr"),Qv(e),e.array2buffer=function(n,a){const i=new Uint8Array(a*n.length);for(let r=0;r<n.length;r++)i.set(n[r],r*a);return i},e.buffer2array=function(n,a){const i=n.byteLength/a,r=new Array(i);for(let o=0;o<i;o++)r[o]=n.slice(o*a,o*a+a);return r},e}function Hc(s){return BigInt(s)}function j9(s){return s<0n}function Jv(s){return s===0n}function Wv(s){return j9(s)?s.toString(2).length-1:s.toString(2).length}function Tu(s){const t=[],e=Hc(s);return t.push(Number(e&0xFFn)),t.push(Number(e>>8n&0xFFn)),t.push(Number(e>>16n&0xFFn)),t.push(Number(e>>24n&0xFFn)),t}function Zv(s){for(var t=[],e=0;e<s.length;e++){var n=s.charCodeAt(e);n<128?t.push(n):n<2048?t.push(192|n>>6,128|n&63):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|n&63):(e++,n=65536+((n&1023)<<10|s.charCodeAt(e)&1023),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return t}function n0(s){const t=Zv(s);return[...qt(t.length),...t]}function K9(s){const t=[];let e=Hc(s);if(j9(e))throw new Error("Number cannot be negative");for(;!Jv(e);)t.push(Number(e&0x7Fn)),e=e>>7n;t.length==0&&t.push(0);for(let n=0;n<t.length-1;n++)t[n]=t[n]|128;return t}function $9(s){let t,e;const n=Wv(s);s<0?(e=!0,t=(1n<<BigInt(n))+s):(e=!1,t=Hc(s));const a=7-n%7,i=(1n<<BigInt(a))-1n<<BigInt(n),r=(1<<7-a)-1|128,o=K9(t+i);return e||(o[o.length-1]=o[o.length-1]&r),o}function W2(s){let t=Hc(s);if(t>0xFFFFFFFFn)throw new Error("Number too big");if(t>0x7FFFFFFFn&&(t=t-0x100000000n),t<-2147483648n)throw new Error("Number too small");return $9(t)}function Xv(s){let t=Hc(s);if(t>0xFFFFFFFFFFFFFFFFn)throw new Error("Number too big");if(t>0x7FFFFFFFFFFFFFFFn&&(t=t-0x10000000000000000n),t<-9223372036854775808n)throw new Error("Number too small");return $9(t)}function qt(s){let t=Hc(s);if(t>0xFFFFFFFFn)throw new Error("Number too big");return K9(t)}function p8(s){return Array.from(s,function(t){return("0"+(t&255).toString(16)).slice(-2)}).join("")}class Yv{constructor(t){this.func=t,this.functionName=t.functionName,this.module=t.module}setLocal(t,e){const n=this.func.localIdxByName[t];if(n===void 0)throw new Error(`Local Variable not defined: Function: ${this.functionName} local: ${t} `);return[...e,33,...qt(n)]}teeLocal(t,e){const n=this.func.localIdxByName[t];if(n===void 0)throw new Error(`Local Variable not defined: Function: ${this.functionName} local: ${t} `);return[...e,34,...qt(n)]}getLocal(t){const e=this.func.localIdxByName[t];if(e===void 0)throw new Error(`Local Variable not defined: Function: ${this.functionName} local: ${t} `);return[32,...qt(e)]}i64_load8_s(t,e,n){const a=e||0,i=n===void 0?0:n;return[...t,48,i,...qt(a)]}i64_load8_u(t,e,n){const a=e||0,i=n===void 0?0:n;return[...t,49,i,...qt(a)]}i64_load16_s(t,e,n){const a=e||0,i=n===void 0?1:n;return[...t,50,i,...qt(a)]}i64_load16_u(t,e,n){const a=e||0,i=n===void 0?1:n;return[...t,51,i,...qt(a)]}i64_load32_s(t,e,n){const a=e||0,i=n===void 0?2:n;return[...t,52,i,...qt(a)]}i64_load32_u(t,e,n){const a=e||0,i=n===void 0?2:n;return[...t,53,i,...qt(a)]}i64_load(t,e,n){const a=e||0,i=n===void 0?3:n;return[...t,41,i,...qt(a)]}i64_store(t,e,n,a){let i,r,o;return Array.isArray(e)?(i=0,r=3,o=e):Array.isArray(n)?(i=e,r=3,o=n):Array.isArray(a)&&(i=e,r=n,o=a),[...t,...o,55,r,...qt(i)]}i64_store32(t,e,n,a){let i,r,o;return Array.isArray(e)?(i=0,r=2,o=e):Array.isArray(n)?(i=e,r=2,o=n):Array.isArray(a)&&(i=e,r=n,o=a),[...t,...o,62,r,...qt(i)]}i64_store16(t,e,n,a){let i,r,o;return Array.isArray(e)?(i=0,r=1,o=e):Array.isArray(n)?(i=e,r=1,o=n):Array.isArray(a)&&(i=e,r=n,o=a),[...t,...o,61,r,...qt(i)]}i64_store8(t,e,n,a){let i,r,o;return Array.isArray(e)?(i=0,r=0,o=e):Array.isArray(n)?(i=e,r=0,o=n):Array.isArray(a)&&(i=e,r=n,o=a),[...t,...o,60,r,...qt(i)]}i32_load8_s(t,e,n){const a=e||0,i=n===void 0?0:n;return[...t,44,i,...qt(a)]}i32_load8_u(t,e,n){const a=e||0,i=n===void 0?0:n;return[...t,45,i,...qt(a)]}i32_load16_s(t,e,n){const a=e||0,i=n===void 0?1:n;return[...t,46,i,...qt(a)]}i32_load16_u(t,e,n){const a=e||0,i=n===void 0?1:n;return[...t,47,i,...qt(a)]}i32_load(t,e,n){const a=e||0,i=n===void 0?2:n;return[...t,40,i,...qt(a)]}i32_store(t,e,n,a){let i,r,o;return Array.isArray(e)?(i=0,r=2,o=e):Array.isArray(n)?(i=e,r=2,o=n):Array.isArray(a)&&(i=e,r=n,o=a),[...t,...o,54,r,...qt(i)]}i32_store16(t,e,n,a){let i,r,o;return Array.isArray(e)?(i=0,r=1,o=e):Array.isArray(n)?(i=e,r=1,o=n):Array.isArray(a)&&(i=e,r=n,o=a),[...t,...o,59,r,...qt(i)]}i32_store8(t,e,n,a){let i,r,o;return Array.isArray(e)?(i=0,r=0,o=e):Array.isArray(n)?(i=e,r=0,o=n):Array.isArray(a)&&(i=e,r=n,o=a),[...t,...o,58,r,...qt(i)]}call(t,...e){const n=this.module.functionIdxByName[t];if(n===void 0)throw new Error(`Function not defined: Function: ${t}`);return[...[].concat(...e),16,...qt(n)]}call_indirect(t,...e){return[...[].concat(...e),...t,17,0,0]}if(t,e,n){return n?[...t,4,64,...e,5,...n,11]:[...t,4,64,...e,11]}block(t){return[2,64,...t,11]}loop(...t){return[3,64,...[].concat(...t),11]}br_if(t,e){return[...e,13,...qt(t)]}br(t){return[12,...qt(t)]}ret(t){return[...t,15]}drop(t){return[...t,26]}i64_const(t){return[66,...Xv(t)]}i32_const(t){return[65,...W2(t)]}i64_eqz(t){return[...t,80]}i64_eq(t,e){return[...t,...e,81]}i64_ne(t,e){return[...t,...e,82]}i64_lt_s(t,e){return[...t,...e,83]}i64_lt_u(t,e){return[...t,...e,84]}i64_gt_s(t,e){return[...t,...e,85]}i64_gt_u(t,e){return[...t,...e,86]}i64_le_s(t,e){return[...t,...e,87]}i64_le_u(t,e){return[...t,...e,88]}i64_ge_s(t,e){return[...t,...e,89]}i64_ge_u(t,e){return[...t,...e,90]}i64_add(t,e){return[...t,...e,124]}i64_sub(t,e){return[...t,...e,125]}i64_mul(t,e){return[...t,...e,126]}i64_div_s(t,e){return[...t,...e,127]}i64_div_u(t,e){return[...t,...e,128]}i64_rem_s(t,e){return[...t,...e,129]}i64_rem_u(t,e){return[...t,...e,130]}i64_and(t,e){return[...t,...e,131]}i64_or(t,e){return[...t,...e,132]}i64_xor(t,e){return[...t,...e,133]}i64_shl(t,e){return[...t,...e,134]}i64_shr_s(t,e){return[...t,...e,135]}i64_shr_u(t,e){return[...t,...e,136]}i64_extend_i32_s(t){return[...t,172]}i64_extend_i32_u(t){return[...t,173]}i64_clz(t){return[...t,121]}i64_ctz(t){return[...t,122]}i32_eqz(t){return[...t,69]}i32_eq(t,e){return[...t,...e,70]}i32_ne(t,e){return[...t,...e,71]}i32_lt_s(t,e){return[...t,...e,72]}i32_lt_u(t,e){return[...t,...e,73]}i32_gt_s(t,e){return[...t,...e,74]}i32_gt_u(t,e){return[...t,...e,75]}i32_le_s(t,e){return[...t,...e,76]}i32_le_u(t,e){return[...t,...e,77]}i32_ge_s(t,e){return[...t,...e,78]}i32_ge_u(t,e){return[...t,...e,79]}i32_add(t,e){return[...t,...e,106]}i32_sub(t,e){return[...t,...e,107]}i32_mul(t,e){return[...t,...e,108]}i32_div_s(t,e){return[...t,...e,109]}i32_div_u(t,e){return[...t,...e,110]}i32_rem_s(t,e){return[...t,...e,111]}i32_rem_u(t,e){return[...t,...e,112]}i32_and(t,e){return[...t,...e,113]}i32_or(t,e){return[...t,...e,114]}i32_xor(t,e){return[...t,...e,115]}i32_shl(t,e){return[...t,...e,116]}i32_shr_s(t,e){return[...t,...e,117]}i32_shr_u(t,e){return[...t,...e,118]}i32_rotl(t,e){return[...t,...e,119]}i32_rotr(t,e){return[...t,...e,120]}i32_wrap_i64(t){return[...t,167]}i32_clz(t){return[...t,103]}i32_ctz(t){return[...t,104]}unreachable(){return[0]}current_memory(){return[63,0]}comment(){return[]}}const Bu={i32:127,i64:126,f32:125,f64:124,anyfunc:112,func:96,emptyblock:64};class g8{constructor(t,e,n,a,i){if(n=="import")this.fnType="import",this.moduleName=a,this.fieldName=i;else if(n=="internal")this.fnType="internal";else throw new Error("Invalid function fnType: "+n);this.module=t,this.fnName=e,this.params=[],this.locals=[],this.localIdxByName={},this.code=[],this.returnType=null,this.nextLocal=0}addParam(t,e){if(this.localIdxByName[t])throw new Error(`param already exists. Function: ${this.fnName}, Param: ${t} `);const n=this.nextLocal++;this.localIdxByName[t]=n,this.params.push({type:e})}addLocal(t,e,n){const a=n||1;if(this.localIdxByName[t])throw new Error(`local already exists. Function: ${this.fnName}, Param: ${t} `);const i=this.nextLocal++;this.localIdxByName[t]=i,this.locals.push({type:e,length:a})}setReturnType(t){if(this.returnType)throw new Error(`returnType already defined. Function: ${this.fnName}`);this.returnType=t}getSignature(){const t=[...qt(this.params.length),...this.params.map(n=>Bu[n.type])],e=this.returnType?[1,Bu[this.returnType]]:[0];return[96,...t,...e]}getBody(){const t=this.locals.map(n=>[...qt(n.length),Bu[n.type]]),e=[...qt(this.locals.length),...[].concat(...t),...this.code,11];return[...qt(e.length),...e]}addCode(...t){this.code.push(...[].concat(...t))}getCodeBuilder(){return new Yv(this)}}class Q9{constructor(){this.functions=[],this.functionIdxByName={},this.nImportFunctions=0,this.nInternalFunctions=0,this.memory={pagesSize:1,moduleName:"env",fieldName:"memory"},this.free=8,this.datas=[],this.modules={},this.exports=[],this.functionsTable=[]}build(){return this._setSignatures(),new Uint8Array([...Tu(1836278016),...Tu(1),...this._buildType(),...this._buildImport(),...this._buildFunctionDeclarations(),...this._buildFunctionsTable(),...this._buildExports(),...this._buildElements(),...this._buildCode(),...this._buildData()])}addFunction(t){if(typeof this.functionIdxByName[t]<"u")throw new Error(`Function already defined: ${t}`);const e=this.functions.length;return this.functionIdxByName[t]=e,this.functions.push(new g8(this,t,"internal")),this.nInternalFunctions++,this.functions[e]}addIimportFunction(t,e,n){if(typeof this.functionIdxByName[t]<"u")throw new Error(`Function already defined: ${t}`);if(this.functions.length>0&&this.functions[this.functions.length-1].type=="internal")throw new Error(`Import functions must be declared before internal: ${t}`);let a=n||t;const i=this.functions.length;return this.functionIdxByName[t]=i,this.functions.push(new g8(this,t,"import",e,a)),this.nImportFunctions++,this.functions[i]}setMemory(t,e,n){this.memory={pagesSize:t,moduleName:e||"env",fieldName:n||"memory"}}exportFunction(t,e){const n=e||t;if(typeof this.functionIdxByName[t]>"u")throw new Error(`Function not defined: ${t}`);const a=this.functionIdxByName[t];n!=t&&(this.functionIdxByName[n]=a),this.exports.push({exportName:n,idx:a})}addFunctionToTable(t){const e=this.functionIdxByName[t];this.functionsTable.push(e)}addData(t,e){this.datas.push({offset:t,bytes:e})}alloc(t,e){let n,a;(Array.isArray(t)||ArrayBuffer.isView(t))&&typeof e>"u"?(n=t.length,a=t):(n=t,a=e),n=(n-1>>3)+1<<3;const i=this.free;return this.free+=n,a&&this.addData(i,a),i}allocString(t){const n=new globalThis.TextEncoder().encode(t);return this.alloc([...n,0])}_setSignatures(){this.signatures=[];const t={};if(this.functionsTable.length>0){const e=this.functions[this.functionsTable[0]].getSignature(),n="s_"+p8(e);t[n]=0,this.signatures.push(e)}for(let e=0;e<this.functions.length;e++){const n=this.functions[e].getSignature(),a="s_"+p8(n);typeof t[a]>"u"&&(t[a]=this.signatures.length,this.signatures.push(n)),this.functions[e].signatureIdx=t[a]}}_buildSection(t,e){return[t,...qt(e.length),...e]}_buildType(){return this._buildSection(1,[...qt(this.signatures.length),...[].concat(...this.signatures)])}_buildImport(){const t=[];t.push([...n0(this.memory.moduleName),...n0(this.memory.fieldName),2,0,...qt(this.memory.pagesSize)]);for(let e=0;e<this.nImportFunctions;e++)t.push([...n0(this.functions[e].moduleName),...n0(this.functions[e].fieldName),0,...qt(this.functions[e].signatureIdx)]);return this._buildSection(2,qt(t.length).concat(...t))}_buildFunctionDeclarations(){const t=[];for(let e=this.nImportFunctions;e<this.nImportFunctions+this.nInternalFunctions;e++)t.push(...qt(this.functions[e].signatureIdx));return this._buildSection(3,[...qt(t.length),...t])}_buildFunctionsTable(){return this.functionsTable.length==0?[]:this._buildSection(4,[...qt(1),112,0,...qt(this.functionsTable.length)])}_buildElements(){if(this.functionsTable.length==0)return[];const t=[];for(let e=0;e<this.functionsTable.length;e++)t.push(...qt(this.functionsTable[e]));return this._buildSection(9,[...qt(1),...qt(0),65,...W2(0),11,...qt(this.functionsTable.length),...t])}_buildExports(){const t=[];for(let e=0;e<this.exports.length;e++)t.push([...n0(this.exports[e].exportName),0,...qt(this.exports[e].idx)]);return this._buildSection(7,qt(t.length).concat(...t))}_buildCode(){const t=[];for(let e=this.nImportFunctions;e<this.nImportFunctions+this.nInternalFunctions;e++)t.push(this.functions[e].getBody());return this._buildSection(10,qt(t.length).concat(...t))}_buildData(){const t=[];t.push([0,65,0,11,4,...Tu(this.free)]);for(let e=0;e<this.datas.length;e++)t.push([0,65,...W2(this.datas[e].offset),11,...qt(this.datas[e].bytes.length),...this.datas[e].bytes]);return this._buildSection(11,qt(t.length).concat(...t))}}globalThis.curve_bn128=null;async function J9(s,t){if(!s&&globalThis.curve_bn128)return globalThis.curve_bn128;const e=new Q9;e.setMemory(25),kv(e);const n={};n.code=e.build(),n.pq=e.modules.f1m.pq,n.pr=e.modules.frm.pq,n.pG1gen=e.modules.bn128.pG1gen,n.pG1zero=e.modules.bn128.pG1zero,n.pG1b=e.modules.bn128.pG1b,n.pG2gen=e.modules.bn128.pG2gen,n.pG2zero=e.modules.bn128.pG2zero,n.pG2b=e.modules.bn128.pG2b,n.pOneT=e.modules.bn128.pOneT,n.prePSize=e.modules.bn128.prePSize,n.preQSize=e.modules.bn128.preQSize,n.n8q=32,n.n8r=32,n.q=e.modules.bn128.q,n.r=e.modules.bn128.r;const a={name:"bn128",wasm:n,q:Le("21888242871839275222246405745257275088696311157297823662689037894645226208583"),r:Le("21888242871839275222246405745257275088548364400416034343698204186575808495617"),n8q:32,n8r:32,cofactorG2:Le("30644e72e131a029b85045b68181585e06ceecda572a2489345f2299c0f9fa8d",16),singleThread:!!s},i=await H9(a);return i.terminate=async function(){a.singleThread||(globalThis.curve_bn128=null,await this.tm.terminate())},s||(globalThis.curve_bn128=i),i}globalThis.curve_bls12381=null;async function W9(s,t){if(!s&&globalThis.curve_bls12381)return globalThis.curve_bls12381;const e=new Q9;e.setMemory(25),Uv(e);const n={};n.code=e.build(),n.pq=e.modules.f1m.pq,n.pr=e.modules.frm.pq,n.pG1gen=e.modules.bls12381.pG1gen,n.pG1zero=e.modules.bls12381.pG1zero,n.pG1b=e.modules.bls12381.pG1b,n.pG2gen=e.modules.bls12381.pG2gen,n.pG2zero=e.modules.bls12381.pG2zero,n.pG2b=e.modules.bls12381.pG2b,n.pOneT=e.modules.bls12381.pOneT,n.prePSize=e.modules.bls12381.prePSize,n.preQSize=e.modules.bls12381.preQSize,n.n8q=48,n.n8r=32,n.q=e.modules.bls12381.q,n.r=e.modules.bls12381.r;const a={name:"bls12381",wasm:n,q:Le("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16),r:Le("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),n8q:48,n8r:32,cofactorG1:Le("0x396c8c005555e1568c00aaab0000aaab",16),cofactorG2:Le("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5",16),singleThread:!!s},i=await H9(a);return i.terminate=async function(){a.singleThread||(globalThis.curve_bls12381=null,await this.tm.terminate())},s||(globalThis.curve_bls12381=i),i}Le("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16);Le("21888242871839275222246405745257275088548364400416034343698204186575808495617");Le("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16);Le("21888242871839275222246405745257275088696311157297823662689037894645226208583");const he=NC,We=Vv;var Z9={};async function X9(s,t,e,n){if(e=e||4096*64,typeof t!="number"&&["w+","wx+","r","ax+","a+"].indexOf(t)<0)throw new Error("Invalid open option");const a=await Z9.promises.open(s,t),i=await a.stat();return new tP(a,i,e,n,s)}class tP{constructor(t,e,n,a,i){for(this.fileName=i,this.fd=t,this.pos=0,this.pageSize=a||256;this.pageSize<e.blksize;)this.pageSize*=2;this.totalSize=e.size,this.totalPages=Math.floor((e.size-1)/this.pageSize)+1,this.maxPagesLoaded=Math.floor(n/this.pageSize)+1,this.pages={},this.pendingLoads=[],this.writing=!1,this.reading=!1,this.avBuffs=[],this.history={}}_loadPage(t){const e=this,n=new Promise((a,i)=>{e.pendingLoads.push({page:t,resolve:a,reject:i})});return e.__statusPage("After Load request: ",t),n}__statusPage(t,e){const n=[],a=this;if(!a.logHistory)return;n.push("=="+t+" "+e);let i="";for(let r=0;r<a.pendingLoads.length;r++)a.pendingLoads[r].page==e&&(i=i+" "+r);if(i&&n.push("Pending loads:"+i),typeof a.pages[e]<"u"){const r=a.pages[e];n.push("Loaded"),n.push("pendingOps: "+r.pendingOps),r.loading&&n.push("loading: "+r.loading),r.writing&&n.push("writing"),r.dirty&&n.push("dirty")}n.push("=="),a.history[e]||(a.history[e]=[]),a.history[e].push(n)}__printHistory(t){const e=this;e.history[t]||console.log("Empty History ",t),console.log("History "+t);for(let n=0;n<e.history[t].length;n++)for(let a=0;a<e.history[t][n].length;a++)console.log("-> "+e.history[t][n][a])}_triggerLoad(){const t=this;if(t.reading||t.pendingLoads.length==0)return;const e=Object.keys(t.pages),n=[];for(let o=0;o<e.length;o++){const f=t.pages[parseInt(e[o])];f.dirty==!1&&f.pendingOps==0&&!f.writing&&!f.loading&&n.push(parseInt(e[o]))}let a=t.maxPagesLoaded-e.length;const i=[];for(;t.pendingLoads.length>0&&(typeof t.pages[t.pendingLoads[0].page]<"u"||a>0||n.length>0);){const o=t.pendingLoads.shift();if(typeof t.pages[o.page]<"u"){t.pages[o.page].pendingOps++;const f=n.indexOf(o.page);f>=0&&n.splice(f,1),t.pages[o.page].loading?t.pages[o.page].loading.push(o):o.resolve(),t.__statusPage("After Load (cached): ",o.page)}else{if(a)a--;else{const f=n.shift();t.__statusPage("Before Unload: ",f),t.avBuffs.unshift(t.pages[f]),delete t.pages[f],t.__statusPage("After Unload: ",f)}o.page>=t.totalPages?(t.pages[o.page]=r(),o.resolve(),t.__statusPage("After Load (new): ",o.page)):(t.reading=!0,t.pages[o.page]=r(),t.pages[o.page].loading=[o],i.push(t.fd.read(t.pages[o.page].buff,0,t.pageSize,o.page*t.pageSize).then(f=>{t.pages[o.page].size=f.bytesRead;const l=t.pages[o.page].loading;delete t.pages[o.page].loading;for(let c=0;c<l.length;c++)l[c].resolve();return t.__statusPage("After Load (loaded): ",o.page),f},f=>{o.reject(f)})),t.__statusPage("After Load (loading): ",o.page))}}Promise.all(i).then(()=>{t.reading=!1,t.pendingLoads.length>0&&setImmediate(t._triggerLoad.bind(t)),t._tryClose()});function r(){if(t.avBuffs.length>0){const o=t.avBuffs.shift();return o.dirty=!1,o.pendingOps=1,o.size=0,o}else return{dirty:!1,buff:new Uint8Array(t.pageSize),pendingOps:1,size:0}}}_triggerWrite(){const t=this;if(t.writing)return;const e=Object.keys(t.pages),n=[];for(let a=0;a<e.length;a++){const i=t.pages[parseInt(e[a])];i.dirty&&(i.dirty=!1,i.writing=!0,t.writing=!0,n.push(t.fd.write(i.buff,0,i.size,parseInt(e[a])*t.pageSize).then(()=>{i.writing=!1},r=>{console.log("ERROR Writing: "+r),t.error=r,t._tryClose()})))}t.writing&&Promise.all(n).then(()=>{t.writing=!1,setImmediate(t._triggerWrite.bind(t)),t._tryClose(),t.pendingLoads.length>0&&setImmediate(t._triggerLoad.bind(t))})}_getDirtyPage(){for(let t in this.pages)if(this.pages[t].dirty)return t;return-1}async write(t,e){if(t.byteLength==0)return;const n=this;if(typeof e>"u"&&(e=n.pos),n.pos=e+t.byteLength,n.totalSize<e+t.byteLength&&(n.totalSize=e+t.byteLength),n.pendingClose)throw new Error("Writing a closing file");const a=Math.floor(e/n.pageSize),i=Math.floor((e+t.byteLength-1)/n.pageSize),r=[];for(let c=a;c<=i;c++)r.push(n._loadPage(c));n._triggerLoad();let o=a,f=e%n.pageSize,l=t.byteLength;for(;l>0;){await r[o-a];const c=f+l>n.pageSize?n.pageSize-f:l,h=t.slice(t.byteLength-l,t.byteLength-l+c);new Uint8Array(n.pages[o].buff.buffer,f,c).set(h),n.pages[o].dirty=!0,n.pages[o].pendingOps--,n.pages[o].size=Math.max(f+c,n.pages[o].size),o>=n.totalPages&&(n.totalPages=o+1),l=l-c,o++,f=0,n.writing||setImmediate(n._triggerWrite.bind(n))}}async read(t,e){const n=this;let a=new Uint8Array(t);return await n.readToBuffer(a,0,t,e),a}async readToBuffer(t,e,n,a){if(n==0)return;const i=this;if(n>i.pageSize*i.maxPagesLoaded*.8){const m=Math.floor(n*1.1);this.maxPagesLoaded=Math.floor(m/i.pageSize)+1}if(typeof a>"u"&&(a=i.pos),i.pos=a+n,i.pendingClose)throw new Error("Reading a closing file");const r=Math.floor(a/i.pageSize),o=Math.floor((a+n-1)/i.pageSize),f=[];for(let m=r;m<=o;m++)f.push(i._loadPage(m));i._triggerLoad();let l=r,c=a%i.pageSize,h=a+n>i.totalSize?n-(a+n-i.totalSize):n;for(;h>0;){await f[l-r],i.__statusPage("After Await (read): ",l);const m=c+h>i.pageSize?i.pageSize-c:h,p=new Uint8Array(i.pages[l].buff.buffer,i.pages[l].buff.byteOffset+c,m);t.set(p,e+n-h),i.pages[l].pendingOps--,i.__statusPage("After Op done: ",l),h=h-m,l++,c=0,i.pendingLoads.length>0&&setImmediate(i._triggerLoad.bind(i))}this.pos=a+n}_tryClose(){const t=this;!t.pendingClose||(t.error&&t.pendingCloseReject(t.error),t._getDirtyPage()>=0||t.writing||t.reading||t.pendingLoads.length>0)||t.pendingClose()}close(){const t=this;if(t.pendingClose)throw new Error("Closing the file twice");return new Promise((e,n)=>{t.pendingClose=e,t.pendingCloseReject=n,t._tryClose()}).then(()=>{t.fd.close()},e=>{throw t.fd.close(),e})}async discard(){await this.close(),await Z9.promises.unlink(this.fileName)}async writeULE32(t,e){const n=this,a=new Uint8Array(4);new DataView(a.buffer).setUint32(0,t,!0),await n.write(a,e)}async writeUBE32(t,e){const n=this,a=new Uint8Array(4);new DataView(a.buffer).setUint32(0,t,!1),await n.write(a,e)}async writeULE64(t,e){const n=this,a=new Uint8Array(8),i=new DataView(a.buffer);i.setUint32(0,t&4294967295,!0),i.setUint32(4,Math.floor(t/4294967296),!0),await n.write(a,e)}async readULE32(t){const n=await this.read(4,t);return new Uint32Array(n.buffer)[0]}async readUBE32(t){const n=await this.read(4,t);return new DataView(n.buffer).getUint32(0,!1)}async readULE64(t){const n=await this.read(8,t),a=new Uint32Array(n.buffer);return a[1]*4294967296+a[0]}async readString(t){const e=this;if(e.pendingClose)throw new Error("Reading a closing file");let n=typeof t>"u"?e.pos:t,a=Math.floor(n/e.pageSize),i=!1,r="";for(;!i;){let o=e._loadPage(a);e._triggerLoad(),await o,e.__statusPage("After Await (read): ",a);let f=n%e.pageSize;const l=new Uint8Array(e.pages[a].buff.buffer,e.pages[a].buff.byteOffset+f,e.pageSize-f);let c=l.findIndex(h=>h===0);i=c!==-1,i?(r+=new TextDecoder().decode(l.slice(0,c)),e.pos=a*this.pageSize+f+c+1):(r+=new TextDecoder().decode(l),e.pos=a*this.pageSize+f+l.length),e.pages[a].pendingOps--,e.__statusPage("After Op done: ",a),n=e.pos,a++,e.pendingLoads.length>0&&setImmediate(e._triggerLoad.bind(e))}return r}}function eP(s){const t=s.initialSize||1048576,e=new ty;return e.o=s,e.o.data=new Uint8Array(t),e.allocSize=t,e.totalSize=0,e.readOnly=!1,e.pos=0,e}function nP(s){const t=new ty;return t.o=s,t.allocSize=s.data.byteLength,t.totalSize=s.data.byteLength,t.readOnly=!0,t.pos=0,t}const Z2=new Uint8Array(4),y8=new DataView(Z2.buffer),Y9=new Uint8Array(8),m8=new DataView(Y9.buffer);class ty{constructor(){this.pageSize=16384}_resizeIfNeeded(t){if(t>this.allocSize){const e=Math.max(this.allocSize+1048576,Math.floor(this.allocSize*1.1),t),n=new Uint8Array(e);n.set(this.o.data),this.o.data=n,this.allocSize=e}}async write(t,e){if(typeof e>"u"&&(e=this.pos),this.readOnly)throw new Error("Writing a read only file");this._resizeIfNeeded(e+t.byteLength),this.o.data.set(t.slice(),e),e+t.byteLength>this.totalSize&&(this.totalSize=e+t.byteLength),this.pos=e+t.byteLength}async readToBuffer(t,e,n,a){if(typeof a>"u"&&(a=this.pos),this.readOnly&&a+n>this.totalSize)throw new Error("Reading out of bounds");this._resizeIfNeeded(a+n);const r=new Uint8Array(this.o.data.buffer,this.o.data.byteOffset+a,n);t.set(r,e),this.pos=a+n}async read(t,e){const n=this,a=new Uint8Array(t);return await n.readToBuffer(a,0,t,e),a}close(){this.o.data.byteLength!=this.totalSize&&(this.o.data=this.o.data.slice(0,this.totalSize))}async discard(){}async writeULE32(t,e){const n=this;y8.setUint32(0,t,!0),await n.write(Z2,e)}async writeUBE32(t,e){const n=this;y8.setUint32(0,t,!1),await n.write(Z2,e)}async writeULE64(t,e){const n=this;m8.setUint32(0,t&4294967295,!0),m8.setUint32(4,Math.floor(t/4294967296),!0),await n.write(Y9,e)}async readULE32(t){const n=await this.read(4,t);return new Uint32Array(n.buffer)[0]}async readUBE32(t){const n=await this.read(4,t);return new DataView(n.buffer).getUint32(0,!1)}async readULE64(t){const n=await this.read(8,t),a=new Uint32Array(n.buffer);return a[1]*4294967296+a[0]}async readString(t){const e=this;let n=typeof t>"u"?e.pos:t;if(n>this.totalSize){if(this.readOnly)throw new Error("Reading out of bounds");this._resizeIfNeeded(t)}const a=new Uint8Array(e.o.data.buffer,n,this.totalSize-n);let i=a.findIndex(f=>f===0),r=i!==-1,o="";return r?(o=new TextDecoder().decode(a.slice(0,i)),e.pos=n+i+1):e.pos=n,o}}const Ie=1<<22;function sP(s){const t=s.initialSize||0,e=new ny;e.o=s;const n=t?Math.floor((t-1)/Ie)+1:0;e.o.data=[];for(let a=0;a<n-1;a++)e.o.data.push(new Uint8Array(Ie));return n&&e.o.data.push(new Uint8Array(t-Ie*(n-1))),e.totalSize=0,e.readOnly=!1,e.pos=0,e}function aP(s){const t=new ny;return t.o=s,t.totalSize=(s.data.length-1)*Ie+s.data[s.data.length-1].byteLength,t.readOnly=!0,t.pos=0,t}const X2=new Uint8Array(4),_8=new DataView(X2.buffer),ey=new Uint8Array(8),x8=new DataView(ey.buffer);class ny{constructor(){this.pageSize=16384}_resizeIfNeeded(t){if(t<=this.totalSize)return;if(this.readOnly)throw new Error("Reading out of file bounds");const e=Math.floor((t-1)/Ie)+1;for(let n=Math.max(this.o.data.length-1,0);n<e;n++){const a=n<e-1?Ie:t-(e-1)*Ie,i=new Uint8Array(a);n==this.o.data.length-1&&i.set(this.o.data[n]),this.o.data[n]=i}this.totalSize=t}async write(t,e){const n=this;if(typeof e>"u"&&(e=n.pos),this.readOnly)throw new Error("Writing a read only file");this._resizeIfNeeded(e+t.byteLength);let i=Math.floor(e/Ie),r=e%Ie,o=t.byteLength;for(;o>0;){const f=r+o>Ie?Ie-r:o,l=t.slice(t.byteLength-o,t.byteLength-o+f);new Uint8Array(n.o.data[i].buffer,r,f).set(l),o=o-f,i++,r=0}this.pos=e+t.byteLength}async readToBuffer(t,e,n,a){const i=this;if(typeof a>"u"&&(a=i.pos),this.readOnly&&a+n>this.totalSize)throw new Error("Reading out of bounds");this._resizeIfNeeded(a+n);let o=Math.floor(a/Ie),f=a%Ie,l=n;for(;l>0;){const c=f+l>Ie?Ie-f:l,h=new Uint8Array(i.o.data[o].buffer,f,c);t.set(h,e+n-l),l=l-c,o++,f=0}this.pos=a+n}async read(t,e){const n=this,a=new Uint8Array(t);return await n.readToBuffer(a,0,t,e),a}close(){}async discard(){}async writeULE32(t,e){const n=this;_8.setUint32(0,t,!0),await n.write(X2,e)}async writeUBE32(t,e){const n=this;_8.setUint32(0,t,!1),await n.write(X2,e)}async writeULE64(t,e){const n=this;x8.setUint32(0,t&4294967295,!0),x8.setUint32(4,Math.floor(t/4294967296),!0),await n.write(ey,e)}async readULE32(t){const n=await this.read(4,t);return new Uint32Array(n.buffer)[0]}async readUBE32(t){const n=await this.read(4,t);return new DataView(n.buffer).getUint32(0,!1)}async readULE64(t){const n=await this.read(8,t),a=new Uint32Array(n.buffer);return a[1]*4294967296+a[0]}async readString(t){const e=this,n=2048;let a=typeof t>"u"?e.pos:t;if(a>this.totalSize){if(this.readOnly)throw new Error("Reading out of bounds");this._resizeIfNeeded(t)}let i=!1,r="";for(;!i;){let o=Math.floor(a/Ie),f=a%Ie;if(e.o.data[o]===void 0)throw new Error("ERROR");let l=Math.min(n,e.o.data[o].length-f);const c=new Uint8Array(e.o.data[o].buffer,f,l);let h=c.findIndex(m=>m===0);i=h!==-1,i?(r+=new TextDecoder().decode(c.slice(0,h)),e.pos=o*Ie+f+h+1):(r+=new TextDecoder().decode(c),e.pos=o*Ie+f+c.length),a=e.pos}return r}}const iP=1024,rP=512,oP=2,cP=0,lP=65536,fP=8192;async function sy(s,t,e){if(typeof s=="string"&&(s={type:"file",fileName:s,cacheSize:lP,pageSize:fP}),s.type=="file")return await X9(s.fileName,iP|rP|oP,s.cacheSize,s.pageSize);if(s.type=="mem")return eP(s);if(s.type=="bigMem")return sP(s);throw new Error("Invalid FastFile type: "+s.type)}async function ay(s,t,e){if(s instanceof Uint8Array&&(s={type:"mem",data:s}),typeof s=="string"&&(s={type:"mem",data:await fetch(s).then(function(a){return a.arrayBuffer()}).then(function(a){return new Uint8Array(a)})}),s.type=="file")return await X9(s.fileName,cP,s.cacheSize,s.pageSize);if(s.type=="mem")return await nP(s);if(s.type=="bigMem")return await aP(s);throw new Error("Invalid FastFile type: "+s.type)}async function w8(s,t,e,n,a){const i=await ay(s),r=await i.read(4);let o="";for(let h=0;h<4;h++)o+=String.fromCharCode(r[h]);if(o!=t)throw new Error(s+": Invalid File format");if(await i.readULE32()>e)throw new Error("Version not supported");const l=await i.readULE32();let c=[];for(let h=0;h<l;h++){let m=await i.readULE32(),p=await i.readULE64();typeof c[m]>"u"&&(c[m]=[]),c[m].push({p:i.pos,size:p}),i.pos+=p}return{fd:i,sections:c}}async function dP(s,t,e,n,a,i){const r=await sy(s),o=new Uint8Array(4);for(let f=0;f<4;f++)o[f]=t.charCodeAt(f);return await r.write(o,0),await r.writeULE32(e),await r.writeULE32(n),r}async function L8(s,t){if(typeof s.writingSection<"u")throw new Error("Already writing a section");await s.writeULE32(t),s.writingSection={pSectionSize:s.pos},await s.writeULE64(0)}async function A8(s){if(typeof s.writingSection>"u")throw new Error("Not writing a section");const t=s.pos-s.writingSection.pSectionSize-8,e=s.pos;s.pos=s.writingSection.pSectionSize,await s.writeULE64(t),s.pos=e,delete s.writingSection}async function Nl(s,t,e){if(typeof s.readingSection<"u")throw new Error("Already reading a section");if(!t[e])throw new Error(s.fileName+": Missing section "+e);if(t[e].length>1)throw new Error(s.fileName+": Section Duplicated "+e);s.pos=t[e][0].p,s.readingSection=t[e][0]}async function kl(s,t){if(typeof s.readingSection>"u")throw new Error("Not reading a section");if(s.pos-s.readingSection.p!=s.readingSection.size)throw new Error("Invalid section size reading");delete s.readingSection}async function uP(s,t,e,n){const a=new Uint8Array(e);he.toRprLE(a,0,t,e),await s.write(a,n)}async function Pr(s,t,e){const n=await s.read(t,e);return he.fromRprLE(n,0,t)}async function wi(s,t,e,n,a){if(n=typeof n>"u"?0:n,a=typeof a>"u"?t[e][0].size-n:a,n+a>t[e][0].size)throw new Error("Reading out of the range of the section");let i;return a<1<<30?i=new Uint8Array(a):i=new re(a),await s.readToBuffer(i,0,a,t[e][0].p+n),i}he.e("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16);he.e("21888242871839275222246405745257275088548364400416034343698204186575808495617");const hP=he.e("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16),bP=he.e("21888242871839275222246405745257275088696311157297823662689037894645226208583");async function M5(s,t){let e,n=t&&t.singleThread;if(he.eq(s,bP))e=await J9(n);else if(he.eq(s,hP))e=await W9(n);else throw new Error(`Curve not supported: ${he.toString(s)}`);return e}async function pP(s,t){let e,n=t&&t.singleThread;const a=i(s);if(["BN128","BN254","ALTBN128"].indexOf(a)>=0)e=await J9(n);else if(["BLS12381"].indexOf(a)>=0)e=await W9(n);else throw new Error(`Curve not supported: ${s}`);return e;function i(r){return r.toUpperCase().match(/[A-Za-z0-9]+/g).join("")}}new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Ad(s){return(s&4294901760?(s&=4294901760,16):0)|(s&4278255360?(s&=4278255360,8):0)|(s&4042322160?(s&=4042322160,4):0)|(s&3435973836?(s&=3435973836,2):0)|(s&2863311530)!==0}const gP=1,yP=2,iy=10,mP=2;async function Vn(s,t,e){const n=await s.read(t.G1.F.n8*2),a=t.G1.fromRprLEM(n,0);return e?t.G1.toObject(a):a}async function m0(s,t,e){const n=await s.read(t.G2.F.n8*2),a=t.G2.fromRprLEM(n,0);return e?t.G2.toObject(a):a}async function _P(s,t,e,n){await Nl(s,t,1);const a=await s.readULE32();if(await kl(s),a===gP)return await xP(s,t,e,n);if(a===yP)return await wP(s,t,e,n);if(a===iy)return await LP(s,t,e,n);throw new Error("Protocol not supported: ")}async function xP(s,t,e,n){const a={};a.protocol="groth16",await Nl(s,t,2);const i=await s.readULE32();a.n8q=i,a.q=await Pr(s,i);const r=await s.readULE32();return a.n8r=r,a.r=await Pr(s,r),a.curve=await M5(a.q,n),a.nVars=await s.readULE32(),a.nPublic=await s.readULE32(),a.domainSize=await s.readULE32(),a.power=Ad(a.domainSize),a.vk_alpha_1=await Vn(s,a.curve,e),a.vk_beta_1=await Vn(s,a.curve,e),a.vk_beta_2=await m0(s,a.curve,e),a.vk_gamma_2=await m0(s,a.curve,e),a.vk_delta_1=await Vn(s,a.curve,e),a.vk_delta_2=await m0(s,a.curve,e),await kl(s),a}async function wP(s,t,e,n){const a={};a.protocol="plonk",await Nl(s,t,2);const i=await s.readULE32();a.n8q=i,a.q=await Pr(s,i);const r=await s.readULE32();return a.n8r=r,a.r=await Pr(s,r),a.curve=await M5(a.q,n),a.nVars=await s.readULE32(),a.nPublic=await s.readULE32(),a.domainSize=await s.readULE32(),a.power=Ad(a.domainSize),a.nAdditions=await s.readULE32(),a.nConstraints=await s.readULE32(),a.k1=await s.read(r),a.k2=await s.read(r),a.Qm=await Vn(s,a.curve,e),a.Ql=await Vn(s,a.curve,e),a.Qr=await Vn(s,a.curve,e),a.Qo=await Vn(s,a.curve,e),a.Qc=await Vn(s,a.curve,e),a.S1=await Vn(s,a.curve,e),a.S2=await Vn(s,a.curve,e),a.S3=await Vn(s,a.curve,e),a.X_2=await m0(s,a.curve,e),await kl(s),a}async function LP(s,t,e,n){const a={};a.protocol="fflonk",a.protocolId=iy,await Nl(s,t,mP);const i=await s.readULE32();a.n8q=i,a.q=await Pr(s,i),a.curve=await M5(a.q,n);const r=await s.readULE32();return a.n8r=r,a.r=await Pr(s,r),a.nVars=await s.readULE32(),a.nPublic=await s.readULE32(),a.domainSize=await s.readULE32(),a.power=Ad(a.domainSize),a.nAdditions=await s.readULE32(),a.nConstraints=await s.readULE32(),a.k1=await s.read(r),a.k2=await s.read(r),a.w3=await s.read(r),a.w4=await s.read(r),a.w8=await s.read(r),a.wr=await s.read(r),a.X_2=await m0(s,a.curve,e),a.C0=await Vn(s,a.curve,e),await kl(s),a}async function AP(s,t,e){await L8(s,1);const n=(Math.floor((he.bitLength(e)-1)/64)+1)*8;if(await s.writeULE32(n),await uP(s,e,n),t.byteLength%n!=0)throw new Error("Invalid witness length");await s.writeULE32(t.byteLength/n),await A8(s),await L8(s,2),await s.write(t),await A8(s)}async function EP(s,t){await Nl(s,t,1);const e=await s.readULE32(),n=await Pr(s,e),a=await s.readULE32();return await kl(s),{n8:e,q:n,nWitness:a}}const{stringifyBigInts:E8}=We;async function ry(s,t,e,n){const{fd:a,sections:i}=await w8(t,"wtns",2),r=await EP(a,i),{fd:o,sections:f}=await w8(s,"zkey",2),l=await _P(o,f,void 0,n);if(l.protocol!="groth16")throw new Error("zkey file is not groth16");if(!he.eq(l.r,r.q))throw new Error("Curve of the witness does not match the curve of the proving key");if(r.nWitness!=l.nVars)throw new Error(`Invalid witness length. Circuit: ${l.nVars}, witness: ${r.nWitness}`);const c=l.curve,h=c.Fr,m=c.G1,p=c.G2,C=Ad(l.domainSize);e&&e.debug("Reading Wtns");const A=await wi(a,i,2);e&&e.debug("Reading Coeffs");const w=await wi(o,f,4);e&&e.debug("Building ABC");const[I,v,F]=await CP(c,l,A,w,e),S=C==h.s?c.Fr.shift:c.Fr.w[C+1],D=await h.ifft(I,"","",e,"IFFT_A"),P=await h.batchApplyKey(D,h.e(1),S),u=await h.fft(P,"","",e,"FFT_A"),_=await h.ifft(v,"","",e,"IFFT_B"),G=await h.batchApplyKey(_,h.e(1),S),H=await h.fft(G,"","",e,"FFT_B"),J=await h.ifft(F,"","",e,"IFFT_C"),U=await h.batchApplyKey(J,h.e(1),S),E=await h.fft(U,"","",e,"FFT_C");e&&e.debug("Join ABC");const M=await vP(c,l,u,H,E,e);let N={};e&&e.debug("Reading A Points");const $=await wi(o,f,5);N.pi_a=await c.G1.multiExpAffine($,A,e,"multiexp A"),e&&e.debug("Reading B1 Points");const X=await wi(o,f,6);let K=await c.G1.multiExpAffine(X,A,e,"multiexp B1");e&&e.debug("Reading B2 Points");const ot=await wi(o,f,7);N.pi_b=await c.G2.multiExpAffine(ot,A,e,"multiexp B2"),e&&e.debug("Reading C Points");const tt=await wi(o,f,8);N.pi_c=await c.G1.multiExpAffine(tt,A.slice((l.nPublic+1)*c.Fr.n8),e,"multiexp C"),e&&e.debug("Reading H Points");const lt=await wi(o,f,9),Tt=await c.G1.multiExpAffine(lt,M,e,"multiexp H"),Bt=c.Fr.random(),Et=c.Fr.random();N.pi_a=m.add(N.pi_a,l.vk_alpha_1),N.pi_a=m.add(N.pi_a,m.timesFr(l.vk_delta_1,Bt)),N.pi_b=p.add(N.pi_b,l.vk_beta_2),N.pi_b=p.add(N.pi_b,p.timesFr(l.vk_delta_2,Et)),K=m.add(K,l.vk_beta_1),K=m.add(K,m.timesFr(l.vk_delta_1,Et)),N.pi_c=m.add(N.pi_c,Tt),N.pi_c=m.add(N.pi_c,m.timesFr(N.pi_a,Et)),N.pi_c=m.add(N.pi_c,m.timesFr(K,Bt)),N.pi_c=m.add(N.pi_c,m.timesFr(l.vk_delta_1,h.neg(h.mul(Bt,Et))));let R=[];for(let d=1;d<=l.nPublic;d++){const B=A.slice(d*h.n8,d*h.n8+h.n8);R.push(he.fromRprLE(B))}return N.pi_a=m.toObject(m.toAffine(N.pi_a)),N.pi_b=p.toObject(p.toAffine(N.pi_b)),N.pi_c=m.toObject(m.toAffine(N.pi_c)),N.protocol="groth16",N.curve=c.name,await o.close(),await a.close(),N=E8(N),R=E8(R),{proof:N,publicSignals:R}}async function CP(s,t,e,n,a){const i=s.Fr.n8,r=4*3+t.n8r,o=(n.byteLength-4)/r,f=new re(t.domainSize*i),l=new re(t.domainSize*i),c=new re(t.domainSize*i),h=[f,l];for(let m=0;m<o;m++){a&&m%1e6==0&&a.debug(`QAP AB: ${m}/${o}`);const p=n.slice(4+m*r,4+m*r+r),C=new DataView(p.buffer),A=C.getUint32(0,!0),w=C.getUint32(4,!0),I=C.getUint32(8,!0),v=p.slice(12,12+i);h[A].set(s.Fr.add(h[A].slice(w*i,w*i+i),s.Fr.mul(v,e.slice(I*i,I*i+i))),w*i)}for(let m=0;m<t.domainSize;m++)a&&m%1e6==0&&a.debug(`QAP C: ${m}/${t.domainSize}`),c.set(s.Fr.mul(f.slice(m*i,m*i+i),l.slice(m*i,m*i+i)),m*i);return[f,l,c]}async function vP(s,t,e,n,a,i){const o=s.Fr.n8,f=Math.floor(e.byteLength/s.Fr.n8),l=[];for(let p=0;p<f;p+=4194304){i&&i.debug(`JoinABC: ${p}/${f}`);const C=Math.min(f-p,4194304),A=[],w=e.slice(p*o,(p+C)*o),I=n.slice(p*o,(p+C)*o),v=a.slice(p*o,(p+C)*o);A.push({cmd:"ALLOCSET",var:0,buff:w}),A.push({cmd:"ALLOCSET",var:1,buff:I}),A.push({cmd:"ALLOCSET",var:2,buff:v}),A.push({cmd:"ALLOC",var:3,len:C*o}),A.push({cmd:"CALL",fnName:"qap_joinABC",params:[{var:0},{var:1},{var:2},{val:C},{var:3}]}),A.push({cmd:"CALL",fnName:"frm_batchFromMontgomery",params:[{var:3},{val:C},{var:3}]}),A.push({cmd:"GET",out:0,var:3,len:C*o}),l.push(s.tm.queueAction(A))}const c=await Promise.all(l);let h;e instanceof re?h=new re(e.byteLength):h=new Uint8Array(e.byteLength);let m=0;for(let p=0;p<c.length;p++)h.set(c[p][0],m),m+=c[p][0].byteLength;return h}function oy(s){let t=[];return e(t,s),t;function e(n,a){if(Array.isArray(a))for(let i=0;i<a.length;i++)e(n,a[i]);else n.push(a)}}function PP(s,t){let e=BigInt(s)%t;return e<0&&(e+=t),e}function cy(s){const t=BigInt(2)**BigInt(64);let e=BigInt("0xCBF29CE484222325");for(let i=0;i<s.length;i++)e^=BigInt(s[i].charCodeAt(0)),e*=BigInt(1099511628211),e%=t;let n=e.toString(16),a=16-n.length;return n="0".repeat(a).concat(n),n}function IP(s,t){const e=[];let n=BigInt(s);const a=BigInt(4294967296);for(;n;)e.unshift(Number(n%a)),n=n/a;if(t){let i=t-e.length;for(;i>0;)e.unshift(0),i--}return e}async function TP(s,t){let e,n,a;t=t||{};let i=1,r=0,o=0,f=!1;if(s instanceof WebAssembly.Instance)e=s,f=!0;else{let m=32767;if(t.memorySize&&(m=parseInt(t.memorySize),m<0))throw new Error("Invalid memory size");let p=!1;for(;!p;)try{a=new WebAssembly.Memory({initial:m}),p=!0}catch(I){if(m<=1)throw I;console.warn("Could not allocate "+m*1024*64+" bytes. This may cause severe instability. Trying with "+m*1024*64/2+" bytes"),m=Math.floor(m/2)}const C=await WebAssembly.compile(s);let A="",w="";e=await WebAssembly.instantiate(C,{env:{memory:a},runtime:{printDebug:function(I){console.log("printDebug:",I)},exceptionHandler:function(I){let v;throw I===1?v="Signal not found. ":I===2?v="Too many signals set. ":I===3?v="Signal already set. ":I===4?v="Assert Failed. ":I===5?v="Not enough memory. ":I===6?v="Input signal array access exceeds the size. ":v="Unknown error. ",console.error("ERROR: ",I,A),new Error(v+A)},printErrorMessage:function(){A+=c()+`
`},writeBufferMessage:function(){const I=c();I===`
`?(console.log(w),w=""):(w!==""&&(w+=" "),w+=I)},showSharedRWMemory:function(){const I=e.exports.getFieldNumLen32(),v=new Uint32Array(I);for(let F=0;F<I;F++)v[I-1-F]=e.exports.readSharedRWMemory(F);if(i>=2&&(r>=1||o>=7)){w!==""&&(w+=" ");const F=he.fromArray(v,4294967296).toString();w+=F}else console.log(he.fromArray(v,4294967296))},error:function(I,v,F,S,D,P){let u;throw I===7?u=h(v)+" "+n.getFr(S).toString()+" != "+n.getFr(D).toString()+" "+h(P):I===9?u=h(v)+" "+n.getFr(S).toString()+" "+h(D):I===5&&t.sym?u=h(v)+" "+t.sym.labelIdx2Name[D]:u=h(v)+" "+F+" "+S+" "+D+" "+P,console.log("ERROR: ",I,u),new Error(u)},log:function(I){console.log(n.getFr(I).toString())},logGetSignal:function(I,v){t.logGetSignal&&t.logGetSignal(I,n.getFr(v))},logSetSignal:function(I,v){t.logSetSignal&&t.logSetSignal(I,n.getFr(v))},logStartComponent:function(I){t.logStartComponent&&t.logStartComponent(I)},logFinishComponent:function(I){t.logFinishComponent&&t.logFinishComponent(I)}}})}typeof e.exports.getVersion=="function"&&(i=e.exports.getVersion()),typeof e.exports.getMinorVersion=="function"&&(r=e.exports.getMinorVersion()),typeof e.exports.getPatchVersion=="function"&&(o=e.exports.getPatchVersion());const l=t&&(t.sanityCheck||t.logGetSignal||t.logSetSignal||t.logStartComponent||t.logFinishComponent);if(i===2)n=new SP(e,l);else if(i===1){if(f)throw new Error("Loading code from WebAssembly instance is not supported for circom version 1");n=new BP(a,e,l)}else throw new Error(`Unsupported circom version: ${i}`);return n;function c(){let m="",p=e.exports.getMessageChar();for(;p!==0;)m+=String.fromCharCode(p),p=e.exports.getMessageChar();return m}function h(m){const p=new Uint8Array(a.buffer),C=[];for(let A=0;p[m+A]>0;A++)C.push(p[m+A]);return String.fromCharCode.apply(null,C)}}class BP{constructor(t,e,n){this.memory=t,this.i32=new Uint32Array(t.buffer),this.instance=e,this.n32=(this.instance.exports.getFrLen()>>2)-2;const a=this.instance.exports.getPRawPrime(),i=new Array(this.n32);for(let r=0;r<this.n32;r++)i[this.n32-1-r]=this.i32[(a>>2)+r];this.prime=he.fromArray(i,4294967296),this.Fr=new QC(this.prime),this.mask32=he.fromString("FFFFFFFF",16),this.NVars=this.instance.exports.getNVars(),this.n64=Math.floor((this.Fr.bitLength-1)/64)+1,this.R=this.Fr.e(he.shiftLeft(1,this.n64*64)),this.RInv=this.Fr.inv(this.R),this.sanityCheck=n}circom_version(){return 1}async _doCalculateWitness(t,e){this.instance.exports.init(this.sanityCheck||e?1:0);const n=this.allocInt(),a=this.allocFr();Object.keys(t).forEach(r=>{const o=cy(r),f=parseInt(o.slice(0,8),16),l=parseInt(o.slice(8,16),16);try{this.instance.exports.getSignalOffset32(n,0,f,l)}catch{throw new Error(`Signal ${r} is not an input of the circuit.`)}const c=this.getInt(n),h=oy(t[r]);for(let m=0;m<h.length;m++)this.setFr(a,h[m]),this.instance.exports.setSignal(0,0,c+m,a)})}async calculateWitness(t,e){const n=this,a=n.i32[0],i=[];await n._doCalculateWitness(t,e);for(let r=0;r<n.NVars;r++){const o=n.instance.exports.getPWitness(r);i.push(n.getFr(o))}return n.i32[0]=a,i}async calculateBinWitness(t,e){const n=this,a=n.i32[0];await n._doCalculateWitness(t,e);const i=n.instance.exports.getWitnessBuffer();n.i32[0]=a;const r=n.memory.buffer.slice(i,i+n.NVars*n.n64*8);return new Uint8Array(r)}allocInt(){const t=this.i32[0];return this.i32[0]=t+8,t}allocFr(){const t=this.i32[0];return this.i32[0]=t+this.n32*4+8,t}getInt(t){return this.i32[t>>2]}setInt(t,e){this.i32[t>>2]=e}getFr(t){const e=this,n=t>>2;if(e.i32[n+1]&2147483648){const i=new Array(e.n32);for(let o=0;o<e.n32;o++)i[e.n32-1-o]=e.i32[n+2+o];const r=e.Fr.e(he.fromArray(i,4294967296));return e.i32[n+1]&1073741824?a(r):r}else return e.i32[n]&2147483648?e.Fr.e(e.i32[n]-4294967296):e.Fr.e(e.i32[n]);function a(i){return e.Fr.mul(e.RInv,i)}}setFr(t,e){const n=this;e=n.Fr.e(e);const a=n.Fr.neg(n.Fr.e("80000000",16)),i=n.Fr.e("7FFFFFFF",16);if(n.Fr.geq(e,a)&&n.Fr.leq(e,i)){let o;n.Fr.geq(e,n.Fr.zero)?o=he.toNumber(e):(o=he.toNumber(n.Fr.sub(e,a)),o=o-2147483648,o=4294967296+o),n.i32[t>>2]=o,n.i32[(t>>2)+1]=0;return}n.i32[t>>2]=0,n.i32[(t>>2)+1]=2147483648;const r=he.toArray(e,4294967296);for(let o=0;o<n.n32;o++){const f=r.length-1-o;f>=0?n.i32[(t>>2)+2+o]=r[f]:n.i32[(t>>2)+2+o]=0}}}class SP{constructor(t,e){this.instance=t,this.version=this.instance.exports.getVersion(),this.n32=this.instance.exports.getFieldNumLen32(),this.instance.exports.getRawPrime();const n=new Uint32Array(this.n32);for(let a=0;a<this.n32;a++)n[this.n32-1-a]=this.instance.exports.readSharedRWMemory(a);this.prime=he.fromArray(n,4294967296),this.witnessSize=this.instance.exports.getWitnessSize(),this.sanityCheck=e}circom_version(){return this.instance.exports.getVersion()}async _doCalculateWitness(t,e){this.instance.exports.init(this.sanityCheck||e?1:0);const n=Object.keys(t);let a=0;if(n.forEach(i=>{const r=cy(i),o=parseInt(r.slice(0,8),16),f=parseInt(r.slice(8,16),16),l=oy(t[i]);if(typeof this.instance.exports.getInputSignalSize=="function"){let c=this.instance.exports.getInputSignalSize(o,f);if(c<0)throw new Error(`Signal ${i} not found
`);if(l.length<c)throw new Error(`Not enough values for input signal ${i}
`);if(l.length>c)throw new Error(`Too many values for input signal ${i}
`)}for(let c=0;c<l.length;c++){const h=IP(PP(l[c],this.prime),this.n32);for(let m=0;m<this.n32;m++)this.instance.exports.writeSharedRWMemory(m,h[this.n32-1-m]);try{this.instance.exports.setInputSignal(o,f,c),a++}catch(m){throw new Error(m)}}}),a<this.instance.exports.getInputSize())throw new Error(`Not all inputs have been set. Only ${a} out of ${this.instance.exports.getInputSize()}`)}async calculateWitness(t,e){const n=[];await this._doCalculateWitness(t,e);for(let a=0;a<this.witnessSize;a++){this.instance.exports.getWitness(a);const i=new Uint32Array(this.n32);for(let r=0;r<this.n32;r++)i[this.n32-1-r]=this.instance.exports.readSharedRWMemory(r);n.push(he.fromArray(i,4294967296))}return n}async calculateWTNSBin(t,e){const n=new Uint32Array(this.witnessSize*this.n32+this.n32+11),a=new Uint8Array(n.buffer);await this._doCalculateWitness(t,e),a[0]=119,a[1]=116,a[2]=110,a[3]=115,n[1]=2,n[2]=2,n[3]=1;const i=this.n32*4,o=(8+i).toString(16);n[4]=parseInt(o.slice(0,8),16),n[5]=parseInt(o.slice(8,16),16),n[6]=i,this.instance.exports.getRawPrime();let f=7;for(let h=0;h<this.n32;h++)n[f+h]=this.instance.exports.readSharedRWMemory(h);f+=this.n32,n[f]=this.witnessSize,f++,n[f]=2,f++;const c=(i*this.witnessSize).toString(16);n[f]=parseInt(c.slice(0,8),16),n[f+1]=parseInt(c.slice(8,16),16),f+=2;for(let h=0;h<this.witnessSize;h++){this.instance.exports.getWitness(h);for(let m=0;m<this.n32;m++)n[f+m]=this.instance.exports.readSharedRWMemory(m);f+=this.n32}return a}}const{unstringifyBigInts:OP}=We;async function RP(s,t,e,n){const a=OP(s),i=await ay(t),r=await i.read(i.totalSize);await i.close();const o=await TP(r,n);if(o.circom_version()===1){const f=await o.calculateBinWitness(a),l=await dP(e,"wtns",2,2);await AP(l,f,o.prime),await l.close()}else{const f=await sy(e),l=await o.calculateWTNSBin(a);await f.write(l),await f.close()}}const{unstringifyBigInts:FP}=We;async function NP(s,t,e,n,a,i){const r=FP(s),o={type:"mem"};return await RP(r,t,o,a),await ry(e,o,n,i)}const{unstringifyBigInts:Su}=We;async function kP(s,t,e,n){const a=Su(s),i=Su(e),r=Su(t),o=await pP(a.curve),f=o.G1.fromObject(a.IC[0]),l=new Uint8Array(o.G1.F.n8*2*r.length),c=new Uint8Array(o.Fr.n8*r.length);if(!DP(o,r))return n&&n.error("Public inputs are not valid."),!1;for(let S=0;S<r.length;S++){const D=o.G1.fromObject(a.IC[S+1]);l.set(D,S*o.G1.F.n8*2),he.toRprLE(c,o.Fr.n8*S,r[S],o.Fr.n8)}let h=await o.G1.multiExpAffine(l,c);h=o.G1.add(h,f);const m=o.G1.fromObject(i.pi_a),p=o.G2.fromObject(i.pi_b),C=o.G1.fromObject(i.pi_c);if(!UP(o,{pi_a:m,pi_b:p,pi_c:C}))return n&&n.error("Proof commitments are not valid."),!1;const A=o.G2.fromObject(a.vk_gamma_2),w=o.G2.fromObject(a.vk_delta_2),I=o.G1.fromObject(a.vk_alpha_1),v=o.G2.fromObject(a.vk_beta_2);return await o.pairingEq(o.G1.neg(m),p,h,A,C,w,I,v)?(n&&n.info("OK!"),!0):(n&&n.error("Invalid proof"),!1)}function UP(s,t){const e=s.G1,n=s.G2;return e.isValid(t.pi_a)&&n.isValid(t.pi_b)&&e.isValid(t.pi_c)}function MP(s,t){return he.geq(t,0)&&he.lt(t,s.r)}function DP(s,t){for(let e=0;e<t.length;e++)if(!MP(s,t[e]))return!1;return!0}const{unstringifyBigInts:C8}=We;function Js(s){let t=s.toString(16);for(;t.length<64;)t="0"+t;return t=`"0x${t}"`,t}async function zP(s,t){const e=C8(s),n=C8(t);let a="";for(let r=0;r<n.length;r++)a!=""&&(a=a+","),a=a+Js(n[r]);let i;return i=`[${Js(e.pi_a[0])}, ${Js(e.pi_a[1])}],[[${Js(e.pi_b[0][1])}, ${Js(e.pi_b[0][0])}],[${Js(e.pi_b[1][1])}, ${Js(e.pi_b[1][0])}]],[${Js(e.pi_c[0])}, ${Js(e.pi_c[1])}],[${a}]`,i}var v8=Object.freeze({__proto__:null,fullProve:NP,prove:ry,verify:kP,exportSolidityCallData:zP});he.e("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16);he.e("21888242871839275222246405745257275088548364400416034343698204186575808495617");const{unstringifyBigInts:vT}=We,{stringifyBigInts:PT}=We,{unstringifyBigInts:IT,stringifyBigInts:TT}=We,{stringifyBigInts:BT}=We,{unstringifyBigInts:ST}=We,{unstringifyBigInts:OT}=We,{unstringifyBigInts:RT}=We,{stringifyBigInts:FT}=We,{unstringifyBigInts:NT}=We,{unstringifyBigInts:kT}=We,{unstringifyBigInts:UT}=We,qP={version:"1.2",title:{default:""},description:{default:""},media:{header:"",logo:""},meta:{},questions:[{title:{default:""},description:{default:""},meta:{},choices:[{title:{default:"Yes"},value:0,meta:{}},{title:{default:"No"},value:1,meta:{}}]}],type:{name:"single-choice-multiquestion",properties:{}}},VP=()=>JSON.parse(JSON.stringify(qP));class ly{constructor(t,e){this.axios=Ae.create({baseURL:t,...e})}async request(t){var e,n,a,i,r;try{return(await this.axios.request(t)).data}catch(o){const f=o,l=((n=(e=f.response)==null?void 0:e.data)==null?void 0:n.error)||f.message,c=((i=(a=f.response)==null?void 0:a.data)==null?void 0:i.code)||f.code||((r=f.response)==null?void 0:r.status)||500,h=new Error(l);throw h.code=c,h}}}function Li(s){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s)}class GP extends ly{constructor(t){super(t)}getCensusUri(t){return`${this.axios.defaults.baseURL}${t}`}createCensus(){return this.request({method:"POST",url:"/censuses"}).then(t=>t.census)}async addParticipants(t,e){if(!Li(t))throw new Error("Invalid census ID format");await this.request({method:"POST",url:`/censuses/${t}/participants`,data:{participants:e}})}getParticipants(t){if(!Li(t))throw new Error("Invalid census ID format");return this.request({method:"GET",url:`/censuses/${t}/participants`}).then(e=>e.participants)}getCensusRoot(t){if(!Li(t))throw new Error("Invalid census ID format");return this.request({method:"GET",url:`/censuses/${t}/root`}).then(e=>e.root)}getCensusSizeById(t){if(!Li(t))throw new Error("Invalid census ID format");return this.request({method:"GET",url:`/censuses/${t}/size`}).then(e=>e.size)}getCensusSizeByRoot(t){return this.request({method:"GET",url:`/censuses/${t}/size`}).then(e=>e.size)}getCensusSize(t){return Li(t)?this.getCensusSizeById(t):this.getCensusSizeByRoot(t)}async deleteCensus(t){if(!Li(t))throw new Error("Invalid census ID format");await this.request({method:"DELETE",url:`/censuses/${t}`})}getCensusProof(t,e){return this.request({method:"GET",url:`/censuses/${t}/proof`,params:{key:e}})}publishCensus(t){if(!Li(t))throw new Error("Invalid census ID format");return this.request({method:"POST",url:`/censuses/${t}/publish`}).then(e=>{const{censusUri:n,...a}=e;return{...a,uri:this.getCensusUri(n)}})}getSnapshots(t){return this.request({method:"GET",url:"/snapshots",params:t})}getLatestSnapshot(){return this.request({method:"GET",url:"/snapshots/latest"})}getHealth(){return this.request({method:"GET",url:"/health"})}}var fs=(s=>(s[s.OffchainStatic=1]="OffchainStatic",s[s.OffchainDynamic=2]="OffchainDynamic",s[s.Onchain=3]="Onchain",s[s.CSP=4]="CSP",s))(fs||{});function fy(s){return!!s&&typeof s.root=="string"&&typeof s.address=="string"&&typeof s.censusOrigin=="number"&&Object.values(fs).includes(s.censusOrigin)}function HP(s){return fy(s)&&(s.censusOrigin===1||s.censusOrigin===2||s.censusOrigin===3)&&typeof s.weight=="string"&&typeof s.value=="string"&&typeof s.siblings=="string"}function jP(s){return fy(s)&&s.censusOrigin===4&&typeof s.weight=="string"&&typeof s.processId=="string"&&typeof s.publicKey=="string"&&typeof s.signature=="string"}function KP(s){if(!HP(s))throw new Error("Invalid Merkle census proof payload")}function $P(s){if(!jP(s))throw new Error("Invalid CSP census proof payload")}class QP{constructor(t){this._censusId=null,this._censusRoot=null,this._censusURI=null,this._censusOrigin=t}get censusId(){return this._censusId}get censusRoot(){return this._censusRoot}get censusURI(){return this._censusURI}get isPublished(){return this._censusRoot!==null&&this._censusURI!==null}get censusOrigin(){return this._censusOrigin}get requiresPublishing(){return this._censusOrigin===fs.OffchainStatic||this._censusOrigin===fs.OffchainDynamic}}class JP extends QP{constructor(t,e){if(super(fs.Onchain),!/^(0x)?[0-9a-fA-F]{40}$/i.test(t))throw new Error("Contract address is missing or invalid");if(!e||e.trim()==="")throw new Error("URI is required for onchain census");this._contractAddress=t,this._censusRoot="0x0000000000000000000000000000000000000000000000000000000000000000",this._censusURI=e}get contractAddress(){return this._contractAddress}}class WP{constructor(t){this.censusService=t}async publish(t){if(t.isPublished)throw new Error("Census is already published");if(t.participants.length===0)throw new Error("Cannot publish empty census");const e=await this.censusService.createCensus();await this.censusService.addParticipants(e,t.participants);const n=await this.censusService.publishCensus(e);t._setPublishedData(n.root,n.uri,e)}getCensusData(t){if(t.requiresPublishing&&!t.isPublished)throw new Error("Merkle census must be published before creating a process");if(!t.censusRoot||!t.censusURI)throw new Error("Census data is incomplete");const e="contractAddress"in t?t.contractAddress:void 0;return{type:t.censusOrigin,root:t.censusRoot,uri:t.censusURI,contractAddress:e}}}function ZP(s){return`I am creating a new voting process for the davinci.vote protocol identified with id ${s.replace(/^0x/,"").toLowerCase()}`}async function XP(s,t){const e=ZP(s);return await t.signMessage(e)}function YP(s){const t=s.replace(/^0x/,"");return/^[0-9a-fA-F]{64}$/.test(t)}function P8(s){return/^0x[0-9a-f]{64}$/i.test(s)}class tI extends ly{constructor(t){super(t)}async ping(){await this.request({method:"GET",url:"/ping"})}createProcess(t){if(!YP(t.processId))throw new Error("Invalid processId format. Must be a 64-character hex string (32 bytes)");return this.request({method:"POST",url:"/processes",data:t})}getProcess(t){return this.request({method:"GET",url:`/processes/${t}`})}listProcesses(){return this.request({method:"GET",url:"/processes"}).then(t=>t.processes)}async submitVote(t){await this.request({method:"POST",url:"/votes",data:t})}getVoteStatus(t,e){return this.request({method:"GET",url:`/votes/${t}/voteId/${e}`})}async hasAddressVoted(t,e){try{return await this.request({method:"GET",url:`/votes/${t}/address/${e}`}),!0}catch(n){if((n==null?void 0:n.code)===40001)return!1;throw n}}async getAddressWeight(t,e){return(await this.request({method:"GET",url:`/processes/${t}/participants/${e}`})).weight}async isAddressAbleToVote(t,e){try{return await this.request({method:"GET",url:`/processes/${t}/participants/${e}`}),!0}catch(n){if((n==null?void 0:n.code)===40001)return!1;throw n}}getInfo(){return this.request({method:"GET",url:"/info"})}pushMetadata(t){return this.request({method:"POST",url:"/metadata",data:t}).then(e=>e.hash)}async getMetadata(t){if(t.startsWith("http://")||t.startsWith("https://"))try{const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch metadata from URL: ${e.status} ${e.statusText}`);return await e.json()}catch(e){throw new Error(`Failed to fetch metadata from URL: ${e instanceof Error?e.message:"Unknown error"}`)}if(!P8(t))throw new Error("Invalid metadata hash format");return this.request({method:"GET",url:`/metadata/${t}`})}getMetadataUrl(t){if(!P8(t))throw new Error("Invalid metadata hash format");return`${this.axios.defaults.baseURL}/metadata/${t}`}getStats(){return this.request({method:"GET",url:"/sequencer/stats"})}getWorkers(){return this.request({method:"GET",url:"/sequencer/workers"})}}class eI{constructor(t){this.sequencer=new tI(t.sequencerURL),this.census=new GP(t.censusURL)}}var Ut=(s=>(s.Pending="pending",s.Completed="completed",s.Reverted="reverted",s.Failed="failed",s))(Ut||{});class dy{constructor(){this.pollingIntervals=[],this.eventPollingInterval=5e3}async*sendTx(t,e){try{const n=await t;yield{status:"pending",hash:n.hash};const a=await n.wait();a?a.status===0?yield{status:"reverted",reason:"Transaction reverted."}:yield{status:"completed",response:await e()}:yield{status:"reverted",reason:"Transaction was dropped or not mined."}}catch(n){yield{status:"failed",error:n instanceof Error?n:new Error("Unknown transaction error")}}}static async executeTx(t){for await(const e of t)switch(e.status){case"completed":return e.response;case"failed":throw e.error;case"reverted":throw new Error(`Transaction reverted: ${e.reason||"unknown reason"}`)}throw new Error("Transaction stream ended unexpectedly")}normalizeListener(t){return(...e)=>{var a;let n;e.length===1&&((a=e[0])!=null&&a.args)?n=e[0].args:n=e,t(...n)}}async setupEventListener(t,e,n){var r;const a=this.normalizeListener(n),i=(r=t.runner)==null?void 0:r.provider;if(!i){console.warn("No provider available for event listeners");return}try{const o={address:await t.getAddress(),topics:[]};if("send"in i&&typeof i.send=="function")try{const l=await i.send("eth_newFilter",[o]);await i.send("eth_getFilterChanges",[l]),t.on(e,a);return}catch(l){if(this.isUnsupportedMethodError(l)){console.warn("RPC does not fully support eth_newFilter/eth_getFilterChanges, falling back to polling for events. This may result in delayed event notifications."),this.setupPollingListener(t,e,n);return}}const f=l=>{this.isUnsupportedMethodError(l)&&(t.off(e,a),t.off("error",f),console.warn("RPC does not support eth_newFilter, falling back to polling for events. This may result in delayed event notifications."),this.setupPollingListener(t,e,n))};t.once("error",f),t.on(e,a)}catch(o){console.warn("Error setting up event listener, falling back to polling:",o.message),this.setupPollingListener(t,e,n)}}isUnsupportedMethodError(t){var a,i,r,o,f,l,c;const e=(t==null?void 0:t.code)===-32601||((a=t==null?void 0:t.error)==null?void 0:a.code)===-32601||((i=t==null?void 0:t.data)==null?void 0:i.code)===-32601||typeof(t==null?void 0:t.message)=="string"&&t.message.includes("unsupported method"),n=((t==null?void 0:t.code)===-32e3||((r=t==null?void 0:t.error)==null?void 0:r.code)===-32e3||(t==null?void 0:t.code)==="UNKNOWN_ERROR"&&((o=t==null?void 0:t.error)==null?void 0:o.code)===-32e3)&&(((f=t==null?void 0:t.message)==null?void 0:f.includes("filter not found"))||((c=(l=t==null?void 0:t.error)==null?void 0:l.message)==null?void 0:c.includes("filter not found")));return e||n}setupPollingListener(t,e,n){let a=0;const i=async()=>{var o;try{const f=(o=t.runner)==null?void 0:o.provider;if(!f){console.warn("No provider available for polling events");return}const l=await f.getBlockNumber();if(a===0&&(a=l-1),l>a){const c=await t.queryFilter(e,a+1,l);for(const h of c)"args"in h&&h.args&&n(...h.args);a=l}}catch(f){console.error("Error polling for events:",f)}},r=setInterval(i,this.eventPollingInterval);this.pollingIntervals.push(r),i()}clearPollingIntervals(){for(const t of this.pollingIntervals)clearInterval(t);this.pollingIntervals=[]}setEventPollingInterval(t){this.eventPollingInterval=t}}class Ks extends Error{constructor(t,e){super(t),this.operation=e,this.name=this.constructor.name}}class nI extends Ks{}class sI extends Ks{}class aI extends Ks{}class I8 extends Ks{}class iI extends Ks{}class rI extends Ks{}class oI extends Ks{}class T8 extends Ks{}class cI extends Ks{}class lI extends Ks{}var jr=(s=>(s[s.READY=0]="READY",s[s.ENDED=1]="ENDED",s[s.CANCELED=2]="CANCELED",s[s.PAUSED=3]="PAUSED",s[s.RESULTS=4]="RESULTS",s))(jr||{});class B8 extends dy{constructor(t,e){super(),this.contract=x6.ProcessRegistry__factory.connect(t,e)}async getProcess(t){return this.contract.getProcess(t)}async getProcessCount(){const t=await this.contract.processCount();return Number(t)}async getChainID(){return(await this.contract.chainID()).toString()}async getNextProcessId(t){return this.contract.getNextProcessId(t)}async getProcessEndTime(t){return this.contract.getProcessEndTime(t)}async getRVerifierVKeyHash(){return this.contract.getRVerifierVKeyHash()}async getSTVerifierVKeyHash(){return this.contract.getSTVerifierVKeyHash()}async getMaxCensusOrigin(){return this.contract.MAX_CENSUS_ORIGIN()}async getMaxStatus(){return this.contract.MAX_STATUS()}async getProcessNonce(t){return this.contract.processNonce(t)}async getProcessDirect(t){return this.contract.processes(t)}async getRVerifier(){return this.contract.rVerifier()}async getSTVerifier(){return this.contract.stVerifier()}newProcess(t,e,n,a,i,r,o,f,l){const c={censusOrigin:BigInt(r.censusOrigin),censusRoot:r.censusRoot,contractAddress:r.contractAddress??"0x0000000000000000000000000000000000000000",censusURI:r.censusURI,onchainAllowAnyValidRoot:r.onchainAllowAnyValidRoot??!1};return this.sendTx(this.contract.newProcess(t,e,n,a,i,c,o,f,l).catch(h=>{throw new iI(h.message,"create")}),async()=>({success:!0}))}setProcessStatus(t,e){return this.sendTx(this.contract.setProcessStatus(t,e).catch(n=>{throw new rI(n.message,"setStatus")}),async()=>({success:!0}))}setProcessCensus(t,e){const n={censusOrigin:BigInt(e.censusOrigin),censusRoot:e.censusRoot,contractAddress:e.contractAddress??"0x0000000000000000000000000000000000000000",censusURI:e.censusURI,onchainAllowAnyValidRoot:e.onchainAllowAnyValidRoot??!1};return this.sendTx(this.contract.setProcessCensus(t,n).catch(a=>{throw new oI(a.message,"setCensus")}),async()=>({success:!0}))}setProcessDuration(t,e){return this.sendTx(this.contract.setProcessDuration(t,e).catch(n=>{throw new T8(n.message,"setDuration")}),async()=>({success:!0}))}setProcessMaxVoters(t,e){return this.sendTx(this.contract.setProcessMaxVoters(t,e).catch(n=>{throw new T8(n.message,"setMaxVoters")}),async()=>({success:!0}))}submitStateTransition(t,e,n){return this.sendTx(this.contract.submitStateTransition(t,e,n).catch(a=>{throw new cI(a.message,"submitStateTransition")}),async()=>({success:!0}))}setProcessResults(t,e,n){return this.sendTx(this.contract.setProcessResults(t,e,n).catch(a=>{throw new lI(a.message,"setResults")}),async()=>({success:!0}))}onProcessCreated(t){this.setupEventListener(this.contract,this.contract.filters.ProcessCreated(),t).catch(e=>console.error("Error setting up ProcessCreated listener:",e))}onProcessStatusChanged(t){this.setupEventListener(this.contract,this.contract.filters.ProcessStatusChanged(),t).catch(e=>console.error("Error setting up ProcessStatusChanged listener:",e))}onCensusUpdated(t){this.setupEventListener(this.contract,this.contract.filters.CensusUpdated(),t).catch(e=>console.error("Error setting up CensusUpdated listener:",e))}onProcessDurationChanged(t){this.setupEventListener(this.contract,this.contract.filters.ProcessDurationChanged(),t).catch(e=>console.error("Error setting up ProcessDurationChanged listener:",e))}onStateTransitioned(t){this.setupEventListener(this.contract,this.contract.filters.ProcessStateTransitioned(),t).catch(e=>console.error("Error setting up ProcessStateTransitioned listener:",e))}onProcessResultsSet(t){this.setupEventListener(this.contract,this.contract.filters.ProcessResultsSet(),t).catch(e=>console.error("Error setting up ProcessResultsSet listener:",e))}onProcessMaxVotersChanged(t){this.setupEventListener(this.contract,this.contract.filters.ProcessMaxVotersChanged(),t).catch(e=>console.error("Error setting up ProcessMaxVotersChanged listener:",e))}removeAllListeners(){this.contract.removeAllListeners(),this.clearPollingIntervals()}}class fI{constructor(t,e,n,a,i){this.processRegistry=t,this.apiService=e,this.organizationRegistry=n,this.getCrypto=a,this.signer=i,this.censusOrchestrator=new WP(e.census)}async handleCensus(t){var a,i,r;if("isPublished"in t){if(t.requiresPublishing&&!t.isPublished){const o=(r=(i=(a=this.apiService.census)==null?void 0:a.axios)==null?void 0:i.defaults)==null?void 0:r.baseURL;if(!o||o===""||o==="undefined")throw new Error('Census API URL is required to publish Merkle censuses (OffchainCensus, OffchainDynamicCensus). Please provide "censusUrl" when initializing DavinciSDK, or use a pre-published census.');await this.censusOrchestrator.publish(t)}return this.censusOrchestrator.getCensusData(t)}const{size:e,...n}=t;return n}async getProcess(t){var C,A;const e=await this.processRegistry.getProcess(t);let n=null,a,i,r=[];try{e.metadataURI&&(n=await this.apiService.sequencer.getMetadata(e.metadataURI),a=(C=n==null?void 0:n.title)==null?void 0:C.default,i=(A=n==null?void 0:n.description)==null?void 0:A.default,n!=null&&n.questions&&(r=n.questions.map(w=>{var I,v,F;return{title:(I=w.title)==null?void 0:I.default,description:(v=w.description)==null?void 0:v.default,choices:((F=w.choices)==null?void 0:F.map(S=>{var D;return{title:(D=S.title)==null?void 0:D.default,value:S.value}}))||[]}})))}catch(w){console.warn(`Failed to fetch metadata for process ${t}:`,w)}const o=Math.floor(Date.now()/1e3),f=Number(e.startTime),l=Number(e.duration),c=f+l,h=o>=c?0:o>=f?c-o:f-o,m={type:Number(e.census.censusOrigin),root:e.census.censusRoot,uri:e.census.censusURI||""},p={numFields:Number(e.ballotMode.numFields),maxValue:e.ballotMode.maxValue.toString(),minValue:e.ballotMode.minValue.toString(),uniqueValues:e.ballotMode.uniqueValues,costFromWeight:e.ballotMode.costFromWeight,costExponent:Number(e.ballotMode.costExponent),maxValueSum:e.ballotMode.maxValueSum.toString(),minValueSum:e.ballotMode.minValueSum.toString()};return{processId:t,title:a||"",description:i,census:m,ballot:p,questions:r||[],status:Number(e.status),creator:e.organizationId,startDate:new Date(f*1e3),endDate:new Date(c*1e3),duration:l,timeRemaining:h,maxVoters:Number(e.maxVoters),result:e.result,votersCount:Number(e.votersCount),overwrittenVotesCount:Number(e.overwrittenVotesCount),metadataURI:e.metadataURI,raw:e}}async*createProcessStream(t){const e=await this.prepareProcessCreation(t),n={x:e.sequencerResult.encryptionPubKey[0],y:e.sequencerResult.encryptionPubKey[1]},a=this.processRegistry.newProcess(jr.READY,e.startTime,e.duration,e.maxVoters,e.ballotMode,e.census,e.metadataUri,n,BigInt(e.sequencerResult.stateRoot));let i="unknown";for await(const r of a)if(r.status===Ut.Pending)i=r.hash,yield{status:Ut.Pending,hash:r.hash};else if(r.status===Ut.Completed){yield{status:Ut.Completed,response:{processId:e.processId,transactionHash:i}};break}else if(r.status===Ut.Failed){yield{status:Ut.Failed,error:r.error};break}else if(r.status===Ut.Reverted){yield{status:Ut.Reverted,reason:r.reason};break}}async createProcess(t){for await(const e of this.createProcessStream(t)){if(e.status==="completed")return e.response;if(e.status==="failed")throw e.error;if(e.status==="reverted")throw new Error(`Transaction reverted: ${e.reason||"unknown reason"}`)}throw new Error("Process creation stream ended unexpectedly")}async prepareProcessCreation(t){const{startTime:e,duration:n}=this.calculateTiming(t.timing),a=await this.signer.getAddress(),i=await this.processRegistry.getNextProcessId(a),r=await this.handleCensus(t.census),o=r.root,f=t.ballot;let l;if("metadataUri"in t)l=t.metadataUri;else{const C=this.createMetadata(t),A=await this.apiService.sequencer.pushMetadata(C);l=this.apiService.sequencer.getMetadataUrl(A)}const c=await XP(i,this.signer),h=await this.apiService.sequencer.createProcess({processId:i,census:{censusOrigin:r.type,censusRoot:o,censusURI:r.uri},ballotMode:f,signature:c});let m;if(t.maxVoters!==void 0)m=t.maxVoters;else if("isPublished"in t.census&&t.census.isPublished)if("participants"in t.census)m=t.census.participants.length;else throw new Error("maxVoters is required when using OnchainCensus, CspCensus, or PublishedCensus. It can only be auto-calculated for published MerkleCensus (OffchainCensus/OffchainDynamicCensus).");else throw new Error("maxVoters is required. It can only be omitted when using a published MerkleCensus (OffchainCensus/OffchainDynamicCensus), in which case it defaults to the participant count.");const p={censusOrigin:r.type,censusRoot:o,contractAddress:r.contractAddress,censusURI:r.uri,onchainAllowAnyValidRoot:r.type===fs.Onchain};return{processId:i,startTime:e,duration:n,maxVoters:m,censusRoot:o,ballotMode:f,metadataUri:l,sequencerResult:h,census:p}}calculateTiming(t){const{startDate:e,duration:n,endDate:a}=t;if(n!==void 0&&a!==void 0)throw new Error("Cannot specify both 'duration' and 'endDate'. Use one or the other.");if(n===void 0&&a===void 0)throw new Error("Must specify either 'duration' (in seconds) or 'endDate'.");const i=e?this.dateToUnixTimestamp(e):Math.floor(Date.now()/1e3)+60;let r;if(n!==void 0)r=n;else if(r=this.dateToUnixTimestamp(a)-i,r<=0)throw new Error("End date must be after start date.");const o=Math.floor(Date.now()/1e3);if(i<o-30)throw new Error("Start date cannot be in the past.");return{startTime:i,duration:r}}dateToUnixTimestamp(t){if(typeof t=="number")return t>1e10?Math.floor(t/1e3):Math.floor(t);if(typeof t=="string"){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string: ${t}`);return Math.floor(e.getTime()/1e3)}if(t instanceof Date){if(isNaN(t.getTime()))throw new Error("Invalid Date object provided.");return Math.floor(t.getTime()/1e3)}throw new Error("Invalid date format. Use Date object, ISO string, or Unix timestamp.")}createMetadata(t){const e=VP();return e.title.default=t.title,e.description.default=t.description||"",e.questions=t.questions.map(n=>({title:{default:n.title},description:{default:n.description||""},meta:{},choices:n.choices.map(a=>({title:{default:a.title},value:a.value,meta:{}}))})),e}async*endProcessStream(t){const e=this.processRegistry.setProcessStatus(t,jr.ENDED);for await(const n of e)if(n.status===Ut.Pending)yield{status:Ut.Pending,hash:n.hash};else if(n.status===Ut.Completed){yield{status:Ut.Completed,response:{success:!0}};break}else if(n.status===Ut.Failed){yield{status:Ut.Failed,error:n.error};break}else if(n.status===Ut.Reverted){yield{status:Ut.Reverted,reason:n.reason};break}}async endProcess(t){for await(const e of this.endProcessStream(t)){if(e.status==="completed")return;if(e.status==="failed")throw e.error;if(e.status==="reverted")throw new Error(`Transaction reverted: ${e.reason||"unknown reason"}`)}throw new Error("End process stream ended unexpectedly")}async*pauseProcessStream(t){const e=this.processRegistry.setProcessStatus(t,jr.PAUSED);for await(const n of e)if(n.status===Ut.Pending)yield{status:Ut.Pending,hash:n.hash};else if(n.status===Ut.Completed){yield{status:Ut.Completed,response:{success:!0}};break}else if(n.status===Ut.Failed){yield{status:Ut.Failed,error:n.error};break}else if(n.status===Ut.Reverted){yield{status:Ut.Reverted,reason:n.reason};break}}async pauseProcess(t){for await(const e of this.pauseProcessStream(t)){if(e.status==="completed")return;if(e.status==="failed")throw e.error;if(e.status==="reverted")throw new Error(`Transaction reverted: ${e.reason||"unknown reason"}`)}throw new Error("Pause process stream ended unexpectedly")}async*cancelProcessStream(t){const e=this.processRegistry.setProcessStatus(t,jr.CANCELED);for await(const n of e)if(n.status===Ut.Pending)yield{status:Ut.Pending,hash:n.hash};else if(n.status===Ut.Completed){yield{status:Ut.Completed,response:{success:!0}};break}else if(n.status===Ut.Failed){yield{status:Ut.Failed,error:n.error};break}else if(n.status===Ut.Reverted){yield{status:Ut.Reverted,reason:n.reason};break}}async cancelProcess(t){for await(const e of this.cancelProcessStream(t)){if(e.status==="completed")return;if(e.status==="failed")throw e.error;if(e.status==="reverted")throw new Error(`Transaction reverted: ${e.reason||"unknown reason"}`)}throw new Error("Cancel process stream ended unexpectedly")}async*resumeProcessStream(t){const e=this.processRegistry.setProcessStatus(t,jr.READY);for await(const n of e)if(n.status===Ut.Pending)yield{status:Ut.Pending,hash:n.hash};else if(n.status===Ut.Completed){yield{status:Ut.Completed,response:{success:!0}};break}else if(n.status===Ut.Failed){yield{status:Ut.Failed,error:n.error};break}else if(n.status===Ut.Reverted){yield{status:Ut.Reverted,reason:n.reason};break}}async resumeProcess(t){for await(const e of this.resumeProcessStream(t)){if(e.status==="completed")return;if(e.status==="failed")throw e.error;if(e.status==="reverted")throw new Error(`Transaction reverted: ${e.reason||"unknown reason"}`)}throw new Error("Resume process stream ended unexpectedly")}async*setProcessMaxVotersStream(t,e){const n=this.processRegistry.setProcessMaxVoters(t,e);for await(const a of n)if(a.status===Ut.Pending)yield{status:Ut.Pending,hash:a.hash};else if(a.status===Ut.Completed){yield{status:Ut.Completed,response:{success:!0}};break}else if(a.status===Ut.Failed){yield{status:Ut.Failed,error:a.error};break}else if(a.status===Ut.Reverted){yield{status:Ut.Reverted,reason:a.reason};break}}async setProcessMaxVoters(t,e){for await(const n of this.setProcessMaxVotersStream(t,e)){if(n.status==="completed")return;if(n.status==="failed")throw n.error;if(n.status==="reverted")throw new Error(`Transaction reverted: ${n.reason||"unknown reason"}`)}throw new Error("Set process maxVoters stream ended unexpectedly")}}class dI{constructor(t={}){this.wasmCache=new Map,this.zkeyCache=new Map,this.vkeyCache=new Map,this.wasmUrl=t.wasmUrl,this.zkeyUrl=t.zkeyUrl,this.vkeyUrl=t.vkeyUrl,this.wasmHash=t.wasmHash,this.zkeyHash=t.zkeyHash,this.vkeyHash=t.vkeyHash}verifyHash(t,e,n){let a;typeof t=="string"?a=new TextEncoder().encode(t):t instanceof ArrayBuffer?a=new Uint8Array(t):a=t;const i=Ue(a).slice(2);if(i.toLowerCase()!==e.toLowerCase())throw new Error(`Hash verification failed for ${n}. Expected: ${e.toLowerCase()}, Computed: ${i.toLowerCase()}`)}async generate(t,e={}){const n=e.wasmUrl??this.wasmUrl,a=e.zkeyUrl??this.zkeyUrl;if(!n)throw new Error("`wasmUrl` is required to generate a proof");if(!a)throw new Error("`zkeyUrl` is required to generate a proof");let i=this.wasmCache.get(n);if(!i){const l=await fetch(n);if(!l.ok)throw new Error(`Failed to fetch wasm at ${n}: ${l.status}`);const c=await l.arrayBuffer();i=new Uint8Array(c),this.wasmHash&&this.verifyHash(i,this.wasmHash,"circuit.wasm"),this.wasmCache.set(n,i)}let r=this.zkeyCache.get(a);if(!r){const l=await fetch(a);if(!l.ok)throw new Error(`Failed to fetch zkey at ${a}: ${l.status}`);const c=await l.arrayBuffer();r=new Uint8Array(c),this.zkeyHash&&this.verifyHash(r,this.zkeyHash,"proving_key.zkey"),this.zkeyCache.set(a,r)}const{proof:o,publicSignals:f}=await v8.fullProve(t,i,r);return{proof:o,publicSignals:f}}async verify(t,e,n){const a=n??this.vkeyUrl;if(!a)throw new Error("`vkeyUrl` is required to verify a proof");let i=this.vkeyCache.get(a);if(!i){const r=await fetch(a);if(!r.ok)throw new Error(`Failed to fetch vkey at ${a}: ${r.status}`);const o=await r.text();this.vkeyHash&&this.verifyHash(o,this.vkeyHash,"verification_key.json"),i=JSON.parse(o),this.vkeyCache.set(a,i)}return v8.verify(i,e,t)}}var _0=(s=>(s.Pending="pending",s.Verified="verified",s.Aggregated="aggregated",s.Processed="processed",s.Settled="settled",s.Error="error",s))(_0||{});class uI{constructor(t,e,n,a={},i={}){this.apiService=t,this.getCrypto=e,this.signer=n,this.censusProviders=a,this.verifyCircuitFiles=i.verifyCircuitFiles??!0,this.verifyProof=i.verifyProof??!0}async submitVote(t){const e=await this.apiService.sequencer.getProcess(t.processId);if(!e.isAcceptingVotes)throw new Error("Process is not currently accepting votes");const n=await this.signer.getAddress(),a=await this.getCensusProof(e.census.censusOrigin,e.census.censusRoot,n,t.processId),{voteId:i,cryptoOutput:r,circomInputs:o}=await this.generateVoteProofInputs(t.processId,n,e.encryptionKey,e.ballotMode,t.choices,a.weight,t.randomness),{proof:f}=await this.generateZkProof(o),l=await this.signVote(i),c={processId:t.processId,ballot:r.ballot,ballotProof:f,ballotInputsHash:r.ballotInputsHash,address:n,signature:l,voteId:i};e.census.censusOrigin===fs.CSP&&(c.censusProof=a),await this.submitVoteRequest(c);const h=await this.apiService.sequencer.getVoteStatus(t.processId,i);return{voteId:i,signature:l,voterAddress:n,processId:t.processId,status:h.status}}async getVoteStatus(t,e){const n=await this.apiService.sequencer.getVoteStatus(t,e);return{voteId:e,status:n.status,processId:t}}async hasAddressVoted(t,e){return this.apiService.sequencer.hasAddressVoted(t,e)}async*watchVoteStatus(t,e,n){const a=(n==null?void 0:n.targetStatus)??_0.Settled,i=(n==null?void 0:n.timeoutMs)??3e5,r=(n==null?void 0:n.pollIntervalMs)??5e3,o=Date.now();let f=null;for(;Date.now()-o<i;){const l=await this.getVoteStatus(t,e);if(l.status!==f&&(f=l.status,yield l,l.status===a||l.status===_0.Error))return;await new Promise(c=>setTimeout(c,r))}throw new Error(`Vote did not reach status ${a} within ${i}ms`)}async waitForVoteStatus(t,e,n=_0.Settled,a=3e5,i=5e3){let r=null;for await(const o of this.watchVoteStatus(t,e,{targetStatus:n,timeoutMs:a,pollIntervalMs:i}))r=o;if(!r)throw new Error(`Vote did not reach status ${n} within ${a}ms`);return r}async getCensusProof(t,e,n,a){if(t===fs.OffchainStatic||t===fs.OffchainDynamic||t===fs.Onchain)if(this.censusProviders.merkle){const i=await this.censusProviders.merkle({censusRoot:e,address:n});return KP(i),i}else{const i=await this.apiService.sequencer.getAddressWeight(a,n);return{root:e,address:n,weight:i,censusOrigin:t,value:"",siblings:""}}if(t===fs.CSP){if(!this.censusProviders.csp)throw new Error("CSP voting requires a CSP census proof provider. Pass one via VoteOrchestrationService(..., { csp: yourFn }).");const i=await this.censusProviders.csp({processId:a,address:n});return $P(i),i}throw new Error(`Unsupported census origin: ${t}`)}async generateVoteProofInputs(t,e,n,a,i,r,o){const f=await this.getCrypto();this.validateChoices(i,a);const l=i.map(m=>m.toString()),c={address:e.replace(/^0x/,""),processID:t.replace(/^0x/,""),encryptionKey:[n.x,n.y],ballotMode:a,weight:r,fieldValues:l};if(o){const m=o.startsWith("0x")?o:"0x"+o,p=BigInt(m).toString();c.k=p}const h=await f.proofInputs(c);return{voteId:h.voteId,cryptoOutput:h,circomInputs:h.circomInputs}}validateChoices(t,e){const n=parseInt(e.maxValue),a=parseInt(e.minValue);for(let i=0;i<t.length;i++){const r=t[i];if(r<a||r>n)throw new Error(`Choice ${r} is out of range [${a}, ${n}]`)}}async generateZkProof(t){const e=await this.apiService.sequencer.getInfo(),n=new dI({wasmUrl:e.circuitUrl,zkeyUrl:e.provingKeyUrl,vkeyUrl:e.verificationKeyUrl,...this.verifyCircuitFiles&&{wasmHash:e.circuitHash,zkeyHash:e.provingKeyHash,vkeyHash:e.verificationKeyHash}}),{proof:a,publicSignals:i}=await n.generate(t);if(this.verifyProof&&!await n.verify(a,i))throw new Error("Generated proof is invalid");return{proof:a,publicSignals:i}}hexToBytes(t){const e=t.replace(/^0x/,"");if(e.length%2)throw new Error("Invalid hex length");const n=new Uint8Array(e.length/2);for(let a=0;a<n.length;a++)n[a]=parseInt(e.substr(a*2,2),16);return n}async signVote(t){return this.signer.signMessage(this.hexToBytes(t))}async submitVoteRequest(t){const e={pi_a:t.ballotProof.pi_a,pi_b:t.ballotProof.pi_b,pi_c:t.ballotProof.pi_c,protocol:t.ballotProof.protocol},n={...t,ballotProof:e};await this.apiService.sequencer.submitVote(n)}}class S8 extends dy{constructor(t,e){super(),this.contract=x6.OrganizationRegistry__factory.connect(t,e)}async getOrganization(t){const{name:e,metadataURI:n}=await this.contract.getOrganization(t);return{name:e,metadataURI:n}}async existsOrganization(t){return this.contract.exists(t)}async isAdministrator(t,e){return this.contract.isAdministrator(t,e)}async getOrganizationCount(){const t=await this.contract.organizationCount();return Number(t)}createOrganization(t,e,n){return this.sendTx(this.contract.createOrganization(t,e,n).catch(a=>{throw new nI(a.message,"create")}),async()=>({success:!0}))}updateOrganization(t,e,n){return this.sendTx(this.contract.updateOrganization(t,e,n).catch(a=>{throw new sI(a.message,"update")}),async()=>({success:!0}))}addAdministrator(t,e){return this.sendTx(this.contract.addAdministrator(t,e).catch(n=>{throw new I8(n.message,"addAdministrator")}),async()=>({success:!0}))}removeAdministrator(t,e){return this.sendTx(this.contract.removeAdministrator(t,e).catch(n=>{throw new I8(n.message,"removeAdministrator")}),async()=>({success:!0}))}deleteOrganization(t){return this.sendTx(this.contract.deleteOrganization(t).catch(e=>{throw new aI(e.message,"delete")}),async()=>({success:!0}))}onOrganizationCreated(t){this.setupEventListener(this.contract,this.contract.filters.OrganizationCreated(),t).catch(e=>console.error("Error setting up OrganizationCreated listener:",e))}onOrganizationUpdated(t){this.setupEventListener(this.contract,this.contract.filters.OrganizationUpdated(),t).catch(e=>console.error("Error setting up OrganizationUpdated listener:",e))}onAdministratorAdded(t){this.setupEventListener(this.contract,this.contract.filters.AdministratorAdded(),t).catch(e=>console.error("Error setting up AdministratorAdded listener:",e))}onAdministratorRemoved(t){this.setupEventListener(this.contract,this.contract.filters.AdministratorRemoved(),t).catch(e=>console.error("Error setting up AdministratorRemoved listener:",e))}removeAllListeners(){this.contract.removeAllListeners(),this.clearPollingIntervals()}}const Ma=class Ma{constructor(t){this.initialized=!1;const{wasmExecUrl:e,wasmUrl:n,initTimeoutMs:a,wasmExecHash:i,wasmHash:r}=t;if(!e)throw new Error("`wasmExecUrl` is required");if(!n)throw new Error("`wasmUrl` is required");this.wasmExecUrl=e,this.wasmUrl=n,this.initTimeoutMs=a??5e3,this.wasmExecHash=i,this.wasmHash=r}verifyHash(t,e,n){let a;typeof t=="string"?a=new TextEncoder().encode(t):a=new Uint8Array(t);const i=Ue(a).slice(2);if(i.toLowerCase()!==e.toLowerCase())throw new Error(`Hash verification failed for ${n}. Expected: ${e.toLowerCase()}, Computed: ${i.toLowerCase()}`)}async init(){if(this.initialized)return;let t=Ma.wasmExecCache.get(this.wasmExecUrl);if(!t){const i=await fetch(this.wasmExecUrl);if(!i.ok)throw new Error(`Failed to fetch wasm_exec.js from ${this.wasmExecUrl}`);t=await i.text(),this.wasmExecHash&&this.verifyHash(t,this.wasmExecHash,"wasm_exec.js"),Ma.wasmExecCache.set(this.wasmExecUrl,t)}if(new Function(t)(),typeof globalThis.Go!="function")throw new Error("Global `Go` constructor not found after loading wasm_exec.js");this.go=new globalThis.Go;let e=Ma.wasmBinaryCache.get(this.wasmUrl);if(!e){const i=await fetch(this.wasmUrl);if(!i.ok)throw new Error(`Failed to fetch ballotproof.wasm from ${this.wasmUrl}`);e=await i.arrayBuffer(),this.wasmHash&&this.verifyHash(e,this.wasmHash,"davinci_crypto.wasm"),Ma.wasmBinaryCache.set(this.wasmUrl,e)}const{instance:n}=await WebAssembly.instantiate(e,this.go.importObject);this.go.run(n).catch(()=>{});const a=Date.now()+this.initTimeoutMs;for(;Date.now()<a&&!globalThis.DavinciCrypto;)await new Promise(i=>setTimeout(i,50));if(!globalThis.DavinciCrypto)throw new Error("`DavinciCrypto` not initialized within timeout");this.initialized=!0}async proofInputs(t){if(!this.initialized)throw new Error("DavinciCrypto not initialized  call `await init()` first");const e=globalThis.DavinciCrypto.proofInputs(JSON.stringify(t));if(e.error)throw new Error(`Go/WASM proofInputs error: ${e.error}`);if(!e.data)throw new Error("Go/WASM proofInputs returned no data");return e.data}async cspSign(t,e,n,a,i){if(!this.initialized)throw new Error("DavinciCrypto not initialized  call `await init()` first");const r=globalThis.DavinciCrypto.cspSign(t,e,n,a,i);if(r.error)throw new Error(`Go/WASM cspSign error: ${r.error}`);if(!r.data)throw new Error("Go/WASM cspSign returned no data");return r.data}async cspVerify(t,e,n,a,i,r,o){if(!this.initialized)throw new Error("DavinciCrypto not initialized  call `await init()` first");const f={censusOrigin:t,root:e,address:n,weight:a,processId:i,publicKey:r,signature:o},l=globalThis.DavinciCrypto.cspVerify(JSON.stringify(f));if(l.error)throw new Error(`Go/WASM cspVerify error: ${l.error}`);if(!l.data)throw new Error("Go/WASM cspVerify returned no data");return l.data}async cspCensusRoot(t,e){if(!this.initialized)throw new Error("DavinciCrypto not initialized  call `await init()` first");const n=globalThis.DavinciCrypto.cspCensusRoot(t,e);if(n.error)throw new Error(`Go/WASM cspCensusRoot error: ${n.error}`);if(!n.data)throw new Error("Go/WASM cspCensusRoot returned no data");return n.data.root}};Ma.wasmExecCache=new Map,Ma.wasmBinaryCache=new Map;let Y2=Ma;class hI{constructor(t){this.initialized=!1;const e=!!t.addresses&&Object.keys(t.addresses).length>0;this.config={signer:t.signer,sequencerUrl:t.sequencerUrl,censusUrl:t.censusUrl,customAddresses:t.addresses||{},fetchAddressesFromSequencer:!e,verifyCircuitFiles:t.verifyCircuitFiles??!0,verifyProof:t.verifyProof??!0},this.apiService=new eI({sequencerURL:this.config.sequencerUrl,censusURL:this.config.censusUrl||""}),this.censusProviders=t.censusProviders||{}}async init(){this.initialized||(this.config.fetchAddressesFromSequencer&&await this.fetchContractAddressesFromSequencer(),this.config.censusUrl,this.initialized=!0)}get api(){return this.apiService}get processes(){if(this.ensureProvider(),!this._processRegistry){const t=this.resolveContractAddress("processRegistry");this._processRegistry=new B8(t,this.config.signer)}return this._processRegistry}get organizations(){if(this.ensureProvider(),!this._organizationRegistry){const t=this.resolveContractAddress("organizationRegistry");this._organizationRegistry=new S8(t,this.config.signer)}return this._organizationRegistry}async getCrypto(){if(!this.davinciCrypto){const t=await this.apiService.sequencer.getInfo();this.davinciCrypto=new Y2({wasmExecUrl:t.ballotProofWasmHelperExecJsUrl,wasmUrl:t.ballotProofWasmHelperUrl}),await this.davinciCrypto.init()}return this.davinciCrypto}get processOrchestrator(){return this.ensureProvider(),this._processOrchestrator||(this._processOrchestrator=new fI(this.processes,this.apiService,this.organizations,()=>this.getCrypto(),this.config.signer)),this._processOrchestrator}get voteOrchestrator(){return this._voteOrchestrator||(this._voteOrchestrator=new uI(this.apiService,()=>this.getCrypto(),this.config.signer,this.censusProviders,{verifyCircuitFiles:this.config.verifyCircuitFiles,verifyProof:this.config.verifyProof})),this._voteOrchestrator}async getProcess(t){if(!this.initialized)throw new Error("SDK must be initialized before getting processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.getProcess(t)}createProcessStream(t){if(!this.initialized)throw new Error("SDK must be initialized before creating processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.createProcessStream(t)}async createProcess(t){if(!this.initialized)throw new Error("SDK must be initialized before creating processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.createProcess(t)}async submitVote(t){if(!this.initialized)throw new Error("SDK must be initialized before submitting votes. Call sdk.init() first.");if(!this.config.censusUrl&&!this.censusProviders.merkle&&!this.censusProviders.csp)throw new Error("Census URL is required for voting. Provide censusUrl in the SDK constructor config, or use custom census providers.");return this.voteOrchestrator.submitVote(t)}async getVoteStatus(t,e){if(!this.initialized)throw new Error("SDK must be initialized before getting vote status. Call sdk.init() first.");return this.voteOrchestrator.getVoteStatus(t,e)}async hasAddressVoted(t,e){if(!this.initialized)throw new Error("SDK must be initialized before checking vote status. Call sdk.init() first.");return this.voteOrchestrator.hasAddressVoted(t,e)}async isAddressAbleToVote(t,e){if(!this.initialized)throw new Error("SDK must be initialized before checking if address can vote. Call sdk.init() first.");return this.apiService.sequencer.isAddressAbleToVote(t,e)}async getAddressWeight(t,e){if(!this.initialized)throw new Error("SDK must be initialized before getting address weight. Call sdk.init() first.");return this.apiService.sequencer.getAddressWeight(t,e)}watchVoteStatus(t,e,n){if(!this.initialized)throw new Error("SDK must be initialized before watching vote status. Call sdk.init() first.");return this.voteOrchestrator.watchVoteStatus(t,e,n)}async waitForVoteStatus(t,e,n=_0.Settled,a=3e5,i=5e3){if(!this.initialized)throw new Error("SDK must be initialized before waiting for vote status. Call sdk.init() first.");return this.voteOrchestrator.waitForVoteStatus(t,e,n,a,i)}endProcessStream(t){if(!this.initialized)throw new Error("SDK must be initialized before ending processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.endProcessStream(t)}async endProcess(t){if(!this.initialized)throw new Error("SDK must be initialized before ending processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.endProcess(t)}pauseProcessStream(t){if(!this.initialized)throw new Error("SDK must be initialized before pausing processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.pauseProcessStream(t)}async pauseProcess(t){if(!this.initialized)throw new Error("SDK must be initialized before pausing processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.pauseProcess(t)}cancelProcessStream(t){if(!this.initialized)throw new Error("SDK must be initialized before canceling processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.cancelProcessStream(t)}async cancelProcess(t){if(!this.initialized)throw new Error("SDK must be initialized before canceling processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.cancelProcess(t)}resumeProcessStream(t){if(!this.initialized)throw new Error("SDK must be initialized before resuming processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.resumeProcessStream(t)}async resumeProcess(t){if(!this.initialized)throw new Error("SDK must be initialized before resuming processes. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.resumeProcess(t)}setProcessMaxVotersStream(t,e){if(!this.initialized)throw new Error("SDK must be initialized before setting process maxVoters. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.setProcessMaxVotersStream(t,e)}async setProcessMaxVoters(t,e){if(!this.initialized)throw new Error("SDK must be initialized before setting process maxVoters. Call sdk.init() first.");return this.ensureProvider(),this.processOrchestrator.setProcessMaxVoters(t,e)}resolveContractAddress(t){const e=this.config.customAddresses[t];if(e)return e;if(!this.config.customAddresses[t])throw new Error(`Contract address for '${t}' not found. Make sure SDK is initialized with sdk.init() or provide custom addresses in config.`);return this.config.customAddresses[t]}async fetchContractAddressesFromSequencer(){try{const e=(await this.apiService.sequencer.getInfo()).contracts;e.process&&(this.config.customAddresses.processRegistry=e.process,this._processRegistry=new B8(e.process,this.config.signer)),e.organization&&(this.config.customAddresses.organizationRegistry=e.organization,this._organizationRegistry=new S8(e.organization,this.config.signer)),e.stateTransitionVerifier&&(this.config.customAddresses.stateTransitionVerifier=e.stateTransitionVerifier),e.resultsVerifier&&(this.config.customAddresses.resultsVerifier=e.resultsVerifier)}catch(t){throw new Error(`Failed to fetch contract addresses from sequencer: ${t instanceof Error?t.message:String(t)}. You can provide custom addresses in the SDK config to avoid this error.`)}}getConfig(){return{...this.config}}isInitialized(){return this.initialized}ensureProvider(){if(!this.config.signer.provider)throw new Error("Provider required for blockchain operations (process/organization management). The signer must be connected to a provider. Use wallet.connect(provider) or a browser signer like MetaMask. Note: Voting operations do not require a provider.")}}const uy="https://redirect.self.xyz",O8=/^[\x00-\x7F]*$/,bI=/^[0-9A-Fa-f]+$/,pI=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function gI(s){return`${uy}?selfApp=${encodeURIComponent(JSON.stringify(s))}`}function yI(s){return`${uy}?sessionId=${encodeURIComponent(s.sessionId)}`}function mI(s){return s?s.replace(/^https?:\/\//,"").split("/")[0]:""}function _I(s,t){return t==="hex"?bI.test(s):t==="uuid"?pI.test(s):!1}function Sn(s,t){if(!s)throw new Error(t)}function xI(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`session-${Math.random().toString(16).slice(2)}-${Date.now()}`}function wI({appName:s,scope:t,endpoint:e,endpointType:n,userId:a,userIdType:i="hex",disclosures:r={},userDefinedData:o="",deeplinkCallback:f=""}){Sn(s,"appName is required"),Sn(t,"scope is required"),Sn(e,"endpoint is required"),Sn(a,"userId is required"),Sn(O8.test(t),"scope must contain only ASCII characters"),Sn(O8.test(e),"endpoint must contain only ASCII characters"),Sn(t.length<=31,"scope must be 31 chars or less");const l=mI(e);Sn(l.length<=496,"endpoint must be less than 496 characters"),Sn(!l.includes("localhost")&&!l.includes("127.0.0.1"),"localhost endpoints are not allowed"),Sn(n==="celo"||n==="staging_celo","invalid endpoint type"),Sn(e.startsWith("0x"),"endpoint must be a valid address");let c=a.trim();return i==="hex"&&c.startsWith("0x")&&(c=c.slice(2)),Sn(_I(c,i),"userId is invalid for userIdType"),{appName:s,logoBase64:"",endpointType:n,endpoint:e,deeplinkCallback:f,header:"",scope:t,sessionId:xI(),userId:c,userIdType:i,devMode:!1,disclosures:r,version:2,chainID:n==="staging_celo"?11142220:42220,userDefinedData:o,selfDefinedData:""}}const LI={VITE_APP_NAME:"Open Citizen Census",VITE_CONTRACT_ADDRESS:"0x4495b142c70df1fa13b584615fc6a0684c365d68",VITE_DAVINCI_ENV:"dev",VITE_MIN_AGE:"18",VITE_NATIONALITY:"ESP",VITE_NETWORK:"celo",VITE_ONCHAIN_CENSUS_INDEXER_URL:"https://onchain-census-indexer.onrender.com",VITE_SCOPE:"open-citizen-census",VITE_SELF_DEEPLINK_CALLBACK:"",VITE_SELF_FORBIDDEN_COUNTRIES:"",VITE_SELF_OFAC_ENABLED:"0",VITE_SELF_USER_DATA:"",VITE_SELF_WEBSOCKET:"wss://websocket.self.xyz"},gn=LI,Ht={appName:gn.VITE_APP_NAME,endpoint:gn.VITE_CONTRACT_ADDRESS,scope:gn.VITE_SCOPE,endpointType:gn.VITE_NETWORK,minAge:Number(gn.VITE_MIN_AGE),nationality:gn.VITE_NATIONALITY,websocketUrl:gn.VITE_SELF_WEBSOCKET,userData:gn.VITE_SELF_USER_DATA,deeplinkCallback:gn.VITE_SELF_DEEPLINK_CALLBACK,ofacEnabled:gn.VITE_SELF_OFAC_ENABLED,forbiddenCountries:gn.VITE_SELF_FORBIDDEN_COUNTRIES,onchainIndexerUrl:gn.VITE_ONCHAIN_CENSUS_INDEXER_URL,davinciEnv:gn.VITE_DAVINCI_ENV};function AI(s){try{const t=String(s||"").replace(/-/g,"+").replace(/_/g,"/"),e=`${t}${"=".repeat((4-t.length%4)%4)}`,n=atob(e),a=Uint8Array.from(n,r=>r.charCodeAt(0)),i=new TextDecoder().decode(a);return JSON.parse(i)}catch{return null}}function EI(){const t=new URLSearchParams(window.location.search).get("env");if(!t)return;const e=AI(t);if(!e||typeof e!="object")return;const n=String(e.contractAddress??e.contract??"").trim();/^0x[a-fA-F0-9]{40}$/.test(n)&&(Ht.endpoint=n);const a=String(e.scope??"").trim();a&&a.length<=31&&(Ht.scope=a);const i=Number(e.minAge);Number.isFinite(i)&&i>0&&i<=99&&(Ht.minAge=Math.trunc(i));const r=String(e.nationality??"").trim().toUpperCase();/^[A-Z]{2,3}$/.test(r)&&(Ht.nationality=r);const o=String(e.network??"").trim();(o==="celo"||o==="staging_celo")&&(Ht.endpointType=o)}EI();const CI=document.getElementById("configApp"),vI=document.getElementById("configContract"),PI=document.getElementById("configScope"),II=document.getElementById("configNetwork"),TI=document.getElementById("configMinAge"),BI=document.getElementById("configNationality"),SI=document.querySelectorAll('[data-highlight="minAge"]'),OI=document.querySelectorAll('[data-highlight="nationality"]'),hy=document.getElementById("userAddress"),t6=document.getElementById("qr"),Ic=document.getElementById("link"),R8=document.getElementById("status"),Ai=document.getElementById("connectNotice"),M0=document.getElementById("connectWallet"),D5=document.getElementById("generate"),by=document.getElementById("copyLink"),F8=document.getElementById("connectPanel"),g1=document.getElementById("qrPanel"),y1=document.getElementById("progress"),m1=document.getElementById("progressFill"),N8=document.getElementById("signatureBadge"),k8=document.getElementById("registrationBadge"),U8=document.getElementById("view-home"),M8=document.getElementById("view-registration"),D8=document.getElementById("view-process"),z8=document.getElementById("processContract"),q8=document.getElementById("processCensusUri"),x0=document.getElementById("processEnv"),V8=document.getElementById("processProgress"),G8=document.getElementById("processProgressFill"),H8=document.getElementById("processConnectPanel"),j8=document.getElementById("processConfigPanel"),K8=document.getElementById("processResultPanel"),Tc=document.getElementById("processForm"),gr=document.getElementById("processConnect"),Ei=document.getElementById("processNotice"),e6=document.getElementById("processAccount"),Ou=document.getElementById("processTitle"),Ru=document.getElementById("processDescription"),Fu=document.getElementById("processMaxVoters"),zi=document.getElementById("processStart"),Nu=document.getElementById("processDuration"),$8=document.getElementById("questionCounter"),qr=document.getElementById("processLinkOutput"),Vf=document.getElementById("processStatus"),Jr=document.getElementById("processResult"),df=document.getElementById("processIdOutput"),_1=document.getElementById("addQuestion"),us=document.getElementById("questionList");let vn="",yr=!1,x1=!1,Ed=!1,Gf=null,Hf=null,Bc="",w1=!1,L1=!1;const A1=8,RI="0xdd4bc101",FI={celo:"Celo Mainnet",staging_celo:"Celo Sepolia (testnet)"},NI={celo:"0xa4ec",staging_celo:"0xaa044c"},kI={celo:"42220",staging_celo:"44787"},n6={production:{label:"Production",sequencerUrl:"https://sequencer1.davinci.vote",appUrl:"https://app.davinci.vote"},dev:{label:"Development",sequencerUrl:"https://sequencer-dev.davinci.vote",appUrl:"https://app-dev.davinci.vote"}};function ae(s,t=!1){R8.textContent=s,R8.style.color=t?"#ff9b9b":""}function py(s,t=!1){if(Ai){if(!s){Ai.classList.add("is-hidden"),Ai.textContent="",Ai.classList.remove("is-error"),M0.classList.remove("is-hidden");return}Ai.textContent=s,Ai.classList.toggle("is-error",t),Ai.classList.remove("is-hidden"),M0.classList.add("is-hidden")}}function Ve(s,t=!1){Vf&&(Vf.textContent=s,Vf.style.color=t?"#ff9b9b":"")}function Q8(s,t=!1){if(!(!Ei||!gr)){if(!s){Ei.classList.add("is-hidden"),Ei.textContent="",Ei.classList.remove("is-error"),gr.classList.remove("is-hidden");return}Ei.textContent=s,Ei.classList.toggle("is-error",t),Ei.classList.remove("is-hidden"),gr.classList.add("is-hidden")}}function Ir(){D5.disabled=!vn||!yr,by.disabled=!Ic.value,g1&&g1.classList.toggle("is-locked",!yr),N8&&N8.classList.toggle("is-hidden",!yr),k8&&k8.classList.toggle("is-hidden",!Ed),$I()}function z5(){if(!Tc||!gr||!e6)return;const s=!!Bc&&!w1;Tc.querySelectorAll('button[type="submit"]').forEach(t=>{t.disabled=!s}),gr.disabled=w1,yy()}function J8(s){if(w1=s,!Tc)return;Tc.querySelectorAll("input, textarea, button, select").forEach(e=>{var n,a,i;if(e.id!=="processConnect"){if(((n=e.dataset)==null?void 0:n.action)==="add-choice"||((a=e.dataset)==null?void 0:a.action)==="remove-choice"||((i=e.dataset)==null?void 0:i.action)==="remove-question"){e.disabled=s;return}if(e.tagName==="BUTTON"){e.disabled=s;return}e.disabled=s}}),z5()}function UI(){CI.textContent=Ht.appName,vI.textContent=Ht.endpoint||"Missing",PI.textContent=Ht.scope||"Missing",II.textContent=FI[Ht.endpointType]??Ht.endpointType;const s=V5(Ht.minAge);if(TI.textContent=s?String(s):"Missing",BI.textContent=Ht.nationality||"N/A",z8&&(z8.textContent=Ht.endpoint||"Missing"),q8&&(q8.textContent=gy()||"Missing"),x0){const t=n6[Ht.davinciEnv]?Ht.davinciEnv:"dev";x0.value=t}SI.forEach(t=>{t.textContent=s?`${s}+`:""}),OI.forEach(t=>{t.textContent=Ht.nationality||""})}function q5(){const s=[];return Ht.endpoint||s.push("VITE_CONTRACT_ADDRESS"),Ht.scope||s.push("VITE_SCOPE"),Ht.endpointType||s.push("VITE_NETWORK"),V5(Ht.minAge)||s.push("VITE_MIN_AGE"),s.length>0?(ae(`Missing env vars: ${s.join(", ")}`,!0),M0.disabled=!0,D5.disabled=!0,!1):(M0.disabled=!1,!0)}function MI(s){const t=String(s).trim().toLowerCase();return t==="1"||t==="true"||t==="yes"}function DI(s){return"".split(",").map(t=>t.trim()).filter(Boolean)}function V5(s){if(!Number.isFinite(s))return null;const t=Math.trunc(s);return t<=0||t>99?null:t}function gy(){const s=Ht.onchainIndexerUrl,t=Ht.endpoint,e=kI[Ht.endpointType];return!t||!e?"":`${s.replace(/\/$/,"")}/${e}/${t.toLowerCase()}/graphql`}function zI(){const s=(x0==null?void 0:x0.value)||Ht.davinciEnv;return n6[s]??n6.production}function qI(s){return s?s.startsWith("0x")?s:`0x${s}`:""}function yy(){if(!V8||!G8)return;let s=1;Bc?L1?s=3:s=2:s=1,V8.dataset.step=String(s);const t=s===1?0:s===2?50:100;G8.style.width=`${t}%`,document.documentElement&&document.documentElement.classList.add("process-steps-ready"),H8&&H8.classList.toggle("is-active",s===1),j8&&j8.classList.toggle("is-active",s===2),K8&&K8.classList.toggle("is-active",s===3)}function VI(s){const t=o=>String(o).padStart(2,"0"),e=s.getFullYear(),n=t(s.getMonth()+1),a=t(s.getDate()),i=t(s.getHours()),r=t(s.getMinutes());return`${e}-${n}-${a}T${i}:${r}`}function GI(){if(zi&&!zi.value){const s=new Date(Date.now()+6e5);zi.value=VI(s)}}function my(){Gf&&(Gf(),Gf=null)}function Sc(){Hf&&(Hf(),Hf=null)}function HI(s){const t=String(s||"").toLowerCase().replace(/^0x/,"");if(t.length!==40)throw new Error("Invalid address format");return RI+t.padStart(64,"0")}async function _y(s){if(!window.ethereum)throw new Error("No wallet provider");if(!Ht.endpoint)throw new Error("Missing contract address");const t=HI(s),e=await window.ethereum.request({method:"eth_call",params:[{to:Ht.endpoint,data:t},"latest"]});return BigInt(e)}async function jI(s){return await _y(s)>0n}function KI(s){if(Sc(),!s)return;const t=async()=>{try{await _y(s)>0n&&(Ed=!0,Ir(),ae("Registration confirmed. Your address is now in the census."),Sc())}catch{}};t();const e=setInterval(t,8e3);Hf=()=>clearInterval(e)}function $I(){if(!y1||!m1)return;let s=1;vn?s=2:s=1,y1.dataset.step=String(s);const t=vn?100:0;if(m1.style.width=`${t}%`,document.documentElement&&document.documentElement.classList.add("steps-ready"),g1){const e=s>=2;g1.classList.toggle("is-active",e)}F8&&F8.classList.toggle("is-active",s===1)}function QI(s){const t=Ht.websocketUrl;if(t.includes("localhost")||t.includes("127.0.0.1")){ae("Invalid Self websocket URL.",!0);return}const e=pf(`${t}/websocket`,{path:"/",query:{sessionId:s.sessionId,clientType:"web"},transports:["websocket"]});e.on("mobile_status",n=>{switch(n.status){case"mobile_connected":ae("Phone connected. Sending verification request"),e.emit("self_app",s);break;case"mobile_disconnected":ae("Waiting for Self app to connect");break;case"proof_generation_started":ae("Generating proof on your phone");break;case"proof_generated":ae("Proof generated. Verifying");break;case"proof_generation_failed":ae((n==null?void 0:n.reason)||"Proof generation failed. Please retry.",!0);break;case"proof_verified":ae("Proof verified. Complete the transaction on-chain.");break}}),e.on("connect_error",()=>{ae("Failed to connect to Self websocket.",!0)}),e.on("disconnect",()=>{ae("Waiting for Self app to connect")}),Gf=()=>e.disconnect()}async function xy(s=ae){const t=NI[Ht.endpointType]??null;if(!t||!window.ethereum||await window.ethereum.request({method:"eth_chainId"})===t)return!0;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]}),!0}catch{return s("Please switch MetaMask to the configured Celo network.",!0),!1}}async function JI(){if(!window.ethereum){ae("No wallet detected. Install a wallet like MetaMask.",!0);return}if(q5())try{if(py(""),!await xy())return;const t=await window.ethereum.request({method:"eth_requestAccounts"});if(t&&t.length>0){vn=t[0],hy.value=vn,yr=!1,x1=!1,Ed=!1,Sc(),ae("Wallet connected. Checking registration status");try{if(await jI(vn)){s6("This address is already registered in the census.",!1,!0,!0);return}}catch(e){const n=e instanceof Error?e.message:"Failed to check registration status";s6(n,!0,!0);return}Ir(),ae("Wallet connected. Requesting signature"),await WI(!0)}}catch(s){const t=s instanceof Error?s.message:"Wallet connection failed";ae(t,!0)}}async function WI(s=!1){if(!vn){ae("Connect wallet first.",!0);return}try{const t=new Date().toISOString(),e=["Open Citizen Census Registration",`Contract: ${Ht.endpoint}`,`Scope seed: ${Ht.scope}`,`Address: ${vn}`,`Network: ${Ht.endpointType}`,`Timestamp: ${t}`].join(`
`);await window.ethereum.request({method:"personal_sign",params:[e,vn]}),yr=!0,Ir(),ae("Signature captured. Generating QR"),await wy(!0)}catch(t){const e=t instanceof Error?t.message:"Signature request failed";s6(s?`${e}. Please reconnect your wallet.`:e,!0,!0)}}async function wy(s=!1){if(q5()){if(!vn){ae("Connect wallet first.",!0);return}if(!yr){ae("Signature required before generating the QR.",!0);return}try{ae("Generating QR");const t=V5(Ht.minAge);if(!t){ae("VITE_MIN_AGE must be a number between 1 and 99.",!0);return}const e={minimumAge:t,nationality:!0,date_of_birth:!0,ofac:MI(Ht.ofacEnabled)},n=DI(Ht.forbiddenCountries);n.length>0&&(e.excludedCountries=n);const a=wI({appName:Ht.appName,scope:Ht.scope,endpoint:Ht.endpoint.toLowerCase(),endpointType:Ht.endpointType,userId:vn,userIdType:"hex",disclosures:e,userDefinedData:Ht.userData,deeplinkCallback:Ht.deeplinkCallback||void 0});my(),QI(a);const i=yI(a),r=await al.toDataURL(i,{width:320,margin:1}),o=gI(a);t6.src=r,Ic.value=o,x1=!0,Ir(),ae("Ready. Scan the QR in the Self app to register."),KI(vn)}catch(t){const e=t instanceof Error?t.message:"Failed to generate QR";ae(e,!0),t6.removeAttribute("src"),Ic.value="",x1=!1,Sc(),Ir()}}}M0.addEventListener("click",JI);D5.addEventListener("click",wy);gr&&gr.addEventListener("click",tT);Tc&&Tc.addEventListener("submit",eT);_1&&_1.addEventListener("click",()=>{us&&(us.append(Ly()),G5())});us&&us.addEventListener("click",s=>{const t=s.target.closest("[data-action]");if(!t)return;const e=t.closest(".question-card");if(!e)return;const n=t.dataset.action;if(n==="add-choice"){const a=e.querySelector("[data-choices]");a&&a.append(a6()),i6(e)}if(n==="remove-choice"){const a=t.closest(".choice-row");a&&a.remove(),i6(e)}n==="remove-question"&&(e.remove(),G5())});window.addEventListener("beforeunload",()=>{my(),Sc()});by.addEventListener("click",async()=>{if(Ic.value)try{await navigator.clipboard.writeText(Ic.value),ae("Link copied to clipboard.")}catch{ae("Copy failed. Select the link and copy manually.",!0)}});function s6(s,t=!1,e=!1,n=!1){vn="",yr=!1,x1=!1,Ed=!1,Sc(),hy.value="",t6.removeAttribute("src"),Ic.value="",n||(y1&&(y1.dataset.step="1"),m1&&(m1.style.width="0%")),Ir(),e?(py(s||"Wallet disconnected. Connect again to continue.",t),ae("Connect wallet to start.")):s?ae(s,t):ae("Wallet disconnected. Connect again to continue.")}function a6(s=""){const t=document.createElement("div");t.className="choice-row";const e=document.createElement("input");e.type="text",e.placeholder="Choice label",e.value=s,e.className="choice-input";const n=document.createElement("button");return n.type="button",n.className="ghost small",n.textContent="Remove",n.dataset.action="remove-choice",t.append(e,n),t}function Ly(){const s=document.createElement("div");s.className="question-card",s.innerHTML=`
    <div class="question-head">
      <span class="question-index">Question</span>
      <button type="button" class="ghost small" data-action="remove-question">Remove</button>
    </div>
    <label>
      Question title
      <input type="text" class="question-title" placeholder="What should the census decide?" required />
    </label>
    <label>
      Question description
      <textarea class="question-description" rows="2" placeholder="Add context for voters (optional)."></textarea>
    </label>
    <div class="choice-list" data-choices></div>
    <div class="choice-actions">
      <button type="button" class="ghost small" data-action="add-choice">Add choice</button>
    </div>
  `;const t=s.querySelector("[data-choices]");return t&&(t.append(a6("Yes")),t.append(a6("No"))),s}function i6(s){const t=s.querySelectorAll(".choice-row");s.querySelectorAll('[data-action="remove-choice"]').forEach(n=>{n.disabled=t.length<=2})}function G5(){if(!us)return;const s=Array.from(us.querySelectorAll(".question-card"));s.forEach((t,e)=>{const n=t.querySelector(".question-index");n&&(n.textContent=`Question ${e+1}`);const a=t.querySelector('[data-action="remove-question"]');a&&(a.disabled=s.length<=1),i6(t)}),$8&&($8.textContent=`${s.length}/${A1} questions`),_1&&(_1.disabled=s.length>=A1)}function ZI(){us&&(us.innerHTML="",us.append(Ly()),G5())}function XI(){if(!us)return[];const s=Array.from(us.querySelectorAll(".question-card"));if(s.length===0)throw new Error("Add at least one question.");return s.map((t,e)=>{const n=t.querySelector(".question-title"),a=t.querySelector(".question-description"),i=(n==null?void 0:n.value.trim())||"";if(!i)throw new Error(`Question ${e+1} needs a title.`);const r=(a==null?void 0:a.value.trim())||"",f=Array.from(t.querySelectorAll(".choice-input")).map((l,c)=>{const h=l.value.trim();if(!h)throw new Error(`Question ${e+1} has an empty choice.`);return{title:h,value:c}}).filter(Boolean);if(f.length<2)throw new Error(`Question ${e+1} needs at least two choices.`);return{title:i,description:r,choices:f}})}function YI(s){const t=s.map(a=>a.choices.length-1),e=Math.max(...t),n=t.reduce((a,i)=>a+i,0);return{numFields:s.length,maxValue:String(e),minValue:"0",uniqueValues:!1,costFromWeight:!1,costExponent:1,maxValueSum:String(n),minValueSum:"0"}}async function tT(){if(!window.ethereum){Ve("No wallet detected. Install MetaMask to continue.",!0);return}try{if(Q8(""),!await xy(Ve))return;const t=await window.ethereum.request({method:"eth_requestAccounts"});t&&t.length>0&&(Bc=t[0],e6&&(e6.value=Bc),L1=!1,Jr&&Jr.classList.add("is-hidden"),Ve("Wallet connected. Ready to create the process."),Q8("Wallet connected",!1),z5())}catch(s){const t=s instanceof Error?s.message:"Wallet connection failed";Ve(t,!0)}}async function eT(s){if(s.preventDefault(),w1)return;if(!Bc){Ve("Connect a wallet to create the process.",!0);return}if(!Ht.endpoint){Ve("Missing Open Citizen Census contract address.",!0);return}const t=zI(),e=t.sequencerUrl,n=gy();if(!n){Ve("Onchain census indexer URL is required to build the census URI.",!0);return}const a=(Ou==null?void 0:Ou.value.trim())||"";if(!a){Ve("Process title is required.",!0);return}const i=(Ru==null?void 0:Ru.value.trim())||"",r=Number(Fu==null?void 0:Fu.value);if(!Number.isFinite(r)||r<=0){Ve("Maximum voters must be a positive number.",!0);return}const o=Number(Nu==null?void 0:Nu.value);if(!Number.isFinite(o)||o<=0){Ve("Duration must be greater than 0 hours.",!0);return}const f=Math.round(o*3600);let l=zi!=null&&zi.value?new Date(zi.value):null;(!l||Number.isNaN(l.getTime()))&&(l=new Date(Date.now()+10*60*1e3)),l.getTime()<Date.now()&&(l=new Date(Date.now()+10*60*1e3));let c;try{c=XI()}catch(m){const p=m instanceof Error?m.message:"Invalid questions";Ve(p,!0);return}if(c.length>A1){Ve(`Maximum ${A1} questions allowed.`,!0);return}const h=YI(c);try{J8(!0),L1=!1,Ve("Initializing Davinci SDK"),Jr&&Jr.classList.add("is-hidden"),df&&(df.textContent=""),qr&&(qr.textContent="",qr.removeAttribute("href"));const p=await new R0(window.ethereum).getSigner(Bc),C=new hI({signer:p,sequencerUrl:e});await C.init(),Ve("Creating process on-chain");const A=new JP(Ht.endpoint,n),w=await C.createProcess({title:a,description:i,census:A,maxVoters:r,ballot:h,timing:{startDate:l,duration:f},questions:c}),I=qI(w.processId);if(df&&(df.textContent=I),qr){const F=`${t.appUrl.replace(/\/$/,"")}/vote/${I}`;qr.href=F,qr.textContent=F}Jr&&Jr.classList.remove("is-hidden"),L1=!0,yy(),Ve("Process created. Process ID ready.")}catch(m){const p=m instanceof Error?m.message:"Failed to create process";Ve(p,!0)}finally{J8(!1)}}function H5(s){const t=String(s||"").replace("#","").toLowerCase();return t==="register"||t==="registration"?"register":t==="process"?"process":"home"}function j5(s){U8&&U8.classList.toggle("is-active",s==="home"),M8&&M8.classList.toggle("is-active",s==="register"),D8&&D8.classList.toggle("is-active",s==="process")}function nT(s){s==="home"?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash=s,j5(s)}document.querySelectorAll("[data-route]").forEach(s=>{s.addEventListener("click",()=>{const t=H5(s.dataset.route);nT(t)})});window.addEventListener("hashchange",()=>{j5(H5(window.location.hash))});UI();Ir();z5();ZI();GI();Vf&&Ve("Complete the form to create a new process and receive its ID.");q5()&&ae("Connect wallet to start.");j5(H5(window.location.hash));
